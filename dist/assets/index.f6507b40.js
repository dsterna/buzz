var II=Object.defineProperty;var PI=(e,t,n)=>t in e?II(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var A=(e,t,n)=>(PI(e,typeof t!="symbol"?t+"":t,n),n),Dm=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var u=(e,t,n)=>(Dm(e,t,"read from private field"),n?n.call(e):t.get(e)),m=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},E=(e,t,n,r)=>(Dm(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),_n=(e,t,n,r)=>({set _(i){E(e,t,i,n)},get _(){return u(e,t,r)}}),D=(e,t,n)=>(Dm(e,t,"access private method"),n);function RI(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in e)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const MI=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};MI();function OI(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function TI(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),t}var Dv={},Fp={exports:{}},$t={},O={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _f=Symbol.for("react.element"),NI=Symbol.for("react.portal"),LI=Symbol.for("react.fragment"),$I=Symbol.for("react.strict_mode"),AI=Symbol.for("react.profiler"),HI=Symbol.for("react.provider"),zI=Symbol.for("react.context"),FI=Symbol.for("react.forward_ref"),jI=Symbol.for("react.suspense"),UI=Symbol.for("react.memo"),BI=Symbol.for("react.lazy"),Ew=Symbol.iterator;function VI(e){return e===null||typeof e!="object"?null:(e=Ew&&e[Ew]||e["@@iterator"],typeof e=="function"?e:null)}var Jk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yk=Object.assign,Xk={};function Qa(e,t,n){this.props=e,this.context=t,this.refs=Xk,this.updater=n||Jk}Qa.prototype.isReactComponent={};Qa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zk(){}Zk.prototype=Qa.prototype;function _y(e,t,n){this.props=e,this.context=t,this.refs=Xk,this.updater=n||Jk}var Iy=_y.prototype=new Zk;Iy.constructor=_y;Yk(Iy,Qa.prototype);Iy.isPureReactComponent=!0;var Cw=Array.isArray,eE=Object.prototype.hasOwnProperty,Py={current:null},tE={key:!0,ref:!0,__self:!0,__source:!0};function nE(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)eE.call(t,r)&&!tE.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:_f,type:e,key:o,ref:s,props:i,_owner:Py.current}}function WI(e,t){return{$$typeof:_f,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ry(e){return typeof e=="object"&&e!==null&&e.$$typeof===_f}function GI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xw=/\/+/g;function bm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?GI(""+e.key):t.toString(36)}function Sd(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case _f:case NI:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+bm(s,0):r,Cw(i)?(n="",e!=null&&(n=e.replace(xw,"$&/")+"/"),Sd(i,t,n,"",function(c){return c})):i!=null&&(Ry(i)&&(i=WI(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(xw,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Cw(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+bm(o,a);s+=Sd(o,t,n,l,i)}else if(l=VI(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+bm(o,a++),s+=Sd(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Xf(e,t,n){if(e==null)return e;var r=[],i=0;return Sd(e,r,"","",function(o){return t.call(n,o,i++)}),r}function QI(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yt={current:null},kd={transition:null},KI={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:kd,ReactCurrentOwner:Py};ue.Children={map:Xf,forEach:function(e,t,n){Xf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xf(e,function(){t++}),t},toArray:function(e){return Xf(e,function(t){return t})||[]},only:function(e){if(!Ry(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=Qa;ue.Fragment=LI;ue.Profiler=AI;ue.PureComponent=_y;ue.StrictMode=$I;ue.Suspense=jI;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KI;ue.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Yk({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Py.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)eE.call(t,l)&&!tE.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:_f,type:e.type,key:i,ref:o,props:r,_owner:s}};ue.createContext=function(e){return e={$$typeof:zI,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:HI,_context:e},e.Consumer=e};ue.createElement=nE;ue.createFactory=function(e){var t=nE.bind(null,e);return t.type=e,t};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:FI,render:e}};ue.isValidElement=Ry;ue.lazy=function(e){return{$$typeof:BI,_payload:{_status:-1,_result:e},_init:QI}};ue.memo=function(e,t){return{$$typeof:UI,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=kd.transition;kd.transition={};try{e()}finally{kd.transition=t}};ue.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ue.useCallback=function(e,t){return yt.current.useCallback(e,t)};ue.useContext=function(e){return yt.current.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e){return yt.current.useDeferredValue(e)};ue.useEffect=function(e,t){return yt.current.useEffect(e,t)};ue.useId=function(){return yt.current.useId()};ue.useImperativeHandle=function(e,t,n){return yt.current.useImperativeHandle(e,t,n)};ue.useInsertionEffect=function(e,t){return yt.current.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return yt.current.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return yt.current.useMemo(e,t)};ue.useReducer=function(e,t,n){return yt.current.useReducer(e,t,n)};ue.useRef=function(e){return yt.current.useRef(e)};ue.useState=function(e){return yt.current.useState(e)};ue.useSyncExternalStore=function(e,t,n){return yt.current.useSyncExternalStore(e,t,n)};ue.useTransition=function(){return yt.current.useTransition()};ue.version="18.2.0";O.exports=ue;var Ka=O.exports,rE=RI({__proto__:null,default:Ka},[O.exports]),iE={exports:{}},oE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,B){var W=P.length;P.push(B);e:for(;0<W;){var K=W-1>>>1,ae=P[K];if(0<i(ae,B))P[K]=B,P[W]=ae,W=K;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var B=P[0],W=P.pop();if(W!==B){P[0]=W;e:for(var K=0,ae=P.length,$e=ae>>>1;K<$e;){var Ae=2*(K+1)-1,qn=P[Ae],en=Ae+1,Cr=P[en];if(0>i(qn,W))en<ae&&0>i(Cr,qn)?(P[K]=Cr,P[en]=W,K=en):(P[K]=qn,P[Ae]=W,K=Ae);else if(en<ae&&0>i(Cr,W))P[K]=Cr,P[en]=W,K=en;else break e}}return B}function i(P,B){var W=P.sortIndex-B.sortIndex;return W!==0?W:P.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],f=1,h=null,d=3,p=!1,w=!1,g=!1,C=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(P){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=P)r(c),B.sortIndex=B.expirationTime,t(l,B);else break;B=n(c)}}function S(P){if(g=!1,k(P),!w)if(n(l)!==null)w=!0,Q(x);else{var B=n(c);B!==null&&I(S,B.startTime-P)}}function x(P,B){w=!1,g&&(g=!1,v(T),T=-1),p=!0;var W=d;try{for(k(B),h=n(l);h!==null&&(!(h.expirationTime>B)||P&&!se());){var K=h.callback;if(typeof K=="function"){h.callback=null,d=h.priorityLevel;var ae=K(h.expirationTime<=B);B=e.unstable_now(),typeof ae=="function"?h.callback=ae:h===n(l)&&r(l),k(B)}else r(l);h=n(l)}if(h!==null)var $e=!0;else{var Ae=n(c);Ae!==null&&I(S,Ae.startTime-B),$e=!1}return $e}finally{h=null,d=W,p=!1}}var M=!1,_=null,T=-1,$=5,j=-1;function se(){return!(e.unstable_now()-j<$)}function ne(){if(_!==null){var P=e.unstable_now();j=P;var B=!0;try{B=_(!0,P)}finally{B?oe():(M=!1,_=null)}}else M=!1}var oe;if(typeof y=="function")oe=function(){y(ne)};else if(typeof MessageChannel!="undefined"){var U=new MessageChannel,H=U.port2;U.port1.onmessage=ne,oe=function(){H.postMessage(null)}}else oe=function(){C(ne,0)};function Q(P){_=P,M||(M=!0,oe())}function I(P,B){T=C(function(){P(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,Q(x))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var W=d;d=B;try{return P()}finally{d=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,B){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var W=d;d=P;try{return B()}finally{d=W}},e.unstable_scheduleCallback=function(P,B,W){var K=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?K+W:K):W=K,P){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=W+ae,P={id:f++,callback:B,priorityLevel:P,startTime:W,expirationTime:ae,sortIndex:-1},W>K?(P.sortIndex=W,t(c,P),n(l)===null&&P===n(c)&&(g?(v(T),T=-1):g=!0,I(S,W-K))):(P.sortIndex=ae,t(l,P),w||p||(w=!0,Q(x))),P},e.unstable_shouldYield=se,e.unstable_wrapCallback=function(P){var B=d;return function(){var W=d;d=B;try{return P.apply(this,arguments)}finally{d=W}}}})(oE);iE.exports=oE;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE=O.exports,Lt=iE.exports;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aE=new Set,Gl={};function Mo(e,t){Na(e,t),Na(e+"Capture",t)}function Na(e,t){for(Gl[e]=t,e=0;e<t.length;e++)aE.add(t[e])}var hr=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),bv=Object.prototype.hasOwnProperty,qI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dw={},bw={};function JI(e){return bv.call(bw,e)?!0:bv.call(Dw,e)?!1:qI.test(e)?bw[e]=!0:(Dw[e]=!0,!1)}function YI(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function XI(e,t,n,r){if(t===null||typeof t=="undefined"||YI(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wt(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nt[e]=new wt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nt[t]=new wt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nt[e]=new wt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nt[e]=new wt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nt[e]=new wt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nt[e]=new wt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nt[e]=new wt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nt[e]=new wt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nt[e]=new wt(e,5,!1,e.toLowerCase(),null,!1,!1)});var My=/[\-:]([a-z])/g;function Oy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(My,Oy);nt[t]=new wt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(My,Oy);nt[t]=new wt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(My,Oy);nt[t]=new wt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nt[e]=new wt(e,1,!1,e.toLowerCase(),null,!1,!1)});nt.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nt[e]=new wt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ty(e,t,n,r){var i=nt.hasOwnProperty(t)?nt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(XI(t,n,i,r)&&(n=null),r||i===null?JI(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Sr=sE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zf=Symbol.for("react.element"),Ao=Symbol.for("react.portal"),Ho=Symbol.for("react.fragment"),Ny=Symbol.for("react.strict_mode"),_v=Symbol.for("react.profiler"),lE=Symbol.for("react.provider"),uE=Symbol.for("react.context"),Ly=Symbol.for("react.forward_ref"),Iv=Symbol.for("react.suspense"),Pv=Symbol.for("react.suspense_list"),$y=Symbol.for("react.memo"),Mr=Symbol.for("react.lazy"),cE=Symbol.for("react.offscreen"),_w=Symbol.iterator;function al(e){return e===null||typeof e!="object"?null:(e=_w&&e[_w]||e["@@iterator"],typeof e=="function"?e:null)}var Ie=Object.assign,_m;function kl(e){if(_m===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_m=t&&t[1]||""}return`
`+_m+e}var Im=!1;function Pm(e,t){if(!e||Im)return"";Im=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Im=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?kl(e):""}function ZI(e){switch(e.tag){case 5:return kl(e.type);case 16:return kl("Lazy");case 13:return kl("Suspense");case 19:return kl("SuspenseList");case 0:case 2:case 15:return e=Pm(e.type,!1),e;case 11:return e=Pm(e.type.render,!1),e;case 1:return e=Pm(e.type,!0),e;default:return""}}function Rv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ho:return"Fragment";case Ao:return"Portal";case _v:return"Profiler";case Ny:return"StrictMode";case Iv:return"Suspense";case Pv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uE:return(e.displayName||"Context")+".Consumer";case lE:return(e._context.displayName||"Context")+".Provider";case Ly:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $y:return t=e.displayName||null,t!==null?t:Rv(e.type)||"Memo";case Mr:t=e._payload,e=e._init;try{return Rv(e(t))}catch{}}return null}function eP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rv(t);case 8:return t===Ny?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tP(e){var t=fE(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ed(e){e._valueTracker||(e._valueTracker=tP(e))}function dE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=fE(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ih(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mv(e,t){var n=t.checked;return Ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function Iw(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=hi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hE(e,t){t=t.checked,t!=null&&Ty(e,"checked",t,!1)}function Ov(e,t){hE(e,t);var n=hi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Tv(e,t.type,n):t.hasOwnProperty("defaultValue")&&Tv(e,t.type,hi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pw(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Tv(e,t,n){(t!=="number"||ih(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var El=Array.isArray;function ts(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+hi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Nv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rw(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(El(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:hi(n)}}function pE(e,t){var n=hi(t.value),r=hi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Mw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var td,vE=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(td=td||document.createElement("div"),td.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=td.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ql(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Il={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nP=["Webkit","ms","Moz","O"];Object.keys(Il).forEach(function(e){nP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Il[t]=Il[e]})});function gE(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Il.hasOwnProperty(e)&&Il[e]?(""+t).trim():t+"px"}function yE(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=gE(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var rP=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $v(e,t){if(t){if(rP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function Av(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hv=null;function Ay(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zv=null,ns=null,rs=null;function Ow(e){if(e=Rf(e)){if(typeof zv!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Wp(t),zv(e.stateNode,e.type,t))}}function wE(e){ns?rs?rs.push(e):rs=[e]:ns=e}function SE(){if(ns){var e=ns,t=rs;if(rs=ns=null,Ow(e),t)for(e=0;e<t.length;e++)Ow(t[e])}}function kE(e,t){return e(t)}function EE(){}var Rm=!1;function CE(e,t,n){if(Rm)return e(t,n);Rm=!0;try{return kE(e,t,n)}finally{Rm=!1,(ns!==null||rs!==null)&&(EE(),SE())}}function Kl(e,t){var n=e.stateNode;if(n===null)return null;var r=Wp(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var Fv=!1;if(hr)try{var ll={};Object.defineProperty(ll,"passive",{get:function(){Fv=!0}}),window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{Fv=!1}function iP(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var Pl=!1,oh=null,sh=!1,jv=null,oP={onError:function(e){Pl=!0,oh=e}};function sP(e,t,n,r,i,o,s,a,l){Pl=!1,oh=null,iP.apply(oP,arguments)}function aP(e,t,n,r,i,o,s,a,l){if(sP.apply(this,arguments),Pl){if(Pl){var c=oh;Pl=!1,oh=null}else throw Error(F(198));sh||(sh=!0,jv=c)}}function Oo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tw(e){if(Oo(e)!==e)throw Error(F(188))}function lP(e){var t=e.alternate;if(!t){if(t=Oo(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Tw(i),e;if(o===r)return Tw(i),t;o=o.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function DE(e){return e=lP(e),e!==null?bE(e):null}function bE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bE(e);if(t!==null)return t;e=e.sibling}return null}var _E=Lt.unstable_scheduleCallback,Nw=Lt.unstable_cancelCallback,uP=Lt.unstable_shouldYield,cP=Lt.unstable_requestPaint,Le=Lt.unstable_now,fP=Lt.unstable_getCurrentPriorityLevel,Hy=Lt.unstable_ImmediatePriority,IE=Lt.unstable_UserBlockingPriority,ah=Lt.unstable_NormalPriority,dP=Lt.unstable_LowPriority,PE=Lt.unstable_IdlePriority,jp=null,Vn=null;function hP(e){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(jp,e,void 0,(e.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:vP,pP=Math.log,mP=Math.LN2;function vP(e){return e>>>=0,e===0?32:31-(pP(e)/mP|0)|0}var nd=64,rd=4194304;function Cl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Cl(a):(o&=s,o!==0&&(r=Cl(o)))}else s=n&~i,s!==0?r=Cl(s):o!==0&&(r=Cl(o));if(r===0)return 0;if(t!==0&&t!==r&&(t&i)===0&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-yn(t),i=1<<n,r|=e[n],t&=~i;return r}function gP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yP(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-yn(o),a=1<<s,l=i[s];l===-1?((a&n)===0||(a&r)!==0)&&(i[s]=gP(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Uv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function RE(){var e=nd;return nd<<=1,(nd&4194240)===0&&(nd=64),e}function Mm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function If(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yn(t),e[t]=n}function wP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-yn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function zy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-yn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var pe=0;function ME(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var OE,Fy,TE,NE,LE,Bv=!1,id=[],ii=null,oi=null,si=null,ql=new Map,Jl=new Map,Tr=[],SP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lw(e,t){switch(e){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":si=null;break;case"pointerover":case"pointerout":ql.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(t.pointerId)}}function ul(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Rf(t),t!==null&&Fy(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function kP(e,t,n,r,i){switch(t){case"focusin":return ii=ul(ii,e,t,n,r,i),!0;case"dragenter":return oi=ul(oi,e,t,n,r,i),!0;case"mouseover":return si=ul(si,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ql.set(o,ul(ql.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Jl.set(o,ul(Jl.get(o)||null,e,t,n,r,i)),!0}return!1}function $E(e){var t=Ni(e.target);if(t!==null){var n=Oo(t);if(n!==null){if(t=n.tag,t===13){if(t=xE(n),t!==null){e.blockedOn=t,LE(e.priority,function(){TE(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ed(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Hv=r,n.target.dispatchEvent(r),Hv=null}else return t=Rf(n),t!==null&&Fy(t),e.blockedOn=n,!1;t.shift()}return!0}function $w(e,t,n){Ed(e)&&n.delete(t)}function EP(){Bv=!1,ii!==null&&Ed(ii)&&(ii=null),oi!==null&&Ed(oi)&&(oi=null),si!==null&&Ed(si)&&(si=null),ql.forEach($w),Jl.forEach($w)}function cl(e,t){e.blockedOn===t&&(e.blockedOn=null,Bv||(Bv=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,EP)))}function Yl(e){function t(i){return cl(i,e)}if(0<id.length){cl(id[0],e);for(var n=1;n<id.length;n++){var r=id[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ii!==null&&cl(ii,e),oi!==null&&cl(oi,e),si!==null&&cl(si,e),ql.forEach(t),Jl.forEach(t),n=0;n<Tr.length;n++)r=Tr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Tr.length&&(n=Tr[0],n.blockedOn===null);)$E(n),n.blockedOn===null&&Tr.shift()}var is=Sr.ReactCurrentBatchConfig,uh=!0;function CP(e,t,n,r){var i=pe,o=is.transition;is.transition=null;try{pe=1,jy(e,t,n,r)}finally{pe=i,is.transition=o}}function xP(e,t,n,r){var i=pe,o=is.transition;is.transition=null;try{pe=4,jy(e,t,n,r)}finally{pe=i,is.transition=o}}function jy(e,t,n,r){if(uh){var i=Vv(e,t,n,r);if(i===null)jm(e,t,r,ch,n),Lw(e,r);else if(kP(i,e,t,n,r))r.stopPropagation();else if(Lw(e,r),t&4&&-1<SP.indexOf(e)){for(;i!==null;){var o=Rf(i);if(o!==null&&OE(o),o=Vv(e,t,n,r),o===null&&jm(e,t,r,ch,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else jm(e,t,r,null,n)}}var ch=null;function Vv(e,t,n,r){if(ch=null,e=Ay(r),e=Ni(e),e!==null)if(t=Oo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xE(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ch=e,null}function AE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fP()){case Hy:return 1;case IE:return 4;case ah:case dP:return 16;case PE:return 536870912;default:return 16}default:return 16}}var ei=null,Uy=null,Cd=null;function HE(){if(Cd)return Cd;var e,t=Uy,n=t.length,r,i="value"in ei?ei.value:ei.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Cd=i.slice(e,1<r?1-r:void 0)}function xd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function od(){return!0}function Aw(){return!1}function At(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?od:Aw,this.isPropagationStopped=Aw,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=od)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=od)},persist:function(){},isPersistent:od}),t}var qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},By=At(qa),Pf=Ie({},qa,{view:0,detail:0}),DP=At(Pf),Om,Tm,fl,Up=Ie({},Pf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fl&&(fl&&e.type==="mousemove"?(Om=e.screenX-fl.screenX,Tm=e.screenY-fl.screenY):Tm=Om=0,fl=e),Om)},movementY:function(e){return"movementY"in e?e.movementY:Tm}}),Hw=At(Up),bP=Ie({},Up,{dataTransfer:0}),_P=At(bP),IP=Ie({},Pf,{relatedTarget:0}),Nm=At(IP),PP=Ie({},qa,{animationName:0,elapsedTime:0,pseudoElement:0}),RP=At(PP),MP=Ie({},qa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),OP=At(MP),TP=Ie({},qa,{data:0}),zw=At(TP),NP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$P={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$P[e])?!!t[e]:!1}function Vy(){return AP}var HP=Ie({},Pf,{key:function(e){if(e.key){var t=NP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?LP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vy,charCode:function(e){return e.type==="keypress"?xd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zP=At(HP),FP=Ie({},Up,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fw=At(FP),jP=Ie({},Pf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vy}),UP=At(jP),BP=Ie({},qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),VP=At(BP),WP=Ie({},Up,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),GP=At(WP),QP=[9,13,27,32],Wy=hr&&"CompositionEvent"in window,Rl=null;hr&&"documentMode"in document&&(Rl=document.documentMode);var KP=hr&&"TextEvent"in window&&!Rl,zE=hr&&(!Wy||Rl&&8<Rl&&11>=Rl),jw=String.fromCharCode(32),Uw=!1;function FE(e,t){switch(e){case"keyup":return QP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zo=!1;function qP(e,t){switch(e){case"compositionend":return jE(t);case"keypress":return t.which!==32?null:(Uw=!0,jw);case"textInput":return e=t.data,e===jw&&Uw?null:e;default:return null}}function JP(e,t){if(zo)return e==="compositionend"||!Wy&&FE(e,t)?(e=HE(),Cd=Uy=ei=null,zo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zE&&t.locale!=="ko"?null:t.data;default:return null}}var YP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!YP[e.type]:t==="textarea"}function UE(e,t,n,r){wE(r),t=fh(t,"onChange"),0<t.length&&(n=new By("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ml=null,Xl=null;function XP(e){ZE(e,0)}function Bp(e){var t=Uo(e);if(dE(t))return e}function ZP(e,t){if(e==="change")return t}var BE=!1;if(hr){var Lm;if(hr){var $m="oninput"in document;if(!$m){var Vw=document.createElement("div");Vw.setAttribute("oninput","return;"),$m=typeof Vw.oninput=="function"}Lm=$m}else Lm=!1;BE=Lm&&(!document.documentMode||9<document.documentMode)}function Ww(){Ml&&(Ml.detachEvent("onpropertychange",VE),Xl=Ml=null)}function VE(e){if(e.propertyName==="value"&&Bp(Xl)){var t=[];UE(t,Xl,e,Ay(e)),CE(XP,t)}}function eR(e,t,n){e==="focusin"?(Ww(),Ml=t,Xl=n,Ml.attachEvent("onpropertychange",VE)):e==="focusout"&&Ww()}function tR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bp(Xl)}function nR(e,t){if(e==="click")return Bp(t)}function rR(e,t){if(e==="input"||e==="change")return Bp(t)}function iR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cn=typeof Object.is=="function"?Object.is:iR;function Zl(e,t){if(Cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bv.call(t,i)||!Cn(e[i],t[i]))return!1}return!0}function Gw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qw(e,t){var n=Gw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gw(n)}}function WE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?WE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function GE(){for(var e=window,t=ih();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ih(e.document)}return t}function Gy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function oR(e){var t=GE(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&WE(n.ownerDocument.documentElement,n)){if(r!==null&&Gy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Qw(n,o);var s=Qw(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sR=hr&&"documentMode"in document&&11>=document.documentMode,Fo=null,Wv=null,Ol=null,Gv=!1;function Kw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gv||Fo==null||Fo!==ih(r)||(r=Fo,"selectionStart"in r&&Gy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ol&&Zl(Ol,r)||(Ol=r,r=fh(Wv,"onSelect"),0<r.length&&(t=new By("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fo)))}function sd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jo={animationend:sd("Animation","AnimationEnd"),animationiteration:sd("Animation","AnimationIteration"),animationstart:sd("Animation","AnimationStart"),transitionend:sd("Transition","TransitionEnd")},Am={},QE={};hr&&(QE=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function Vp(e){if(Am[e])return Am[e];if(!jo[e])return e;var t=jo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in QE)return Am[e]=t[n];return e}var KE=Vp("animationend"),qE=Vp("animationiteration"),JE=Vp("animationstart"),YE=Vp("transitionend"),XE=new Map,qw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(e,t){XE.set(e,t),Mo(t,[e])}for(var Hm=0;Hm<qw.length;Hm++){var zm=qw[Hm],aR=zm.toLowerCase(),lR=zm[0].toUpperCase()+zm.slice(1);wi(aR,"on"+lR)}wi(KE,"onAnimationEnd");wi(qE,"onAnimationIteration");wi(JE,"onAnimationStart");wi("dblclick","onDoubleClick");wi("focusin","onFocus");wi("focusout","onBlur");wi(YE,"onTransitionEnd");Na("onMouseEnter",["mouseout","mouseover"]);Na("onMouseLeave",["mouseout","mouseover"]);Na("onPointerEnter",["pointerout","pointerover"]);Na("onPointerLeave",["pointerout","pointerover"]);Mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uR=new Set("cancel close invalid load scroll toggle".split(" ").concat(xl));function Jw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,aP(r,t,void 0,e),e.currentTarget=null}function ZE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Jw(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Jw(i,a,c),o=l}}}if(sh)throw e=jv,sh=!1,jv=null,e}function Se(e,t){var n=t[Yv];n===void 0&&(n=t[Yv]=new Set);var r=e+"__bubble";n.has(r)||(eC(t,e,2,!1),n.add(r))}function Fm(e,t,n){var r=0;t&&(r|=4),eC(n,e,r,t)}var ad="_reactListening"+Math.random().toString(36).slice(2);function eu(e){if(!e[ad]){e[ad]=!0,aE.forEach(function(n){n!=="selectionchange"&&(uR.has(n)||Fm(n,!1,e),Fm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ad]||(t[ad]=!0,Fm("selectionchange",!1,t))}}function eC(e,t,n,r){switch(AE(t)){case 1:var i=CP;break;case 4:i=xP;break;default:i=jy}n=i.bind(null,t,n,e),i=void 0,!Fv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jm(e,t,n,r,i){var o=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ni(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}CE(function(){var c=o,f=Ay(n),h=[];e:{var d=XE.get(e);if(d!==void 0){var p=By,w=e;switch(e){case"keypress":if(xd(n)===0)break e;case"keydown":case"keyup":p=zP;break;case"focusin":w="focus",p=Nm;break;case"focusout":w="blur",p=Nm;break;case"beforeblur":case"afterblur":p=Nm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Hw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=_P;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=UP;break;case KE:case qE:case JE:p=RP;break;case YE:p=VP;break;case"scroll":p=DP;break;case"wheel":p=GP;break;case"copy":case"cut":case"paste":p=OP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Fw}var g=(t&4)!==0,C=!g&&e==="scroll",v=g?d!==null?d+"Capture":null:d;g=[];for(var y=c,k;y!==null;){k=y;var S=k.stateNode;if(k.tag===5&&S!==null&&(k=S,v!==null&&(S=Kl(y,v),S!=null&&g.push(tu(y,S,k)))),C)break;y=y.return}0<g.length&&(d=new p(d,w,null,n,f),h.push({event:d,listeners:g}))}}if((t&7)===0){e:{if(d=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",d&&n!==Hv&&(w=n.relatedTarget||n.fromElement)&&(Ni(w)||w[pr]))break e;if((p||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=c,w=w?Ni(w):null,w!==null&&(C=Oo(w),w!==C||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=c),p!==w)){if(g=Hw,S="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=Fw,S="onPointerLeave",v="onPointerEnter",y="pointer"),C=p==null?d:Uo(p),k=w==null?d:Uo(w),d=new g(S,y+"leave",p,n,f),d.target=C,d.relatedTarget=k,S=null,Ni(f)===c&&(g=new g(v,y+"enter",w,n,f),g.target=k,g.relatedTarget=C,S=g),C=S,p&&w)t:{for(g=p,v=w,y=0,k=g;k;k=$o(k))y++;for(k=0,S=v;S;S=$o(S))k++;for(;0<y-k;)g=$o(g),y--;for(;0<k-y;)v=$o(v),k--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=$o(g),v=$o(v)}g=null}else g=null;p!==null&&Yw(h,d,p,g,!1),w!==null&&C!==null&&Yw(h,C,w,g,!0)}}e:{if(d=c?Uo(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var x=ZP;else if(Bw(d))if(BE)x=rR;else{x=tR;var M=eR}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=nR);if(x&&(x=x(e,c))){UE(h,x,n,f);break e}M&&M(e,d,c),e==="focusout"&&(M=d._wrapperState)&&M.controlled&&d.type==="number"&&Tv(d,"number",d.value)}switch(M=c?Uo(c):window,e){case"focusin":(Bw(M)||M.contentEditable==="true")&&(Fo=M,Wv=c,Ol=null);break;case"focusout":Ol=Wv=Fo=null;break;case"mousedown":Gv=!0;break;case"contextmenu":case"mouseup":case"dragend":Gv=!1,Kw(h,n,f);break;case"selectionchange":if(sR)break;case"keydown":case"keyup":Kw(h,n,f)}var _;if(Wy)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else zo?FE(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(zE&&n.locale!=="ko"&&(zo||T!=="onCompositionStart"?T==="onCompositionEnd"&&zo&&(_=HE()):(ei=f,Uy="value"in ei?ei.value:ei.textContent,zo=!0)),M=fh(c,T),0<M.length&&(T=new zw(T,e,null,n,f),h.push({event:T,listeners:M}),_?T.data=_:(_=jE(n),_!==null&&(T.data=_)))),(_=KP?qP(e,n):JP(e,n))&&(c=fh(c,"onBeforeInput"),0<c.length&&(f=new zw("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:c}),f.data=_))}ZE(h,t)})}function tu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fh(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Kl(e,n),o!=null&&r.unshift(tu(e,o,i)),o=Kl(e,t),o!=null&&r.push(tu(e,o,i))),e=e.return}return r}function $o(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yw(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Kl(n,o),l!=null&&s.unshift(tu(n,l,a))):i||(l=Kl(n,o),l!=null&&s.push(tu(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var cR=/\r\n?/g,fR=/\u0000|\uFFFD/g;function Xw(e){return(typeof e=="string"?e:""+e).replace(cR,`
`).replace(fR,"")}function ld(e,t,n){if(t=Xw(t),Xw(e)!==t&&n)throw Error(F(425))}function dh(){}var Qv=null,Kv=null;function qv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jv=typeof setTimeout=="function"?setTimeout:void 0,dR=typeof clearTimeout=="function"?clearTimeout:void 0,Zw=typeof Promise=="function"?Promise:void 0,hR=typeof queueMicrotask=="function"?queueMicrotask:typeof Zw!="undefined"?function(e){return Zw.resolve(null).then(e).catch(pR)}:Jv;function pR(e){setTimeout(function(){throw e})}function Um(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Yl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Yl(t)}function ai(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function e1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ja=Math.random().toString(36).slice(2),jn="__reactFiber$"+Ja,nu="__reactProps$"+Ja,pr="__reactContainer$"+Ja,Yv="__reactEvents$"+Ja,mR="__reactListeners$"+Ja,vR="__reactHandles$"+Ja;function Ni(e){var t=e[jn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pr]||n[jn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=e1(e);e!==null;){if(n=e[jn])return n;e=e1(e)}return t}e=n,n=e.parentNode}return null}function Rf(e){return e=e[jn]||e[pr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Uo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Wp(e){return e[nu]||null}var Xv=[],Bo=-1;function Si(e){return{current:e}}function Ee(e){0>Bo||(e.current=Xv[Bo],Xv[Bo]=null,Bo--)}function we(e,t){Bo++,Xv[Bo]=e.current,e.current=t}var pi={},dt=Si(pi),xt=Si(!1),Co=pi;function La(e,t){var n=e.type.contextTypes;if(!n)return pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Dt(e){return e=e.childContextTypes,e!=null}function hh(){Ee(xt),Ee(dt)}function t1(e,t,n){if(dt.current!==pi)throw Error(F(168));we(dt,t),we(xt,n)}function tC(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(F(108,eP(e)||"Unknown",i));return Ie({},n,r)}function ph(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pi,Co=dt.current,we(dt,e),we(xt,xt.current),!0}function n1(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=tC(e,t,Co),r.__reactInternalMemoizedMergedChildContext=e,Ee(xt),Ee(dt),we(dt,e)):Ee(xt),we(xt,n)}var Zn=null,Gp=!1,Bm=!1;function nC(e){Zn===null?Zn=[e]:Zn.push(e)}function gR(e){Gp=!0,nC(e)}function ki(){if(!Bm&&Zn!==null){Bm=!0;var e=0,t=pe;try{var n=Zn;for(pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Zn=null,Gp=!1}catch(i){throw Zn!==null&&(Zn=Zn.slice(e+1)),_E(Hy,ki),i}finally{pe=t,Bm=!1}}return null}var Vo=[],Wo=0,mh=null,vh=0,Kt=[],qt=0,xo=null,ur=1,cr="";function Pi(e,t){Vo[Wo++]=vh,Vo[Wo++]=mh,mh=e,vh=t}function rC(e,t,n){Kt[qt++]=ur,Kt[qt++]=cr,Kt[qt++]=xo,xo=e;var r=ur;e=cr;var i=32-yn(r)-1;r&=~(1<<i),n+=1;var o=32-yn(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ur=1<<32-yn(t)+i|n<<i|r,cr=o+e}else ur=1<<o|n<<i|r,cr=e}function Qy(e){e.return!==null&&(Pi(e,1),rC(e,1,0))}function Ky(e){for(;e===mh;)mh=Vo[--Wo],Vo[Wo]=null,vh=Vo[--Wo],Vo[Wo]=null;for(;e===xo;)xo=Kt[--qt],Kt[qt]=null,cr=Kt[--qt],Kt[qt]=null,ur=Kt[--qt],Kt[qt]=null}var Nt=null,Tt=null,Ce=!1,mn=null;function iC(e,t){var n=Jt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function r1(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nt=e,Tt=ai(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nt=e,Tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=xo!==null?{id:ur,overflow:cr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Jt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Nt=e,Tt=null,!0):!1;default:return!1}}function Zv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function eg(e){if(Ce){var t=Tt;if(t){var n=t;if(!r1(e,t)){if(Zv(e))throw Error(F(418));t=ai(n.nextSibling);var r=Nt;t&&r1(e,t)?iC(r,n):(e.flags=e.flags&-4097|2,Ce=!1,Nt=e)}}else{if(Zv(e))throw Error(F(418));e.flags=e.flags&-4097|2,Ce=!1,Nt=e}}}function i1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nt=e}function ud(e){if(e!==Nt)return!1;if(!Ce)return i1(e),Ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qv(e.type,e.memoizedProps)),t&&(t=Tt)){if(Zv(e))throw oC(),Error(F(418));for(;t;)iC(e,t),t=ai(t.nextSibling)}if(i1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Tt=ai(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Tt=null}}else Tt=Nt?ai(e.stateNode.nextSibling):null;return!0}function oC(){for(var e=Tt;e;)e=ai(e.nextSibling)}function $a(){Tt=Nt=null,Ce=!1}function qy(e){mn===null?mn=[e]:mn.push(e)}var yR=Sr.ReactCurrentBatchConfig;function rn(e,t){if(e&&e.defaultProps){t=Ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var gh=Si(null),yh=null,Go=null,Jy=null;function Yy(){Jy=Go=yh=null}function Xy(e){var t=gh.current;Ee(gh),e._currentValue=t}function tg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function os(e,t){yh=e,Jy=Go=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ct=!0),e.firstContext=null)}function Xt(e){var t=e._currentValue;if(Jy!==e)if(e={context:e,memoizedValue:t,next:null},Go===null){if(yh===null)throw Error(F(308));Go=e,yh.dependencies={lanes:0,firstContext:e}}else Go=Go.next=e;return t}var Li=null;function Zy(e){Li===null?Li=[e]:Li.push(e)}function sC(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Zy(t)):(n.next=i.next,i.next=n),t.interleaved=n,mr(e,r)}function mr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Or=!1;function e0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function li(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(fe&2)!==0){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,mr(e,n)}return i=r.interleaved,i===null?(t.next=t,Zy(r)):(t.next=i.next,i.next=t),r.interleaved=t,mr(e,n)}function Dd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zy(e,n)}}function o1(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wh(e,t,n,r){var i=e.updateQueue;Or=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,f=c=l=null,a=o;do{var d=a.lane,p=a.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,g=a;switch(d=t,p=n,g.tag){case 1:if(w=g.payload,typeof w=="function"){h=w.call(p,h,d);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,d=typeof w=="function"?w.call(p,h,d):w,d==null)break e;h=Ie({},h,d);break e;case 2:Or=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=p,l=h):f=f.next=p,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(f===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);bo|=s,e.lanes=s,e.memoizedState=h}}function s1(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var lC=new sE.Component().refs;function ng(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Qp={isMounted:function(e){return(e=e._reactInternals)?Oo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=vt(),i=ci(e),o=fr(r,i);o.payload=t,n!=null&&(o.callback=n),t=li(e,o,i),t!==null&&(wn(t,e,i,r),Dd(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=vt(),i=ci(e),o=fr(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=li(e,o,i),t!==null&&(wn(t,e,i,r),Dd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=vt(),r=ci(e),i=fr(n,r);i.tag=2,t!=null&&(i.callback=t),t=li(e,i,r),t!==null&&(wn(t,e,r,n),Dd(t,e,r))}};function a1(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Zl(n,r)||!Zl(i,o):!0}function uC(e,t,n){var r=!1,i=pi,o=t.contextType;return typeof o=="object"&&o!==null?o=Xt(o):(i=Dt(t)?Co:dt.current,r=t.contextTypes,o=(r=r!=null)?La(e,i):pi),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Qp,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function l1(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Qp.enqueueReplaceState(t,t.state,null)}function rg(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=lC,e0(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Xt(o):(o=Dt(t)?Co:dt.current,i.context=La(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(ng(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Qp.enqueueReplaceState(i,i.state,null),wh(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function dl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===lC&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function cd(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function u1(e){var t=e._init;return t(e._payload)}function cC(e){function t(v,y){if(e){var k=v.deletions;k===null?(v.deletions=[y],v.flags|=16):k.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=fi(v,y),v.index=0,v.sibling=null,v}function o(v,y,k){return v.index=k,e?(k=v.alternate,k!==null?(k=k.index,k<y?(v.flags|=2,y):k):(v.flags|=2,y)):(v.flags|=1048576,y)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,y,k,S){return y===null||y.tag!==6?(y=Jm(k,v.mode,S),y.return=v,y):(y=i(y,k),y.return=v,y)}function l(v,y,k,S){var x=k.type;return x===Ho?f(v,y,k.props.children,S,k.key):y!==null&&(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Mr&&u1(x)===y.type)?(S=i(y,k.props),S.ref=dl(v,y,k),S.return=v,S):(S=Md(k.type,k.key,k.props,null,v.mode,S),S.ref=dl(v,y,k),S.return=v,S)}function c(v,y,k,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==k.containerInfo||y.stateNode.implementation!==k.implementation?(y=Ym(k,v.mode,S),y.return=v,y):(y=i(y,k.children||[]),y.return=v,y)}function f(v,y,k,S,x){return y===null||y.tag!==7?(y=yo(k,v.mode,S,x),y.return=v,y):(y=i(y,k),y.return=v,y)}function h(v,y,k){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Jm(""+y,v.mode,k),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Zf:return k=Md(y.type,y.key,y.props,null,v.mode,k),k.ref=dl(v,null,y),k.return=v,k;case Ao:return y=Ym(y,v.mode,k),y.return=v,y;case Mr:var S=y._init;return h(v,S(y._payload),k)}if(El(y)||al(y))return y=yo(y,v.mode,k,null),y.return=v,y;cd(v,y)}return null}function d(v,y,k,S){var x=y!==null?y.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return x!==null?null:a(v,y,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Zf:return k.key===x?l(v,y,k,S):null;case Ao:return k.key===x?c(v,y,k,S):null;case Mr:return x=k._init,d(v,y,x(k._payload),S)}if(El(k)||al(k))return x!==null?null:f(v,y,k,S,null);cd(v,k)}return null}function p(v,y,k,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(k)||null,a(y,v,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Zf:return v=v.get(S.key===null?k:S.key)||null,l(y,v,S,x);case Ao:return v=v.get(S.key===null?k:S.key)||null,c(y,v,S,x);case Mr:var M=S._init;return p(v,y,k,M(S._payload),x)}if(El(S)||al(S))return v=v.get(k)||null,f(y,v,S,x,null);cd(y,S)}return null}function w(v,y,k,S){for(var x=null,M=null,_=y,T=y=0,$=null;_!==null&&T<k.length;T++){_.index>T?($=_,_=null):$=_.sibling;var j=d(v,_,k[T],S);if(j===null){_===null&&(_=$);break}e&&_&&j.alternate===null&&t(v,_),y=o(j,y,T),M===null?x=j:M.sibling=j,M=j,_=$}if(T===k.length)return n(v,_),Ce&&Pi(v,T),x;if(_===null){for(;T<k.length;T++)_=h(v,k[T],S),_!==null&&(y=o(_,y,T),M===null?x=_:M.sibling=_,M=_);return Ce&&Pi(v,T),x}for(_=r(v,_);T<k.length;T++)$=p(_,v,T,k[T],S),$!==null&&(e&&$.alternate!==null&&_.delete($.key===null?T:$.key),y=o($,y,T),M===null?x=$:M.sibling=$,M=$);return e&&_.forEach(function(se){return t(v,se)}),Ce&&Pi(v,T),x}function g(v,y,k,S){var x=al(k);if(typeof x!="function")throw Error(F(150));if(k=x.call(k),k==null)throw Error(F(151));for(var M=x=null,_=y,T=y=0,$=null,j=k.next();_!==null&&!j.done;T++,j=k.next()){_.index>T?($=_,_=null):$=_.sibling;var se=d(v,_,j.value,S);if(se===null){_===null&&(_=$);break}e&&_&&se.alternate===null&&t(v,_),y=o(se,y,T),M===null?x=se:M.sibling=se,M=se,_=$}if(j.done)return n(v,_),Ce&&Pi(v,T),x;if(_===null){for(;!j.done;T++,j=k.next())j=h(v,j.value,S),j!==null&&(y=o(j,y,T),M===null?x=j:M.sibling=j,M=j);return Ce&&Pi(v,T),x}for(_=r(v,_);!j.done;T++,j=k.next())j=p(_,v,T,j.value,S),j!==null&&(e&&j.alternate!==null&&_.delete(j.key===null?T:j.key),y=o(j,y,T),M===null?x=j:M.sibling=j,M=j);return e&&_.forEach(function(ne){return t(v,ne)}),Ce&&Pi(v,T),x}function C(v,y,k,S){if(typeof k=="object"&&k!==null&&k.type===Ho&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Zf:e:{for(var x=k.key,M=y;M!==null;){if(M.key===x){if(x=k.type,x===Ho){if(M.tag===7){n(v,M.sibling),y=i(M,k.props.children),y.return=v,v=y;break e}}else if(M.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Mr&&u1(x)===M.type){n(v,M.sibling),y=i(M,k.props),y.ref=dl(v,M,k),y.return=v,v=y;break e}n(v,M);break}else t(v,M);M=M.sibling}k.type===Ho?(y=yo(k.props.children,v.mode,S,k.key),y.return=v,v=y):(S=Md(k.type,k.key,k.props,null,v.mode,S),S.ref=dl(v,y,k),S.return=v,v=S)}return s(v);case Ao:e:{for(M=k.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===k.containerInfo&&y.stateNode.implementation===k.implementation){n(v,y.sibling),y=i(y,k.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=Ym(k,v.mode,S),y.return=v,v=y}return s(v);case Mr:return M=k._init,C(v,y,M(k._payload),S)}if(El(k))return w(v,y,k,S);if(al(k))return g(v,y,k,S);cd(v,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,k),y.return=v,v=y):(n(v,y),y=Jm(k,v.mode,S),y.return=v,v=y),s(v)):n(v,y)}return C}var Aa=cC(!0),fC=cC(!1),Mf={},Wn=Si(Mf),ru=Si(Mf),iu=Si(Mf);function $i(e){if(e===Mf)throw Error(F(174));return e}function t0(e,t){switch(we(iu,t),we(ru,e),we(Wn,Mf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lv(t,e)}Ee(Wn),we(Wn,t)}function Ha(){Ee(Wn),Ee(ru),Ee(iu)}function dC(e){$i(iu.current);var t=$i(Wn.current),n=Lv(t,e.type);t!==n&&(we(ru,e),we(Wn,n))}function n0(e){ru.current===e&&(Ee(Wn),Ee(ru))}var De=Si(0);function Sh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vm=[];function r0(){for(var e=0;e<Vm.length;e++)Vm[e]._workInProgressVersionPrimary=null;Vm.length=0}var bd=Sr.ReactCurrentDispatcher,Wm=Sr.ReactCurrentBatchConfig,Do=0,be=null,Ue=null,Ke=null,kh=!1,Tl=!1,ou=0,wR=0;function rt(){throw Error(F(321))}function i0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Cn(e[n],t[n]))return!1;return!0}function o0(e,t,n,r,i,o){if(Do=o,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bd.current=e===null||e.memoizedState===null?CR:xR,e=n(r,i),Tl){o=0;do{if(Tl=!1,ou=0,25<=o)throw Error(F(301));o+=1,Ke=Ue=null,t.updateQueue=null,bd.current=DR,e=n(r,i)}while(Tl)}if(bd.current=Eh,t=Ue!==null&&Ue.next!==null,Do=0,Ke=Ue=be=null,kh=!1,t)throw Error(F(300));return e}function s0(){var e=ou!==0;return ou=0,e}function Pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?be.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Zt(){if(Ue===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=Ke===null?be.memoizedState:Ke.next;if(t!==null)Ke=t,Ue=e;else{if(e===null)throw Error(F(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ke===null?be.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function su(e,t){return typeof t=="function"?t(e):t}function Gm(e){var t=Zt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=Ue,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var f=c.lane;if((Do&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,be.lanes|=f,bo|=f}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Cn(r,t.memoizedState)||(Ct=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,be.lanes|=o,bo|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Qm(e){var t=Zt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Cn(o,t.memoizedState)||(Ct=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function hC(){}function pC(e,t){var n=be,r=Zt(),i=t(),o=!Cn(r.memoizedState,i);if(o&&(r.memoizedState=i,Ct=!0),r=r.queue,a0(gC.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,au(9,vC.bind(null,n,r,i,t),void 0,null),qe===null)throw Error(F(349));(Do&30)!==0||mC(n,t,i)}return i}function mC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vC(e,t,n,r){t.value=n,t.getSnapshot=r,yC(t)&&wC(e)}function gC(e,t,n){return n(function(){yC(t)&&wC(e)})}function yC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Cn(e,n)}catch{return!0}}function wC(e){var t=mr(e,1);t!==null&&wn(t,e,1,-1)}function c1(e){var t=Pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:su,lastRenderedState:e},t.queue=e,e=e.dispatch=ER.bind(null,be,e),[t.memoizedState,e]}function au(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function SC(){return Zt().memoizedState}function _d(e,t,n,r){var i=Pn();be.flags|=e,i.memoizedState=au(1|t,n,void 0,r===void 0?null:r)}function Kp(e,t,n,r){var i=Zt();r=r===void 0?null:r;var o=void 0;if(Ue!==null){var s=Ue.memoizedState;if(o=s.destroy,r!==null&&i0(r,s.deps)){i.memoizedState=au(t,n,o,r);return}}be.flags|=e,i.memoizedState=au(1|t,n,o,r)}function f1(e,t){return _d(8390656,8,e,t)}function a0(e,t){return Kp(2048,8,e,t)}function kC(e,t){return Kp(4,2,e,t)}function EC(e,t){return Kp(4,4,e,t)}function CC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xC(e,t,n){return n=n!=null?n.concat([e]):null,Kp(4,4,CC.bind(null,t,e),n)}function l0(){}function DC(e,t){var n=Zt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&i0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function bC(e,t){var n=Zt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&i0(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _C(e,t,n){return(Do&21)===0?(e.baseState&&(e.baseState=!1,Ct=!0),e.memoizedState=n):(Cn(n,t)||(n=RE(),be.lanes|=n,bo|=n,e.baseState=!0),t)}function SR(e,t){var n=pe;pe=n!==0&&4>n?n:4,e(!0);var r=Wm.transition;Wm.transition={};try{e(!1),t()}finally{pe=n,Wm.transition=r}}function IC(){return Zt().memoizedState}function kR(e,t,n){var r=ci(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},PC(e))RC(t,n);else if(n=sC(e,t,n,r),n!==null){var i=vt();wn(n,e,r,i),MC(n,t,r)}}function ER(e,t,n){var r=ci(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(PC(e))RC(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Cn(a,s)){var l=t.interleaved;l===null?(i.next=i,Zy(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=sC(e,t,i,r),n!==null&&(i=vt(),wn(n,e,r,i),MC(n,t,r))}}function PC(e){var t=e.alternate;return e===be||t!==null&&t===be}function RC(e,t){Tl=kh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function MC(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zy(e,n)}}var Eh={readContext:Xt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},CR={readContext:Xt,useCallback:function(e,t){return Pn().memoizedState=[e,t===void 0?null:t],e},useContext:Xt,useEffect:f1,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,_d(4194308,4,CC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _d(4194308,4,e,t)},useInsertionEffect:function(e,t){return _d(4,2,e,t)},useMemo:function(e,t){var n=Pn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=kR.bind(null,be,e),[r.memoizedState,e]},useRef:function(e){var t=Pn();return e={current:e},t.memoizedState=e},useState:c1,useDebugValue:l0,useDeferredValue:function(e){return Pn().memoizedState=e},useTransition:function(){var e=c1(!1),t=e[0];return e=SR.bind(null,e[1]),Pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=be,i=Pn();if(Ce){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),qe===null)throw Error(F(349));(Do&30)!==0||mC(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,f1(gC.bind(null,r,o,e),[e]),r.flags|=2048,au(9,vC.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Pn(),t=qe.identifierPrefix;if(Ce){var n=cr,r=ur;n=(r&~(1<<32-yn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ou++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=wR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xR={readContext:Xt,useCallback:DC,useContext:Xt,useEffect:a0,useImperativeHandle:xC,useInsertionEffect:kC,useLayoutEffect:EC,useMemo:bC,useReducer:Gm,useRef:SC,useState:function(){return Gm(su)},useDebugValue:l0,useDeferredValue:function(e){var t=Zt();return _C(t,Ue.memoizedState,e)},useTransition:function(){var e=Gm(su)[0],t=Zt().memoizedState;return[e,t]},useMutableSource:hC,useSyncExternalStore:pC,useId:IC,unstable_isNewReconciler:!1},DR={readContext:Xt,useCallback:DC,useContext:Xt,useEffect:a0,useImperativeHandle:xC,useInsertionEffect:kC,useLayoutEffect:EC,useMemo:bC,useReducer:Qm,useRef:SC,useState:function(){return Qm(su)},useDebugValue:l0,useDeferredValue:function(e){var t=Zt();return Ue===null?t.memoizedState=e:_C(t,Ue.memoizedState,e)},useTransition:function(){var e=Qm(su)[0],t=Zt().memoizedState;return[e,t]},useMutableSource:hC,useSyncExternalStore:pC,useId:IC,unstable_isNewReconciler:!1};function za(e,t){try{var n="",r=t;do n+=ZI(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Km(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function ig(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var bR=typeof WeakMap=="function"?WeakMap:Map;function OC(e,t,n){n=fr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){xh||(xh=!0,pg=r),ig(e,t)},n}function TC(e,t,n){n=fr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ig(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ig(e,t),typeof r!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function d1(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new bR;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=FR.bind(null,e,t,n),t.then(e,e))}function h1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function p1(e,t,n,r,i){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fr(-1,1),t.tag=2,li(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _R=Sr.ReactCurrentOwner,Ct=!1;function mt(e,t,n,r){t.child=e===null?fC(t,null,n,r):Aa(t,e.child,n,r)}function m1(e,t,n,r,i){n=n.render;var o=t.ref;return os(t,i),r=o0(e,t,n,r,o,i),n=s0(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vr(e,t,i)):(Ce&&n&&Qy(t),t.flags|=1,mt(e,t,r,i),t.child)}function v1(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!v0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,NC(e,t,o,r,i)):(e=Md(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,(e.lanes&i)===0){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Zl,n(s,r)&&e.ref===t.ref)return vr(e,t,i)}return t.flags|=1,e=fi(o,r),e.ref=t.ref,e.return=t,t.child=e}function NC(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Zl(o,r)&&e.ref===t.ref)if(Ct=!1,t.pendingProps=r=o,(e.lanes&i)!==0)(e.flags&131072)!==0&&(Ct=!0);else return t.lanes=e.lanes,vr(e,t,i)}return og(e,t,n,r,i)}function LC(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(Ko,Ot),Ot|=n;else{if((n&1073741824)===0)return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,we(Ko,Ot),Ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,we(Ko,Ot),Ot|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,we(Ko,Ot),Ot|=r;return mt(e,t,i,n),t.child}function $C(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function og(e,t,n,r,i){var o=Dt(n)?Co:dt.current;return o=La(t,o),os(t,i),n=o0(e,t,n,r,o,i),r=s0(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vr(e,t,i)):(Ce&&r&&Qy(t),t.flags|=1,mt(e,t,n,i),t.child)}function g1(e,t,n,r,i){if(Dt(n)){var o=!0;ph(t)}else o=!1;if(os(t,i),t.stateNode===null)Id(e,t),uC(t,n,r),rg(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Xt(c):(c=Dt(n)?Co:dt.current,c=La(t,c));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&l1(t,s,r,c),Or=!1;var d=t.memoizedState;s.state=d,wh(t,r,s,i),l=t.memoizedState,a!==r||d!==l||xt.current||Or?(typeof f=="function"&&(ng(t,n,f,r),l=t.memoizedState),(a=Or||a1(t,n,a,r,d,l,c))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,aC(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:rn(t.type,a),s.props=c,h=t.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xt(l):(l=Dt(n)?Co:dt.current,l=La(t,l));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||d!==l)&&l1(t,s,r,l),Or=!1,d=t.memoizedState,s.state=d,wh(t,r,s,i);var w=t.memoizedState;a!==h||d!==w||xt.current||Or?(typeof p=="function"&&(ng(t,n,p,r),w=t.memoizedState),(c=Or||a1(t,n,c,r,d,w,l)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),s.props=r,s.state=w,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return sg(e,t,n,r,o,i)}function sg(e,t,n,r,i,o){$C(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&n1(t,n,!1),vr(e,t,o);r=t.stateNode,_R.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Aa(t,e.child,null,o),t.child=Aa(t,null,a,o)):mt(e,t,a,o),t.memoizedState=r.state,i&&n1(t,n,!0),t.child}function AC(e){var t=e.stateNode;t.pendingContext?t1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&t1(e,t.context,!1),t0(e,t.containerInfo)}function y1(e,t,n,r,i){return $a(),qy(i),t.flags|=256,mt(e,t,n,r),t.child}var ag={dehydrated:null,treeContext:null,retryLane:0};function lg(e){return{baseLanes:e,cachePool:null,transitions:null}}function HC(e,t,n){var r=t.pendingProps,i=De.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),we(De,i&1),e===null)return eg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Yp(s,r,0,null),e=yo(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=lg(n),t.memoizedState=ag,e):u0(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return IR(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return(s&1)===0&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=fi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=fi(a,o):(o=yo(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?lg(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=ag,r}return o=e.child,e=o.sibling,r=fi(o,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function u0(e,t){return t=Yp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fd(e,t,n,r){return r!==null&&qy(r),Aa(t,e.child,null,n),e=u0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function IR(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Km(Error(F(422))),fd(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Yp({mode:"visible",children:r.children},i,0,null),o=yo(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,(t.mode&1)!==0&&Aa(t,e.child,null,s),t.child.memoizedState=lg(s),t.memoizedState=ag,o);if((t.mode&1)===0)return fd(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(F(419)),r=Km(o,r,void 0),fd(e,t,s,r)}if(a=(s&e.childLanes)!==0,Ct||a){if(r=qe,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|s))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,mr(e,i),wn(r,e,i,-1))}return m0(),r=Km(Error(F(421))),fd(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=jR.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Tt=ai(i.nextSibling),Nt=t,Ce=!0,mn=null,e!==null&&(Kt[qt++]=ur,Kt[qt++]=cr,Kt[qt++]=xo,ur=e.id,cr=e.overflow,xo=t),t=u0(t,r.children),t.flags|=4096,t)}function w1(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),tg(e.return,t,n)}function qm(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function zC(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(mt(e,t,r.children,n),r=De.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&w1(e,n,t);else if(e.tag===19)w1(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(we(De,r),(t.mode&1)===0)t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Sh(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qm(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Sh(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qm(t,!0,n,null,o);break;case"together":qm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Id(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),bo|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=fi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function PR(e,t,n){switch(t.tag){case 3:AC(t),$a();break;case 5:dC(t);break;case 1:Dt(t.type)&&ph(t);break;case 4:t0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;we(gh,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(we(De,De.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?HC(e,t,n):(we(De,De.current&1),e=vr(e,t,n),e!==null?e.sibling:null);we(De,De.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return zC(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),we(De,De.current),r)break;return null;case 22:case 23:return t.lanes=0,LC(e,t,n)}return vr(e,t,n)}var FC,ug,jC,UC;FC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ug=function(){};jC=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$i(Wn.current);var o=null;switch(n){case"input":i=Mv(e,i),r=Mv(e,r),o=[];break;case"select":i=Ie({},i,{value:void 0}),r=Ie({},r,{value:void 0}),o=[];break;case"textarea":i=Nv(e,i),r=Nv(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=dh)}$v(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Gl.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Gl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Se("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};UC=function(e,t,n,r){n!==r&&(t.flags|=4)};function hl(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function RR(e,t,n){var r=t.pendingProps;switch(Ky(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return Dt(t.type)&&hh(),it(t),null;case 3:return r=t.stateNode,Ha(),Ee(xt),Ee(dt),r0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ud(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,mn!==null&&(gg(mn),mn=null))),ug(e,t),it(t),null;case 5:n0(t);var i=$i(iu.current);if(n=t.type,e!==null&&t.stateNode!=null)jC(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return it(t),null}if(e=$i(Wn.current),ud(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[jn]=t,r[nu]=o,e=(t.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(i=0;i<xl.length;i++)Se(xl[i],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":Iw(r,o),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Se("invalid",r);break;case"textarea":Rw(r,o),Se("invalid",r)}$v(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ld(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ld(r.textContent,a,e),i=["children",""+a]):Gl.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Se("scroll",r)}switch(n){case"input":ed(r),Pw(r,o,!0);break;case"textarea":ed(r),Mw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=dh)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mE(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[jn]=t,e[nu]=r,FC(e,t,!1,!1),t.stateNode=e;e:{switch(s=Av(n,r),n){case"dialog":Se("cancel",e),Se("close",e),i=r;break;case"iframe":case"object":case"embed":Se("load",e),i=r;break;case"video":case"audio":for(i=0;i<xl.length;i++)Se(xl[i],e);i=r;break;case"source":Se("error",e),i=r;break;case"img":case"image":case"link":Se("error",e),Se("load",e),i=r;break;case"details":Se("toggle",e),i=r;break;case"input":Iw(e,r),i=Mv(e,r),Se("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ie({},r,{value:void 0}),Se("invalid",e);break;case"textarea":Rw(e,r),i=Nv(e,r),Se("invalid",e);break;default:i=r}$v(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?yE(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vE(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ql(e,l):typeof l=="number"&&Ql(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Gl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Se("scroll",e):l!=null&&Ty(e,o,l,s))}switch(n){case"input":ed(e),Pw(e,r,!1);break;case"textarea":ed(e),Mw(e);break;case"option":r.value!=null&&e.setAttribute("value",""+hi(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ts(e,!!r.multiple,o,!1):r.defaultValue!=null&&ts(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=dh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)UC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=$i(iu.current),$i(Wn.current),ud(t)){if(r=t.stateNode,n=t.memoizedProps,r[jn]=t,(o=r.nodeValue!==n)&&(e=Nt,e!==null))switch(e.tag){case 3:ld(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ld(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jn]=t,t.stateNode=r}return it(t),null;case 13:if(Ee(De),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ce&&Tt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)oC(),$a(),t.flags|=98560,o=!1;else if(o=ud(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(F(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(F(317));o[jn]=t}else $a(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),o=!1}else mn!==null&&(gg(mn),mn=null),o=!0;if(!o)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(De.current&1)!==0?Ve===0&&(Ve=3):m0())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return Ha(),ug(e,t),e===null&&eu(t.stateNode.containerInfo),it(t),null;case 10:return Xy(t.type._context),it(t),null;case 17:return Dt(t.type)&&hh(),it(t),null;case 19:if(Ee(De),o=t.memoizedState,o===null)return it(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)hl(o,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=Sh(e),s!==null){for(t.flags|=128,hl(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return we(De,De.current&1|2),t.child}e=e.sibling}o.tail!==null&&Le()>Fa&&(t.flags|=128,r=!0,hl(o,!1),t.lanes=4194304)}else{if(!r)if(e=Sh(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ce)return it(t),null}else 2*Le()-o.renderingStartTime>Fa&&n!==1073741824&&(t.flags|=128,r=!0,hl(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Le(),t.sibling=null,n=De.current,we(De,r?n&1|2:n&1),t):(it(t),null);case 22:case 23:return p0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(Ot&1073741824)!==0&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function MR(e,t){switch(Ky(t),t.tag){case 1:return Dt(t.type)&&hh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ha(),Ee(xt),Ee(dt),r0(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return n0(t),null;case 13:if(Ee(De),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));$a()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(De),null;case 4:return Ha(),null;case 10:return Xy(t.type._context),null;case 22:case 23:return p0(),null;case 24:return null;default:return null}}var dd=!1,lt=!1,OR=typeof WeakSet=="function"?WeakSet:Set,G=null;function Qo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pe(e,t,r)}else n.current=null}function cg(e,t,n){try{n()}catch(r){Pe(e,t,r)}}var S1=!1;function TR(e,t){if(Qv=uh,e=GE(),Gy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(a=s),d===o&&++f===r&&(l=s),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kv={focusedElem:e,selectionRange:n},uh=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var w=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,C=w.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:rn(t.type,g),C);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(S){Pe(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return w=S1,S1=!1,w}function Nl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&cg(t,n,o)}i=i.next}while(i!==r)}}function qp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function BC(e){var t=e.alternate;t!==null&&(e.alternate=null,BC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jn],delete t[nu],delete t[Yv],delete t[mR],delete t[vR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function VC(e){return e.tag===5||e.tag===3||e.tag===4}function k1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||VC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=dh));else if(r!==4&&(e=e.child,e!==null))for(dg(e,t,n),e=e.sibling;e!==null;)dg(e,t,n),e=e.sibling}function hg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(hg(e,t,n),e=e.sibling;e!==null;)hg(e,t,n),e=e.sibling}var Ze=null,hn=!1;function _r(e,t,n){for(n=n.child;n!==null;)WC(e,t,n),n=n.sibling}function WC(e,t,n){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(jp,n)}catch{}switch(n.tag){case 5:lt||Qo(n,t);case 6:var r=Ze,i=hn;Ze=null,_r(e,t,n),Ze=r,hn=i,Ze!==null&&(hn?(e=Ze,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ze.removeChild(n.stateNode));break;case 18:Ze!==null&&(hn?(e=Ze,n=n.stateNode,e.nodeType===8?Um(e.parentNode,n):e.nodeType===1&&Um(e,n),Yl(e)):Um(Ze,n.stateNode));break;case 4:r=Ze,i=hn,Ze=n.stateNode.containerInfo,hn=!0,_r(e,t,n),Ze=r,hn=i;break;case 0:case 11:case 14:case 15:if(!lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&((o&2)!==0||(o&4)!==0)&&cg(n,t,s),i=i.next}while(i!==r)}_r(e,t,n);break;case 1:if(!lt&&(Qo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Pe(n,t,a)}_r(e,t,n);break;case 21:_r(e,t,n);break;case 22:n.mode&1?(lt=(r=lt)||n.memoizedState!==null,_r(e,t,n),lt=r):_r(e,t,n);break;default:_r(e,t,n)}}function E1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new OR),t.forEach(function(r){var i=UR.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ze=a.stateNode,hn=!1;break e;case 3:Ze=a.stateNode.containerInfo,hn=!0;break e;case 4:Ze=a.stateNode.containerInfo,hn=!0;break e}a=a.return}if(Ze===null)throw Error(F(160));WC(o,s,i),Ze=null,hn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Pe(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)GC(t,e),t=t.sibling}function GC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nn(t,e),In(e),r&4){try{Nl(3,e,e.return),qp(3,e)}catch(g){Pe(e,e.return,g)}try{Nl(5,e,e.return)}catch(g){Pe(e,e.return,g)}}break;case 1:nn(t,e),In(e),r&512&&n!==null&&Qo(n,n.return);break;case 5:if(nn(t,e),In(e),r&512&&n!==null&&Qo(n,n.return),e.flags&32){var i=e.stateNode;try{Ql(i,"")}catch(g){Pe(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&hE(i,o),Av(a,s);var c=Av(a,o);for(s=0;s<l.length;s+=2){var f=l[s],h=l[s+1];f==="style"?yE(i,h):f==="dangerouslySetInnerHTML"?vE(i,h):f==="children"?Ql(i,h):Ty(i,f,h,c)}switch(a){case"input":Ov(i,o);break;case"textarea":pE(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ts(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?ts(i,!!o.multiple,o.defaultValue,!0):ts(i,!!o.multiple,o.multiple?[]:"",!1))}i[nu]=o}catch(g){Pe(e,e.return,g)}}break;case 6:if(nn(t,e),In(e),r&4){if(e.stateNode===null)throw Error(F(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Pe(e,e.return,g)}}break;case 3:if(nn(t,e),In(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yl(t.containerInfo)}catch(g){Pe(e,e.return,g)}break;case 4:nn(t,e),In(e);break;case 13:nn(t,e),In(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(d0=Le())),r&4&&E1(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(lt=(c=lt)||f,nn(t,e),lt=c):nn(t,e),In(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&(e.mode&1)!==0)for(G=e,f=e.child;f!==null;){for(h=G=f;G!==null;){switch(d=G,p=d.child,d.tag){case 0:case 11:case 14:case 15:Nl(4,d,d.return);break;case 1:Qo(d,d.return);var w=d.stateNode;if(typeof w.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(g){Pe(r,n,g)}}break;case 5:Qo(d,d.return);break;case 22:if(d.memoizedState!==null){x1(h);continue}}p!==null?(p.return=d,G=p):x1(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=gE("display",s))}catch(g){Pe(e,e.return,g)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Pe(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:nn(t,e),In(e),r&4&&E1(e);break;case 21:break;default:nn(t,e),In(e)}}function In(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(VC(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ql(i,""),r.flags&=-33);var o=k1(e);hg(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=k1(e);dg(e,a,s);break;default:throw Error(F(161))}}catch(l){Pe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function NR(e,t,n){G=e,QC(e)}function QC(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var i=G,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||dd;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||lt;a=dd;var c=lt;if(dd=s,(lt=l)&&!c)for(G=i;G!==null;)s=G,l=s.child,s.tag===22&&s.memoizedState!==null?D1(i):l!==null?(l.return=s,G=l):D1(i);for(;o!==null;)G=o,QC(o),o=o.sibling;G=i,dd=a,lt=c}C1(e)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,G=o):C1(e)}}function C1(e){for(;G!==null;){var t=G;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:lt||qp(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!lt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:rn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&s1(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}s1(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Yl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}lt||t.flags&512&&fg(t)}catch(d){Pe(t,t.return,d)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function x1(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function D1(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{qp(4,t)}catch(l){Pe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Pe(t,i,l)}}var o=t.return;try{fg(t)}catch(l){Pe(t,o,l)}break;case 5:var s=t.return;try{fg(t)}catch(l){Pe(t,s,l)}}}catch(l){Pe(t,t.return,l)}if(t===e){G=null;break}var a=t.sibling;if(a!==null){a.return=t.return,G=a;break}G=t.return}}var LR=Math.ceil,Ch=Sr.ReactCurrentDispatcher,c0=Sr.ReactCurrentOwner,Yt=Sr.ReactCurrentBatchConfig,fe=0,qe=null,Fe=null,tt=0,Ot=0,Ko=Si(0),Ve=0,lu=null,bo=0,Jp=0,f0=0,Ll=null,Et=null,d0=0,Fa=1/0,Xn=null,xh=!1,pg=null,ui=null,hd=!1,ti=null,Dh=0,$l=0,mg=null,Pd=-1,Rd=0;function vt(){return(fe&6)!==0?Le():Pd!==-1?Pd:Pd=Le()}function ci(e){return(e.mode&1)===0?1:(fe&2)!==0&&tt!==0?tt&-tt:yR.transition!==null?(Rd===0&&(Rd=RE()),Rd):(e=pe,e!==0||(e=window.event,e=e===void 0?16:AE(e.type)),e)}function wn(e,t,n,r){if(50<$l)throw $l=0,mg=null,Error(F(185));If(e,n,r),((fe&2)===0||e!==qe)&&(e===qe&&((fe&2)===0&&(Jp|=n),Ve===4&&Nr(e,tt)),bt(e,r),n===1&&fe===0&&(t.mode&1)===0&&(Fa=Le()+500,Gp&&ki()))}function bt(e,t){var n=e.callbackNode;yP(e,t);var r=lh(e,e===qe?tt:0);if(r===0)n!==null&&Nw(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Nw(n),t===1)e.tag===0?gR(b1.bind(null,e)):nC(b1.bind(null,e)),hR(function(){(fe&6)===0&&ki()}),n=null;else{switch(ME(r)){case 1:n=Hy;break;case 4:n=IE;break;case 16:n=ah;break;case 536870912:n=PE;break;default:n=ah}n=tx(n,KC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function KC(e,t){if(Pd=-1,Rd=0,(fe&6)!==0)throw Error(F(327));var n=e.callbackNode;if(ss()&&e.callbackNode!==n)return null;var r=lh(e,e===qe?tt:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=bh(e,r);else{t=r;var i=fe;fe|=2;var o=JC();(qe!==e||tt!==t)&&(Xn=null,Fa=Le()+500,go(e,t));do try{HR();break}catch(a){qC(e,a)}while(1);Yy(),Ch.current=o,fe=i,Fe!==null?t=0:(qe=null,tt=0,t=Ve)}if(t!==0){if(t===2&&(i=Uv(e),i!==0&&(r=i,t=vg(e,i))),t===1)throw n=lu,go(e,0),Nr(e,r),bt(e,Le()),n;if(t===6)Nr(e,r);else{if(i=e.current.alternate,(r&30)===0&&!$R(i)&&(t=bh(e,r),t===2&&(o=Uv(e),o!==0&&(r=o,t=vg(e,o))),t===1))throw n=lu,go(e,0),Nr(e,r),bt(e,Le()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:Ri(e,Et,Xn);break;case 3:if(Nr(e,r),(r&130023424)===r&&(t=d0+500-Le(),10<t)){if(lh(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){vt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Jv(Ri.bind(null,e,Et,Xn),t);break}Ri(e,Et,Xn);break;case 4:if(Nr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-yn(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LR(r/1960))-r,10<r){e.timeoutHandle=Jv(Ri.bind(null,e,Et,Xn),r);break}Ri(e,Et,Xn);break;case 5:Ri(e,Et,Xn);break;default:throw Error(F(329))}}}return bt(e,Le()),e.callbackNode===n?KC.bind(null,e):null}function vg(e,t){var n=Ll;return e.current.memoizedState.isDehydrated&&(go(e,t).flags|=256),e=bh(e,t),e!==2&&(t=Et,Et=n,t!==null&&gg(t)),e}function gg(e){Et===null?Et=e:Et.push.apply(Et,e)}function $R(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Cn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nr(e,t){for(t&=~f0,t&=~Jp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yn(t),r=1<<n;e[n]=-1,t&=~r}}function b1(e){if((fe&6)!==0)throw Error(F(327));ss();var t=lh(e,0);if((t&1)===0)return bt(e,Le()),null;var n=bh(e,t);if(e.tag!==0&&n===2){var r=Uv(e);r!==0&&(t=r,n=vg(e,r))}if(n===1)throw n=lu,go(e,0),Nr(e,t),bt(e,Le()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ri(e,Et,Xn),bt(e,Le()),null}function h0(e,t){var n=fe;fe|=1;try{return e(t)}finally{fe=n,fe===0&&(Fa=Le()+500,Gp&&ki())}}function _o(e){ti!==null&&ti.tag===0&&(fe&6)===0&&ss();var t=fe;fe|=1;var n=Yt.transition,r=pe;try{if(Yt.transition=null,pe=1,e)return e()}finally{pe=r,Yt.transition=n,fe=t,(fe&6)===0&&ki()}}function p0(){Ot=Ko.current,Ee(Ko)}function go(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,dR(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(Ky(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hh();break;case 3:Ha(),Ee(xt),Ee(dt),r0();break;case 5:n0(r);break;case 4:Ha();break;case 13:Ee(De);break;case 19:Ee(De);break;case 10:Xy(r.type._context);break;case 22:case 23:p0()}n=n.return}if(qe=e,Fe=e=fi(e.current,null),tt=Ot=t,Ve=0,lu=null,f0=Jp=bo=0,Et=Ll=null,Li!==null){for(t=0;t<Li.length;t++)if(n=Li[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Li=null}return e}function qC(e,t){do{var n=Fe;try{if(Yy(),bd.current=Eh,kh){for(var r=be.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}kh=!1}if(Do=0,Ke=Ue=be=null,Tl=!1,ou=0,c0.current=null,n===null||n.return===null){Ve=1,lu=t,Fe=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=tt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,h=f.tag;if((f.mode&1)===0&&(h===0||h===11||h===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=h1(s);if(p!==null){p.flags&=-257,p1(p,s,a,o,t),p.mode&1&&d1(o,c,t),t=p,l=c;var w=t.updateQueue;if(w===null){var g=new Set;g.add(l),t.updateQueue=g}else w.add(l);break e}else{if((t&1)===0){d1(o,c,t),m0();break e}l=Error(F(426))}}else if(Ce&&a.mode&1){var C=h1(s);if(C!==null){(C.flags&65536)===0&&(C.flags|=256),p1(C,s,a,o,t),qy(za(l,a));break e}}o=l=za(l,a),Ve!==4&&(Ve=2),Ll===null?Ll=[o]:Ll.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=OC(o,l,t);o1(o,v);break e;case 1:a=l;var y=o.type,k=o.stateNode;if((o.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(ui===null||!ui.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=TC(o,a,t);o1(o,S);break e}}o=o.return}while(o!==null)}XC(n)}catch(x){t=x,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(1)}function JC(){var e=Ch.current;return Ch.current=Eh,e===null?Eh:e}function m0(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),qe===null||(bo&268435455)===0&&(Jp&268435455)===0||Nr(qe,tt)}function bh(e,t){var n=fe;fe|=2;var r=JC();(qe!==e||tt!==t)&&(Xn=null,go(e,t));do try{AR();break}catch(i){qC(e,i)}while(1);if(Yy(),fe=n,Ch.current=r,Fe!==null)throw Error(F(261));return qe=null,tt=0,Ve}function AR(){for(;Fe!==null;)YC(Fe)}function HR(){for(;Fe!==null&&!uP();)YC(Fe)}function YC(e){var t=ex(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?XC(e):Fe=t,c0.current=null}function XC(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=RR(n,t,Ot),n!==null){Fe=n;return}}else{if(n=MR(n,t),n!==null){n.flags&=32767,Fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ve=6,Fe=null;return}}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);Ve===0&&(Ve=5)}function Ri(e,t,n){var r=pe,i=Yt.transition;try{Yt.transition=null,pe=1,zR(e,t,n,r)}finally{Yt.transition=i,pe=r}return null}function zR(e,t,n,r){do ss();while(ti!==null);if((fe&6)!==0)throw Error(F(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(wP(e,o),e===qe&&(Fe=qe=null,tt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||hd||(hd=!0,tx(ah,function(){return ss(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=Yt.transition,Yt.transition=null;var s=pe;pe=1;var a=fe;fe|=4,c0.current=null,TR(e,n),GC(n,e),oR(Kv),uh=!!Qv,Kv=Qv=null,e.current=n,NR(n),cP(),fe=a,pe=s,Yt.transition=o}else e.current=n;if(hd&&(hd=!1,ti=e,Dh=i),o=e.pendingLanes,o===0&&(ui=null),hP(n.stateNode),bt(e,Le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(xh)throw xh=!1,e=pg,pg=null,e;return(Dh&1)!==0&&e.tag!==0&&ss(),o=e.pendingLanes,(o&1)!==0?e===mg?$l++:($l=0,mg=e):$l=0,ki(),null}function ss(){if(ti!==null){var e=ME(Dh),t=Yt.transition,n=pe;try{if(Yt.transition=null,pe=16>e?16:e,ti===null)var r=!1;else{if(e=ti,ti=null,Dh=0,(fe&6)!==0)throw Error(F(331));var i=fe;for(fe|=4,G=e.current;G!==null;){var o=G,s=o.child;if((G.flags&16)!==0){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(G=c;G!==null;){var f=G;switch(f.tag){case 0:case 11:case 15:Nl(8,f,o)}var h=f.child;if(h!==null)h.return=f,G=h;else for(;G!==null;){f=G;var d=f.sibling,p=f.return;if(BC(f),f===c){G=null;break}if(d!==null){d.return=p,G=d;break}G=p}}}var w=o.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var C=g.sibling;g.sibling=null,g=C}while(g!==null)}}G=o}}if((o.subtreeFlags&2064)!==0&&s!==null)s.return=o,G=s;else e:for(;G!==null;){if(o=G,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:Nl(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,G=v;break e}G=o.return}}var y=e.current;for(G=y;G!==null;){s=G;var k=s.child;if((s.subtreeFlags&2064)!==0&&k!==null)k.return=s,G=k;else e:for(s=y;G!==null;){if(a=G,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:qp(9,a)}}catch(x){Pe(a,a.return,x)}if(a===s){G=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,G=S;break e}G=a.return}}if(fe=i,ki(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(jp,e)}catch{}r=!0}return r}finally{pe=n,Yt.transition=t}}return!1}function _1(e,t,n){t=za(n,t),t=OC(e,t,1),e=li(e,t,1),t=vt(),e!==null&&(If(e,1,t),bt(e,t))}function Pe(e,t,n){if(e.tag===3)_1(e,e,n);else for(;t!==null;){if(t.tag===3){_1(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ui===null||!ui.has(r))){e=za(n,e),e=TC(t,e,1),t=li(t,e,1),e=vt(),t!==null&&(If(t,1,e),bt(t,e));break}}t=t.return}}function FR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=vt(),e.pingedLanes|=e.suspendedLanes&n,qe===e&&(tt&n)===n&&(Ve===4||Ve===3&&(tt&130023424)===tt&&500>Le()-d0?go(e,0):f0|=n),bt(e,t)}function ZC(e,t){t===0&&((e.mode&1)===0?t=1:(t=rd,rd<<=1,(rd&130023424)===0&&(rd=4194304)));var n=vt();e=mr(e,t),e!==null&&(If(e,t,n),bt(e,n))}function jR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ZC(e,n)}function UR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),ZC(e,n)}var ex;ex=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||xt.current)Ct=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Ct=!1,PR(e,t,n);Ct=(e.flags&131072)!==0}else Ct=!1,Ce&&(t.flags&1048576)!==0&&rC(t,vh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Id(e,t),e=t.pendingProps;var i=La(t,dt.current);os(t,n),i=o0(null,t,r,e,i,n);var o=s0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dt(r)?(o=!0,ph(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,e0(t),i.updater=Qp,t.stateNode=i,i._reactInternals=t,rg(t,r,e,n),t=sg(null,t,r,!0,o,n)):(t.tag=0,Ce&&o&&Qy(t),mt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Id(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=VR(r),e=rn(r,e),i){case 0:t=og(null,t,r,e,n);break e;case 1:t=g1(null,t,r,e,n);break e;case 11:t=m1(null,t,r,e,n);break e;case 14:t=v1(null,t,r,rn(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rn(r,i),og(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rn(r,i),g1(e,t,r,i,n);case 3:e:{if(AC(t),e===null)throw Error(F(387));r=t.pendingProps,o=t.memoizedState,i=o.element,aC(e,t),wh(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=za(Error(F(423)),t),t=y1(e,t,r,n,i);break e}else if(r!==i){i=za(Error(F(424)),t),t=y1(e,t,r,n,i);break e}else for(Tt=ai(t.stateNode.containerInfo.firstChild),Nt=t,Ce=!0,mn=null,n=fC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($a(),r===i){t=vr(e,t,n);break e}mt(e,t,r,n)}t=t.child}return t;case 5:return dC(t),e===null&&eg(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,qv(r,i)?s=null:o!==null&&qv(r,o)&&(t.flags|=32),$C(e,t),mt(e,t,s,n),t.child;case 6:return e===null&&eg(t),null;case 13:return HC(e,t,n);case 4:return t0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Aa(t,null,r,n):mt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rn(r,i),m1(e,t,r,i,n);case 7:return mt(e,t,t.pendingProps,n),t.child;case 8:return mt(e,t,t.pendingProps.children,n),t.child;case 12:return mt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,we(gh,r._currentValue),r._currentValue=s,o!==null)if(Cn(o.value,s)){if(o.children===i.children&&!xt.current){t=vr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=fr(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),tg(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(F(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),tg(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}mt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,os(t,n),i=Xt(i),r=r(i),t.flags|=1,mt(e,t,r,n),t.child;case 14:return r=t.type,i=rn(r,t.pendingProps),i=rn(r.type,i),v1(e,t,r,i,n);case 15:return NC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rn(r,i),Id(e,t),t.tag=1,Dt(r)?(e=!0,ph(t)):e=!1,os(t,n),uC(t,r,i),rg(t,r,i,n),sg(null,t,r,!0,e,n);case 19:return zC(e,t,n);case 22:return LC(e,t,n)}throw Error(F(156,t.tag))};function tx(e,t){return _E(e,t)}function BR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(e,t,n,r){return new BR(e,t,n,r)}function v0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function VR(e){if(typeof e=="function")return v0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ly)return 11;if(e===$y)return 14}return 2}function fi(e,t){var n=e.alternate;return n===null?(n=Jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Md(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")v0(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ho:return yo(n.children,i,o,t);case Ny:s=8,i|=8;break;case _v:return e=Jt(12,n,t,i|2),e.elementType=_v,e.lanes=o,e;case Iv:return e=Jt(13,n,t,i),e.elementType=Iv,e.lanes=o,e;case Pv:return e=Jt(19,n,t,i),e.elementType=Pv,e.lanes=o,e;case cE:return Yp(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lE:s=10;break e;case uE:s=9;break e;case Ly:s=11;break e;case $y:s=14;break e;case Mr:s=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Jt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function yo(e,t,n,r){return e=Jt(7,e,r,t),e.lanes=n,e}function Yp(e,t,n,r){return e=Jt(22,e,r,t),e.elementType=cE,e.lanes=n,e.stateNode={isHidden:!1},e}function Jm(e,t,n){return e=Jt(6,e,null,t),e.lanes=n,e}function Ym(e,t,n){return t=Jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function WR(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mm(0),this.expirationTimes=Mm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function g0(e,t,n,r,i,o,s,a,l){return e=new WR(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Jt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},e0(o),e}function GR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ao,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function nx(e){if(!e)return pi;e=e._reactInternals;e:{if(Oo(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(Dt(n))return tC(e,n,t)}return t}function rx(e,t,n,r,i,o,s,a,l){return e=g0(n,r,!0,e,i,o,s,a,l),e.context=nx(null),n=e.current,r=vt(),i=ci(n),o=fr(r,i),o.callback=t!=null?t:null,li(n,o,i),e.current.lanes=i,If(e,i,r),bt(e,r),e}function Xp(e,t,n,r){var i=t.current,o=vt(),s=ci(i);return n=nx(n),t.context===null?t.context=n:t.pendingContext=n,t=fr(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=li(i,t,s),e!==null&&(wn(e,i,s,o),Dd(e,i,s)),s}function _h(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function I1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function y0(e,t){I1(e,t),(e=e.alternate)&&I1(e,t)}function QR(){return null}var ix=typeof reportError=="function"?reportError:function(e){console.error(e)};function w0(e){this._internalRoot=e}Zp.prototype.render=w0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Xp(e,t,null,null)};Zp.prototype.unmount=w0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_o(function(){Xp(null,e,null,null)}),t[pr]=null}};function Zp(e){this._internalRoot=e}Zp.prototype.unstable_scheduleHydration=function(e){if(e){var t=NE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tr.length&&t!==0&&t<Tr[n].priority;n++);Tr.splice(n,0,e),n===0&&$E(e)}};function S0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function em(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function P1(){}function KR(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=_h(s);o.call(c)}}var s=rx(t,r,e,0,null,!1,!1,"",P1);return e._reactRootContainer=s,e[pr]=s.current,eu(e.nodeType===8?e.parentNode:e),_o(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=_h(l);a.call(c)}}var l=g0(e,0,!1,null,null,!1,!1,"",P1);return e._reactRootContainer=l,e[pr]=l.current,eu(e.nodeType===8?e.parentNode:e),_o(function(){Xp(t,l,n,r)}),l}function tm(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=_h(s);a.call(l)}}Xp(t,s,e,i)}else s=KR(n,t,e,i,r);return _h(s)}OE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Cl(t.pendingLanes);n!==0&&(zy(t,n|1),bt(t,Le()),(fe&6)===0&&(Fa=Le()+500,ki()))}break;case 13:_o(function(){var r=mr(e,1);if(r!==null){var i=vt();wn(r,e,1,i)}}),y0(e,1)}};Fy=function(e){if(e.tag===13){var t=mr(e,134217728);if(t!==null){var n=vt();wn(t,e,134217728,n)}y0(e,134217728)}};TE=function(e){if(e.tag===13){var t=ci(e),n=mr(e,t);if(n!==null){var r=vt();wn(n,e,t,r)}y0(e,t)}};NE=function(){return pe};LE=function(e,t){var n=pe;try{return pe=e,t()}finally{pe=n}};zv=function(e,t,n){switch(t){case"input":if(Ov(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Wp(r);if(!i)throw Error(F(90));dE(r),Ov(r,i)}}}break;case"textarea":pE(e,n);break;case"select":t=n.value,t!=null&&ts(e,!!n.multiple,t,!1)}};kE=h0;EE=_o;var qR={usingClientEntryPoint:!1,Events:[Rf,Uo,Wp,wE,SE,h0]},pl={findFiberByHostInstance:Ni,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},JR={bundleType:pl.bundleType,version:pl.version,rendererPackageName:pl.rendererPackageName,rendererConfig:pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=DE(e),e===null?null:e.stateNode},findFiberByHostInstance:pl.findFiberByHostInstance||QR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{jp=pd.inject(JR),Vn=pd}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qR;$t.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S0(t))throw Error(F(200));return GR(e,t,null,n)};$t.createRoot=function(e,t){if(!S0(e))throw Error(F(299));var n=!1,r="",i=ix;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=g0(e,1,!1,null,null,n,!1,r,i),e[pr]=t.current,eu(e.nodeType===8?e.parentNode:e),new w0(t)};$t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=DE(t),e=e===null?null:e.stateNode,e};$t.flushSync=function(e){return _o(e)};$t.hydrate=function(e,t,n){if(!em(t))throw Error(F(200));return tm(null,e,t,!0,n)};$t.hydrateRoot=function(e,t,n){if(!S0(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=ix;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=rx(t,null,e,1,n!=null?n:null,i,!1,o,s),e[pr]=t.current,eu(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zp(t)};$t.render=function(e,t,n){if(!em(t))throw Error(F(200));return tm(null,e,t,!1,n)};$t.unmountComponentAtNode=function(e){if(!em(e))throw Error(F(40));return e._reactRootContainer?(_o(function(){tm(null,null,e,!1,function(){e._reactRootContainer=null,e[pr]=null})}),!0):!1};$t.unstable_batchedUpdates=h0;$t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!em(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return tm(e,t,n,!1,r)};$t.version="18.2.0-next-9e3b772b8-20220608";function ox(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ox)}catch(e){console.error(e)}}ox(),Fp.exports=$t;var R1=Fp.exports;Dv.createRoot=R1.createRoot,Dv.hydrateRoot=R1.hydrateRoot;/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Re(){return Re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Re.apply(this,arguments)}var Te;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Te||(Te={}));const M1="popstate";function YR(e){e===void 0&&(e={});function t(i,o){let{pathname:s="/",search:a="",hash:l=""}=Kn(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),uu("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof o=="string"?o:Io(o))}function r(i,o){mi(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return ZR(t,n,r,e)}function ie(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function mi(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch{}}}function XR(){return Math.random().toString(36).substr(2,8)}function O1(e,t){return{usr:e.state,key:e.key,idx:t}}function uu(e,t,n,r){return n===void 0&&(n=null),Re({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Kn(t):t,{state:n,key:t&&t.key||r||XR()})}function Io(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Kn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ZR(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Te.Pop,l=null,c=f();c==null&&(c=0,s.replaceState(Re({},s.state,{idx:c}),""));function f(){return(s.state||{idx:null}).idx}function h(){a=Te.Pop;let C=f(),v=C==null?null:C-c;c=C,l&&l({action:a,location:g.location,delta:v})}function d(C,v){a=Te.Push;let y=uu(g.location,C,v);n&&n(y,C),c=f()+1;let k=O1(y,c),S=g.createHref(y);try{s.pushState(k,"",S)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(S)}o&&l&&l({action:a,location:g.location,delta:1})}function p(C,v){a=Te.Replace;let y=uu(g.location,C,v);n&&n(y,C),c=f();let k=O1(y,c),S=g.createHref(y);s.replaceState(k,"",S),o&&l&&l({action:a,location:g.location,delta:0})}function w(C){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof C=="string"?C:Io(C);return ie(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let g={get action(){return a},get location(){return e(i,s)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(M1,h),l=C,()=>{i.removeEventListener(M1,h),l=null}},createHref(C){return t(i,C)},createURL:w,encodeLocation(C){let v=w(C);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:p,go(C){return s.go(C)}};return g}var Ne;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ne||(Ne={}));const eM=new Set(["lazy","caseSensitive","path","id","index","children"]);function tM(e){return e.index===!0}function yg(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(ie(i.index!==!0||!i.children,"Cannot specify children on an index route"),ie(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),tM(i)){let l=Re({},i,t(i),{id:a});return r[a]=l,l}else{let l=Re({},i,t(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=yg(i.children,t,s,r)),l}})}function qo(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Kn(t):t,i=Ya(r.pathname||"/",n);if(i==null)return null;let o=sx(e);rM(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=dM(o[a],mM(i));return s}function nM(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function sx(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(ie(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=dr([r,l.relativePath]),f=n.concat(l);o.children&&o.children.length>0&&(ie(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),sx(o.children,t,f,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:cM(c,o.index),routesMeta:f})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of ax(o.path))i(o,s,l)}),t}function ax(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=ax(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function rM(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:fM(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const iM=/^:\w+$/,oM=3,sM=2,aM=1,lM=10,uM=-2,T1=e=>e==="*";function cM(e,t){let n=e.split("/"),r=n.length;return n.some(T1)&&(r+=uM),t&&(r+=sM),n.filter(i=>!T1(i)).reduce((i,o)=>i+(iM.test(o)?oM:o===""?aM:lM),r)}function fM(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function dM(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,c=i==="/"?t:t.slice(i.length)||"/",f=hM({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!f)return null;Object.assign(r,f.params);let h=a.route;o.push({params:r,pathname:dr([i,f.pathname]),pathnameBase:wM(dr([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=dr([i,f.pathnameBase]))}return o}function hM(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=pM(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,f,h)=>{let{paramName:d,isOptional:p}=f;if(d==="*"){let g=a[h]||"";s=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const w=a[h];return p&&!w?c[d]=void 0:c[d]=vM(w||"",d),c},{}),pathname:o,pathnameBase:s,pattern:e}}function pM(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),mi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function mM(e){try{return decodeURI(e)}catch(t){return mi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function vM(e,t){try{return decodeURIComponent(e)}catch(n){return mi(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Ya(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function gM(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Kn(e):e;return{pathname:n?n.startsWith("/")?n:yM(n,t):t,search:SM(r),hash:kM(i)}}function yM(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Xm(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nm(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function k0(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Kn(e):(i=Re({},e),ie(!i.pathname||!i.pathname.includes("?"),Xm("?","pathname","search",i)),ie(!i.pathname||!i.pathname.includes("#"),Xm("#","pathname","hash",i)),ie(!i.search||!i.search.includes("#"),Xm("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let h=t.length-1;if(s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?t[h]:"/"}let l=gM(i,a),c=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}const dr=e=>e.join("/").replace(/\/\/+/g,"/"),wM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),SM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class E0{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function lx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ux=["post","put","patch","delete"],EM=new Set(ux),CM=["get",...ux],xM=new Set(CM),DM=new Set([301,302,303,307,308]),bM=new Set([307,308]),Zm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},_M={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ml={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},cx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IM=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),fx="remix-router-transitions";function PM(e){const t=e.window?e.window:typeof window!="undefined"?window:void 0,n=typeof t!="undefined"&&typeof t.document!="undefined"&&typeof t.document.createElement!="undefined",r=!n;ie(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let b=e.detectErrorBoundary;i=R=>({hasErrorBoundary:b(R)})}else i=IM;let o={},s=yg(e.routes,i,void 0,o),a,l=e.basename||"/",c=Re({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),f=null,h=new Set,d=null,p=null,w=null,g=e.hydrationData!=null,C=qo(s,e.history.location,l),v=null;if(C==null){let b=Gt(404,{pathname:e.history.location.pathname}),{matches:R,route:L}=j1(s);C=R,v={[L.id]:b}}let y=!C.some(b=>b.route.lazy)&&(!C.some(b=>b.route.loader)||e.hydrationData!=null),k,S={historyAction:e.history.action,location:e.history.location,matches:C,initialized:y,navigation:Zm,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||v,fetchers:new Map,blockers:new Map},x=Te.Pop,M=!1,_,T=!1,$=new Map,j=null,se=!1,ne=!1,oe=[],U=[],H=new Map,Q=0,I=-1,P=new Map,B=new Set,W=new Map,K=new Map,ae=new Set,$e=new Map,Ae=new Map,qn=!1;function en(){if(f=e.history.listen(b=>{let{action:R,location:L,delta:V}=b;if(qn){qn=!1;return}mi(Ae.size===0||V!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let J=yw({currentLocation:S.location,nextLocation:L,historyAction:R});if(J&&V!=null){qn=!0,e.history.go(V*-1),Jf(J,{state:"blocked",location:L,proceed(){Jf(J,{state:"proceeding",proceed:void 0,reset:void 0,location:L}),e.history.go(V)},reset(){let Y=new Map(S.blockers);Y.set(J,ml),He({blockers:Y})}});return}return Di(R,L)}),n){FM(t,$);let b=()=>jM(t,$);t.addEventListener("pagehide",b),j=()=>t.removeEventListener("pagehide",b)}return S.initialized||Di(Te.Pop,S.location),k}function Cr(){f&&f(),j&&j(),h.clear(),_&&_.abort(),S.fetchers.forEach((b,R)=>qf(R)),S.blockers.forEach((b,R)=>gw(R))}function mI(b){return h.add(b),()=>h.delete(b)}function He(b,R){S=Re({},S,b);let L=[],V=[];c.v7_fetcherPersist&&S.fetchers.forEach((J,Y)=>{J.state==="idle"&&(ae.has(Y)?V.push(Y):L.push(Y))}),h.forEach(J=>J(S,{deletedFetchers:V,unstable_viewTransitionOpts:R})),c.v7_fetcherPersist&&(L.forEach(J=>S.fetchers.delete(J)),V.forEach(J=>qf(J)))}function nl(b,R){var L,V;let J=S.actionData!=null&&S.navigation.formMethod!=null&&pn(S.navigation.formMethod)&&S.navigation.state==="loading"&&((L=b.state)==null?void 0:L._isRedirect)!==!0,Y;R.actionData?Object.keys(R.actionData).length>0?Y=R.actionData:Y=null:J?Y=S.actionData:Y=null;let re=R.loaderData?F1(S.loaderData,R.loaderData,R.matches||[],R.errors):S.loaderData,X=S.blockers;X.size>0&&(X=new Map(X),X.forEach((xe,ce)=>X.set(ce,ml)));let q=M===!0||S.navigation.formMethod!=null&&pn(S.navigation.formMethod)&&((V=b.state)==null?void 0:V._isRedirect)!==!0;a&&(s=a,a=void 0),se||x===Te.Pop||(x===Te.Push?e.history.push(b,b.state):x===Te.Replace&&e.history.replace(b,b.state));let ve;if(x===Te.Pop){let xe=$.get(S.location.pathname);xe&&xe.has(b.pathname)?ve={currentLocation:S.location,nextLocation:b}:$.has(b.pathname)&&(ve={currentLocation:b,nextLocation:S.location})}else if(T){let xe=$.get(S.location.pathname);xe?xe.add(b.pathname):(xe=new Set([b.pathname]),$.set(S.location.pathname,xe)),ve={currentLocation:S.location,nextLocation:b}}He(Re({},R,{actionData:Y,loaderData:re,historyAction:x,location:b,initialized:!0,navigation:Zm,revalidation:"idle",restoreScrollPosition:Sw(b,R.matches||S.matches),preventScrollReset:q,blockers:X}),ve),x=Te.Pop,M=!1,T=!1,se=!1,ne=!1,oe=[],U=[]}async function fw(b,R){if(typeof b=="number"){e.history.go(b);return}let L=wg(S.location,S.matches,l,c.v7_prependBasename,b,R==null?void 0:R.fromRouteId,R==null?void 0:R.relative),{path:V,submission:J,error:Y}=N1(c.v7_normalizeFormMethod,!1,L,R),re=S.location,X=uu(S.location,V,R&&R.state);X=Re({},X,e.history.encodeLocation(X));let q=R&&R.replace!=null?R.replace:void 0,ve=Te.Push;q===!0?ve=Te.Replace:q===!1||J!=null&&pn(J.formMethod)&&J.formAction===S.location.pathname+S.location.search&&(ve=Te.Replace);let xe=R&&"preventScrollReset"in R?R.preventScrollReset===!0:void 0,ce=yw({currentLocation:re,nextLocation:X,historyAction:ve});if(ce){Jf(ce,{state:"blocked",location:X,proceed(){Jf(ce,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),fw(b,R)},reset(){let ge=new Map(S.blockers);ge.set(ce,ml),He({blockers:ge})}});return}return await Di(ve,X,{submission:J,pendingError:Y,preventScrollReset:xe,replace:R&&R.replace,enableViewTransition:R&&R.unstable_viewTransition})}function vI(){if(wm(),He({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){Di(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}Di(x||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation})}}async function Di(b,R,L){_&&_.abort(),_=null,x=b,se=(L&&L.startUninterruptedRevalidation)===!0,DI(S.location,S.matches),M=(L&&L.preventScrollReset)===!0,T=(L&&L.enableViewTransition)===!0;let V=a||s,J=L&&L.overrideNavigation,Y=qo(V,R,l);if(!Y){let ge=Gt(404,{pathname:R.pathname}),{matches:je,route:bi}=j1(V);Sm(),nl(R,{matches:je,loaderData:{},errors:{[bi.id]:ge}});return}if(S.initialized&&!ne&&NM(S.location,R)&&!(L&&L.submission&&pn(L.submission.formMethod))){nl(R,{matches:Y});return}_=new AbortController;let re=gl(e.history,R,_.signal,L&&L.submission),X,q;if(L&&L.pendingError)q={[Al(Y).route.id]:L.pendingError};else if(L&&L.submission&&pn(L.submission.formMethod)){let ge=await gI(re,R,L.submission,Y,{replace:L.replace});if(ge.shortCircuited)return;X=ge.pendingActionData,q=ge.pendingActionError,J=ev(R,L.submission),re=new Request(re.url,{signal:re.signal})}let{shortCircuited:ve,loaderData:xe,errors:ce}=await yI(re,R,Y,J,L&&L.submission,L&&L.fetcherSubmission,L&&L.replace,X,q);ve||(_=null,nl(R,Re({matches:Y},X?{actionData:X}:{},{loaderData:xe,errors:ce})))}async function gI(b,R,L,V,J){J===void 0&&(J={}),wm();let Y=HM(R,L);He({navigation:Y});let re,X=kg(V,R);if(!X.route.action&&!X.route.lazy)re={type:Ne.error,error:Gt(405,{method:b.method,pathname:R.pathname,routeId:X.route.id})};else if(re=await vl("action",b,X,V,o,i,l),b.signal.aborted)return{shortCircuited:!0};if(as(re)){let q;return J&&J.replace!=null?q=J.replace:q=re.location===S.location.pathname+S.location.search,await rl(S,re,{submission:L,replace:q}),{shortCircuited:!0}}if(Hl(re)){let q=Al(V,X.route.id);return(J&&J.replace)!==!0&&(x=Te.Push),{pendingActionData:{},pendingActionError:{[q.route.id]:re.error}}}if(Ai(re))throw Gt(400,{type:"defer-action"});return{pendingActionData:{[X.route.id]:re.data}}}async function yI(b,R,L,V,J,Y,re,X,q){let ve=V||ev(R,J),xe=J||Y||V1(ve),ce=a||s,[ge,je]=L1(e.history,S,L,xe,R,ne,oe,U,W,B,ce,l,X,q);if(Sm(me=>!(L&&L.some(tn=>tn.route.id===me))||ge&&ge.some(tn=>tn.route.id===me)),I=++Q,ge.length===0&&je.length===0){let me=mw();return nl(R,Re({matches:L,loaderData:{},errors:q||null},X?{actionData:X}:{},me?{fetchers:new Map(S.fetchers)}:{})),{shortCircuited:!0}}if(!se){je.forEach(tn=>{let br=S.fetchers.get(tn.key),Me=yl(void 0,br?br.data:void 0);S.fetchers.set(tn.key,Me)});let me=X||S.actionData;He(Re({navigation:ve},me?Object.keys(me).length===0?{actionData:null}:{actionData:me}:{},je.length>0?{fetchers:new Map(S.fetchers)}:{}))}je.forEach(me=>{H.has(me.key)&&xr(me.key),me.controller&&H.set(me.key,me.controller)});let bi=()=>je.forEach(me=>xr(me.key));_&&_.signal.addEventListener("abort",bi);let{results:_i,loaderResults:ol,fetcherResults:km}=await hw(S.matches,L,ge,je,b);if(b.signal.aborted)return{shortCircuited:!0};_&&_.signal.removeEventListener("abort",bi),je.forEach(me=>H.delete(me.key));let Jn=U1(_i);if(Jn){if(Jn.idx>=ge.length){let me=je[Jn.idx-ge.length].key;B.add(me)}return await rl(S,Jn.result,{replace:re}),{shortCircuited:!0}}let{loaderData:Dr,errors:Yf}=z1(S,L,ge,ol,q,je,km,$e);$e.forEach((me,tn)=>{me.subscribe(br=>{(br||me.done)&&$e.delete(tn)})});let Em=mw(),Cm=vw(I),xm=Em||Cm||je.length>0;return Re({loaderData:Dr,errors:Yf},xm?{fetchers:new Map(S.fetchers)}:{})}function dw(b){return c.v7_fetcherPersist&&(K.set(b,(K.get(b)||0)+1),ae.has(b)&&ae.delete(b)),S.fetchers.get(b)||_M}function wI(b,R,L,V){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");H.has(b)&&xr(b);let J=a||s,Y=wg(S.location,S.matches,l,c.v7_prependBasename,L,R,V==null?void 0:V.relative),re=qo(J,Y,l);if(!re){il(b,R,Gt(404,{pathname:Y}));return}let{path:X,submission:q,error:ve}=N1(c.v7_normalizeFormMethod,!0,Y,V);if(ve){il(b,R,ve);return}let xe=kg(re,X);if(M=(V&&V.preventScrollReset)===!0,q&&pn(q.formMethod)){SI(b,R,X,xe,re,q);return}W.set(b,{routeId:R,path:X}),kI(b,R,X,xe,re,q)}async function SI(b,R,L,V,J,Y){if(wm(),W.delete(b),!V.route.action&&!V.route.lazy){let Me=Gt(405,{method:Y.formMethod,pathname:L,routeId:R});il(b,R,Me);return}let re=S.fetchers.get(b),X=zM(Y,re);S.fetchers.set(b,X),He({fetchers:new Map(S.fetchers)});let q=new AbortController,ve=gl(e.history,L,q.signal,Y);H.set(b,q);let xe=Q,ce=await vl("action",ve,V,J,o,i,l);if(ve.signal.aborted){H.get(b)===q&&H.delete(b);return}if(ae.has(b)){S.fetchers.set(b,Pr(void 0)),He({fetchers:new Map(S.fetchers)});return}if(as(ce))if(H.delete(b),I>xe){let Me=Pr(void 0);S.fetchers.set(b,Me),He({fetchers:new Map(S.fetchers)});return}else{B.add(b);let Me=yl(Y);return S.fetchers.set(b,Me),He({fetchers:new Map(S.fetchers)}),rl(S,ce,{fetcherSubmission:Y})}if(Hl(ce)){il(b,R,ce.error);return}if(Ai(ce))throw Gt(400,{type:"defer-action"});let ge=S.navigation.location||S.location,je=gl(e.history,ge,q.signal),bi=a||s,_i=S.navigation.state!=="idle"?qo(bi,S.navigation.location,l):S.matches;ie(_i,"Didn't find any matches after fetcher action");let ol=++Q;P.set(b,ol);let km=yl(Y,ce.data);S.fetchers.set(b,km);let[Jn,Dr]=L1(e.history,S,_i,Y,ge,ne,oe,U,W,B,bi,l,{[V.route.id]:ce.data},void 0);Dr.filter(Me=>Me.key!==b).forEach(Me=>{let sl=Me.key,kw=S.fetchers.get(sl),_I=yl(void 0,kw?kw.data:void 0);S.fetchers.set(sl,_I),H.has(sl)&&xr(sl),Me.controller&&H.set(sl,Me.controller)}),He({fetchers:new Map(S.fetchers)});let Yf=()=>Dr.forEach(Me=>xr(Me.key));q.signal.addEventListener("abort",Yf);let{results:Em,loaderResults:Cm,fetcherResults:xm}=await hw(S.matches,_i,Jn,Dr,je);if(q.signal.aborted)return;q.signal.removeEventListener("abort",Yf),P.delete(b),H.delete(b),Dr.forEach(Me=>H.delete(Me.key));let me=U1(Em);if(me){if(me.idx>=Jn.length){let Me=Dr[me.idx-Jn.length].key;B.add(Me)}return rl(S,me.result)}let{loaderData:tn,errors:br}=z1(S,S.matches,Jn,Cm,void 0,Dr,xm,$e);if(S.fetchers.has(b)){let Me=Pr(ce.data);S.fetchers.set(b,Me)}vw(ol),S.navigation.state==="loading"&&ol>I?(ie(x,"Expected pending action"),_&&_.abort(),nl(S.navigation.location,{matches:_i,loaderData:tn,errors:br,fetchers:new Map(S.fetchers)})):(He({errors:br,loaderData:F1(S.loaderData,tn,_i,br),fetchers:new Map(S.fetchers)}),ne=!1)}async function kI(b,R,L,V,J,Y){let re=S.fetchers.get(b),X=yl(Y,re?re.data:void 0);S.fetchers.set(b,X),He({fetchers:new Map(S.fetchers)});let q=new AbortController,ve=gl(e.history,L,q.signal);H.set(b,q);let xe=Q,ce=await vl("loader",ve,V,J,o,i,l);if(Ai(ce)&&(ce=await px(ce,ve.signal,!0)||ce),H.get(b)===q&&H.delete(b),ve.signal.aborted)return;if(ae.has(b)){S.fetchers.set(b,Pr(void 0)),He({fetchers:new Map(S.fetchers)});return}if(as(ce))if(I>xe){let je=Pr(void 0);S.fetchers.set(b,je),He({fetchers:new Map(S.fetchers)});return}else{B.add(b),await rl(S,ce);return}if(Hl(ce)){il(b,R,ce.error);return}ie(!Ai(ce),"Unhandled fetcher deferred data");let ge=Pr(ce.data);S.fetchers.set(b,ge),He({fetchers:new Map(S.fetchers)})}async function rl(b,R,L){let{submission:V,fetcherSubmission:J,replace:Y}=L===void 0?{}:L;R.revalidate&&(ne=!0);let re=uu(b.location,R.location,{_isRedirect:!0});if(ie(re,"Expected a location on the redirect navigation"),n){let ge=!1;if(R.reloadDocument)ge=!0;else if(cx.test(R.location)){const je=e.history.createURL(R.location);ge=je.origin!==t.location.origin||Ya(je.pathname,l)==null}if(ge){Y?t.location.replace(R.location):t.location.assign(R.location);return}}_=null;let X=Y===!0?Te.Replace:Te.Push,{formMethod:q,formAction:ve,formEncType:xe}=b.navigation;!V&&!J&&q&&ve&&xe&&(V=V1(b.navigation));let ce=V||J;if(bM.has(R.status)&&ce&&pn(ce.formMethod))await Di(X,re,{submission:Re({},ce,{formAction:R.location}),preventScrollReset:M});else{let ge=ev(re,V);await Di(X,re,{overrideNavigation:ge,fetcherSubmission:J,preventScrollReset:M})}}async function hw(b,R,L,V,J){let Y=await Promise.all([...L.map(q=>vl("loader",J,q,R,o,i,l)),...V.map(q=>q.matches&&q.match&&q.controller?vl("loader",gl(e.history,q.path,q.controller.signal),q.match,q.matches,o,i,l):{type:Ne.error,error:Gt(404,{pathname:q.path})})]),re=Y.slice(0,L.length),X=Y.slice(L.length);return await Promise.all([B1(b,L,re,re.map(()=>J.signal),!1,S.loaderData),B1(b,V.map(q=>q.match),X,V.map(q=>q.controller?q.controller.signal:null),!0)]),{results:Y,loaderResults:re,fetcherResults:X}}function wm(){ne=!0,oe.push(...Sm()),W.forEach((b,R)=>{H.has(R)&&(U.push(R),xr(R))})}function il(b,R,L){let V=Al(S.matches,R);qf(b),He({errors:{[V.route.id]:L},fetchers:new Map(S.fetchers)})}function qf(b){let R=S.fetchers.get(b);H.has(b)&&!(R&&R.state==="loading"&&P.has(b))&&xr(b),W.delete(b),P.delete(b),B.delete(b),ae.delete(b),S.fetchers.delete(b)}function EI(b){if(c.v7_fetcherPersist){let R=(K.get(b)||0)-1;R<=0?(K.delete(b),ae.add(b)):K.set(b,R)}else qf(b);He({fetchers:new Map(S.fetchers)})}function xr(b){let R=H.get(b);ie(R,"Expected fetch controller: "+b),R.abort(),H.delete(b)}function pw(b){for(let R of b){let L=dw(R),V=Pr(L.data);S.fetchers.set(R,V)}}function mw(){let b=[],R=!1;for(let L of B){let V=S.fetchers.get(L);ie(V,"Expected fetcher: "+L),V.state==="loading"&&(B.delete(L),b.push(L),R=!0)}return pw(b),R}function vw(b){let R=[];for(let[L,V]of P)if(V<b){let J=S.fetchers.get(L);ie(J,"Expected fetcher: "+L),J.state==="loading"&&(xr(L),P.delete(L),R.push(L))}return pw(R),R.length>0}function CI(b,R){let L=S.blockers.get(b)||ml;return Ae.get(b)!==R&&Ae.set(b,R),L}function gw(b){S.blockers.delete(b),Ae.delete(b)}function Jf(b,R){let L=S.blockers.get(b)||ml;ie(L.state==="unblocked"&&R.state==="blocked"||L.state==="blocked"&&R.state==="blocked"||L.state==="blocked"&&R.state==="proceeding"||L.state==="blocked"&&R.state==="unblocked"||L.state==="proceeding"&&R.state==="unblocked","Invalid blocker state transition: "+L.state+" -> "+R.state);let V=new Map(S.blockers);V.set(b,R),He({blockers:V})}function yw(b){let{currentLocation:R,nextLocation:L,historyAction:V}=b;if(Ae.size===0)return;Ae.size>1&&mi(!1,"A router only supports one blocker at a time");let J=Array.from(Ae.entries()),[Y,re]=J[J.length-1],X=S.blockers.get(Y);if(!(X&&X.state==="proceeding")&&re({currentLocation:R,nextLocation:L,historyAction:V}))return Y}function Sm(b){let R=[];return $e.forEach((L,V)=>{(!b||b(V))&&(L.cancel(),R.push(V),$e.delete(V))}),R}function xI(b,R,L){if(d=b,w=R,p=L||null,!g&&S.navigation===Zm){g=!0;let V=Sw(S.location,S.matches);V!=null&&He({restoreScrollPosition:V})}return()=>{d=null,w=null,p=null}}function ww(b,R){return p&&p(b,R.map(V=>nM(V,S.loaderData)))||b.key}function DI(b,R){if(d&&w){let L=ww(b,R);d[L]=w()}}function Sw(b,R){if(d){let L=ww(b,R),V=d[L];if(typeof V=="number")return V}return null}function bI(b){o={},a=yg(b,i,void 0,o)}return k={get basename(){return l},get state(){return S},get routes(){return s},get window(){return t},initialize:en,subscribe:mI,enableScrollRestoration:xI,navigate:fw,fetch:wI,revalidate:vI,createHref:b=>e.history.createHref(b),encodeLocation:b=>e.history.encodeLocation(b),getFetcher:dw,deleteFetcher:EI,dispose:Cr,getBlocker:CI,deleteBlocker:gw,_internalFetchControllers:H,_internalActiveDeferreds:$e,_internalSetRoutes:bI},k}function RM(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function wg(e,t,n,r,i,o,s){let a,l;if(o!=null&&s!=="path"){a=[];for(let f of t)if(a.push(f),f.route.id===o){l=f;break}}else a=t,l=t[t.length-1];let c=k0(i||".",nm(a).map(f=>f.pathnameBase),Ya(e.pathname,n)||e.pathname,s==="path");return i==null&&(c.search=e.search,c.hash=e.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!C0(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:dr([n,c.pathname])),Io(c)}function N1(e,t,n,r){if(!r||!RM(r))return{path:n};if(r.formMethod&&!AM(r.formMethod))return{path:n,error:Gt(405,{method:r.formMethod})};let i=()=>({path:n,error:Gt(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=e?o.toUpperCase():o.toLowerCase(),a=hx(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!pn(s))return i();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,w)=>{let[g,C]=w;return""+p+g+"="+C+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!pn(s))return i();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}ie(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Sg(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Sg(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=H1(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=H1(l)}catch{return i()}let f={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(pn(f.formMethod))return{path:n,submission:f};let h=Kn(n);return t&&h.search&&C0(h.search)&&l.append("index",""),h.search="?"+l,{path:Io(h),submission:f}}function MM(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function L1(e,t,n,r,i,o,s,a,l,c,f,h,d,p){let w=p?Object.values(p)[0]:d?Object.values(d)[0]:void 0,g=e.createURL(t.location),C=e.createURL(i),v=p?Object.keys(p)[0]:void 0,k=MM(n,v).filter((x,M)=>{if(x.route.lazy)return!0;if(x.route.loader==null)return!1;if(OM(t.loaderData,t.matches[M],x)||s.some($=>$===x.route.id))return!0;let _=t.matches[M],T=x;return $1(x,Re({currentUrl:g,currentParams:_.params,nextUrl:C,nextParams:T.params},r,{actionResult:w,defaultShouldRevalidate:o||g.pathname+g.search===C.pathname+C.search||g.search!==C.search||dx(_,T)}))}),S=[];return l.forEach((x,M)=>{if(!n.some(se=>se.route.id===x.routeId))return;let _=qo(f,x.path,h);if(!_){S.push({key:M,routeId:x.routeId,path:x.path,matches:null,match:null,controller:null});return}let T=t.fetchers.get(M),$=kg(_,x.path),j=!1;c.has(M)?j=!1:a.includes(M)?j=!0:T&&T.state!=="idle"&&T.data===void 0?j=o:j=$1($,Re({currentUrl:g,currentParams:t.matches[t.matches.length-1].params,nextUrl:C,nextParams:n[n.length-1].params},r,{actionResult:w,defaultShouldRevalidate:o})),j&&S.push({key:M,routeId:x.routeId,path:x.path,matches:_,match:$,controller:new AbortController})}),[k,S]}function OM(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function dx(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function $1(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function A1(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];ie(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";mi(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!eM.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,Re({},t(i),{lazy:void 0}))}async function vl(e,t,n,r,i,o,s,a){a===void 0&&(a={});let l,c,f,h=w=>{let g,C=new Promise((v,y)=>g=y);return f=()=>g(),t.signal.addEventListener("abort",f),Promise.race([w({request:t,params:n.params,context:a.requestContext}),C])};try{let w=n.route[e];if(n.route.lazy)if(w){let g,C=await Promise.all([h(w).catch(v=>{g=v}),A1(n.route,o,i)]);if(g)throw g;c=C[0]}else if(await A1(n.route,o,i),w=n.route[e],w)c=await h(w);else if(e==="action"){let g=new URL(t.url),C=g.pathname+g.search;throw Gt(405,{method:t.method,pathname:C,routeId:n.route.id})}else return{type:Ne.data,data:void 0};else if(w)c=await h(w);else{let g=new URL(t.url),C=g.pathname+g.search;throw Gt(404,{pathname:C})}ie(c!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(w){l=Ne.error,c=w}finally{f&&t.signal.removeEventListener("abort",f)}if($M(c)){let w=c.status;if(DM.has(w)){let v=c.headers.get("Location");if(ie(v,"Redirects returned/thrown from loaders/actions must have a Location header"),!cx.test(v))v=wg(new URL(t.url),r.slice(0,r.indexOf(n)+1),s,!0,v);else if(!a.isStaticRequest){let y=new URL(t.url),k=v.startsWith("//")?new URL(y.protocol+v):new URL(v),S=Ya(k.pathname,s)!=null;k.origin===y.origin&&S&&(v=k.pathname+k.search+k.hash)}if(a.isStaticRequest)throw c.headers.set("Location",v),c;return{type:Ne.redirect,status:w,location:v,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:l===Ne.error?Ne.error:Ne.data,response:c};let g,C=c.headers.get("Content-Type");return C&&/\bapplication\/json\b/.test(C)?g=await c.json():g=await c.text(),l===Ne.error?{type:l,error:new E0(w,c.statusText,g),headers:c.headers}:{type:Ne.data,data:g,statusCode:c.status,headers:c.headers}}if(l===Ne.error)return{type:l,error:c};if(LM(c)){var d,p;return{type:Ne.deferred,deferredData:c,statusCode:(d=c.init)==null?void 0:d.status,headers:((p=c.init)==null?void 0:p.headers)&&new Headers(c.init.headers)}}return{type:Ne.data,data:c}}function gl(e,t,n,r){let i=e.createURL(hx(t)).toString(),o={signal:n};if(r&&pn(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=Sg(r.formData):o.body=r.formData}return new Request(i,o)}function Sg(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function H1(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function TM(e,t,n,r,i){let o={},s=null,a,l=!1,c={};return n.forEach((f,h)=>{let d=t[h].route.id;if(ie(!as(f),"Cannot handle redirect results in processLoaderData"),Hl(f)){let p=Al(e,d),w=f.error;r&&(w=Object.values(r)[0],r=void 0),s=s||{},s[p.route.id]==null&&(s[p.route.id]=w),o[d]=void 0,l||(l=!0,a=lx(f.error)?f.error.status:500),f.headers&&(c[d]=f.headers)}else Ai(f)?(i.set(d,f.deferredData),o[d]=f.deferredData.data):o[d]=f.data,f.statusCode!=null&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(c[d]=f.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:c}}function z1(e,t,n,r,i,o,s,a){let{loaderData:l,errors:c}=TM(t,n,r,i,a);for(let f=0;f<o.length;f++){let{key:h,match:d,controller:p}=o[f];ie(s!==void 0&&s[f]!==void 0,"Did not find corresponding fetcher result");let w=s[f];if(!(p&&p.signal.aborted))if(Hl(w)){let g=Al(e.matches,d==null?void 0:d.route.id);c&&c[g.route.id]||(c=Re({},c,{[g.route.id]:w.error})),e.fetchers.delete(h)}else if(as(w))ie(!1,"Unhandled fetcher revalidation redirect");else if(Ai(w))ie(!1,"Unhandled fetcher deferred data");else{let g=Pr(w.data);e.fetchers.set(h,g)}}return{loaderData:l,errors:c}}function F1(e,t,n,r){let i=Re({},t);for(let o of n){let s=o.route.id;if(t.hasOwnProperty(s)?t[s]!==void 0&&(i[s]=t[s]):e[s]!==void 0&&o.route.loader&&(i[s]=e[s]),r&&r.hasOwnProperty(s))break}return i}function Al(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function j1(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Gt(e,t){let{pathname:n,routeId:r,method:i,type:o}=t===void 0?{}:t,s="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):e===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):e===404?(s="Not Found",a='No route matches URL "'+n+'"'):e===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new E0(e||500,s,new Error(a),!0)}function U1(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(as(n))return{result:n,idx:t}}}function hx(e){let t=typeof e=="string"?Kn(e):e;return Io(Re({},t,{hash:""}))}function NM(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Ai(e){return e.type===Ne.deferred}function Hl(e){return e.type===Ne.error}function as(e){return(e&&e.type)===Ne.redirect}function LM(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function $M(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body!="undefined"}function AM(e){return xM.has(e.toLowerCase())}function pn(e){return EM.has(e.toLowerCase())}async function B1(e,t,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=t[s];if(!l)continue;let c=e.find(h=>h.route.id===l.route.id),f=c!=null&&!dx(c,l)&&(o&&o[l.route.id])!==void 0;if(Ai(a)&&(i||f)){let h=r[s];ie(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await px(a,h,i).then(d=>{d&&(n[s]=d||n[s])})}}}async function px(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Ne.data,data:e.deferredData.unwrappedData}}catch(i){return{type:Ne.error,error:i}}return{type:Ne.data,data:e.deferredData.data}}}function C0(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function kg(e,t){let n=typeof t=="string"?Kn(t).search:t.search;if(e[e.length-1].route.index&&C0(n||""))return e[e.length-1];let r=nm(e);return r[r.length-1]}function V1(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:s}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function ev(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function HM(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function yl(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function zM(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Pr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function FM(e,t){try{let n=e.sessionStorage.getItem(fx);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch{}}function jM(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(fx,JSON.stringify(n))}catch(r){mi(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ih.apply(this,arguments)}const rm=O.exports.createContext(null),mx=O.exports.createContext(null),Xa=O.exports.createContext(null),im=O.exports.createContext(null),kr=O.exports.createContext({outlet:null,matches:[],isDataRoute:!1}),vx=O.exports.createContext(null);function UM(e,t){let{relative:n}=t===void 0?{}:t;Of()||ie(!1);let{basename:r,navigator:i}=O.exports.useContext(Xa),{hash:o,pathname:s,search:a}=wx(e,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:dr([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Of(){return O.exports.useContext(im)!=null}function om(){return Of()||ie(!1),O.exports.useContext(im).location}function gx(e){O.exports.useContext(Xa).static||O.exports.useLayoutEffect(e)}function yx(){let{isDataRoute:e}=O.exports.useContext(kr);return e?r4():BM()}function BM(){Of()||ie(!1);let e=O.exports.useContext(rm),{basename:t,navigator:n}=O.exports.useContext(Xa),{matches:r}=O.exports.useContext(kr),{pathname:i}=om(),o=JSON.stringify(nm(r).map(l=>l.pathnameBase)),s=O.exports.useRef(!1);return gx(()=>{s.current=!0}),O.exports.useCallback(function(l,c){if(c===void 0&&(c={}),!s.current)return;if(typeof l=="number"){n.go(l);return}let f=k0(l,JSON.parse(o),i,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:dr([t,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[t,n,o,i,e])}const VM=O.exports.createContext(null);function WM(e){let t=O.exports.useContext(kr).outlet;return t&&O.exports.createElement(VM.Provider,{value:e},t)}function GM(){let{matches:e}=O.exports.useContext(kr),t=e[e.length-1];return t?t.params:{}}function wx(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=O.exports.useContext(kr),{pathname:i}=om(),o=JSON.stringify(nm(r).map(s=>s.pathnameBase));return O.exports.useMemo(()=>k0(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function QM(e,t,n){Of()||ie(!1);let{navigator:r}=O.exports.useContext(Xa),{matches:i}=O.exports.useContext(kr),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=om(),c;if(t){var f;let g=typeof t=="string"?Kn(t):t;a==="/"||((f=g.pathname)==null?void 0:f.startsWith(a))||ie(!1),c=g}else c=l;let h=c.pathname||"/",d=a==="/"?h:h.slice(a.length)||"/",p=qo(e,{pathname:d}),w=XM(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},s,g.params),pathname:dr([a,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:dr([a,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,n);return t&&w?O.exports.createElement(im.Provider,{value:{location:Ih({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Te.Pop}},w):w}function KM(){let e=n4(),t=lx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return O.exports.createElement(O.exports.Fragment,null,O.exports.createElement("h2",null,"Unexpected Application Error!"),O.exports.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.exports.createElement("pre",{style:i},n):null,o)}const qM=O.exports.createElement(KM,null);class JM extends O.exports.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?O.exports.createElement(kr.Provider,{value:this.props.routeContext},O.exports.createElement(vx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YM(e){let{routeContext:t,match:n,children:r}=e,i=O.exports.useContext(rm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),O.exports.createElement(kr.Provider,{value:t},r)}function XM(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let o=e,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||ie(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,l,c)=>{let f=l.route.id?s==null?void 0:s[l.route.id]:null,h=null;n&&(h=l.route.errorElement||qM);let d=t.concat(o.slice(0,c+1)),p=()=>{let w;return f?w=h:l.route.Component?w=O.exports.createElement(l.route.Component,null):l.route.element?w=l.route.element:w=a,O.exports.createElement(YM,{match:l,routeContext:{outlet:a,matches:d,isDataRoute:n!=null},children:w})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?O.exports.createElement(JM,{location:n.location,revalidation:n.revalidation,component:h,error:f,children:p(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):p()},null)}var Sx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Sx||{}),Ph=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ph||{});function ZM(e){let t=O.exports.useContext(rm);return t||ie(!1),t}function e4(e){let t=O.exports.useContext(mx);return t||ie(!1),t}function t4(e){let t=O.exports.useContext(kr);return t||ie(!1),t}function kx(e){let t=t4(),n=t.matches[t.matches.length-1];return n.route.id||ie(!1),n.route.id}function n4(){var e;let t=O.exports.useContext(vx),n=e4(Ph.UseRouteError),r=kx(Ph.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function r4(){let{router:e}=ZM(Sx.UseNavigateStable),t=kx(Ph.UseNavigateStable),n=O.exports.useRef(!1);return gx(()=>{n.current=!0}),O.exports.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ih({fromRouteId:t},o)))},[e,t])}const i4="startTransition";rE[i4];function o4(e){return WM(e.context)}function Od(e){ie(!1)}function s4(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Te.Pop,navigator:o,static:s=!1}=e;Of()&&ie(!1);let a=t.replace(/^\/*/,"/"),l=O.exports.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=Kn(r));let{pathname:c="/",search:f="",hash:h="",state:d=null,key:p="default"}=r,w=O.exports.useMemo(()=>{let g=Ya(c,a);return g==null?null:{location:{pathname:g,search:f,hash:h,state:d,key:p},navigationType:i}},[a,c,f,h,d,p,i]);return w==null?null:O.exports.createElement(Xa.Provider,{value:l},O.exports.createElement(im.Provider,{children:n,value:w}))}new Promise(()=>{});function Eg(e,t){t===void 0&&(t=[]);let n=[];return O.exports.Children.forEach(e,(r,i)=>{if(!O.exports.isValidElement(r))return;let o=[...t,i];if(r.type===O.exports.Fragment){n.push.apply(n,Eg(r.props.children,o));return}r.type!==Od&&ie(!1),!r.props.index||!r.props.children||ie(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Eg(r.props.children,o)),n.push(s)}),n}function a4(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:O.exports.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:O.exports.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cu(){return cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cu.apply(this,arguments)}function l4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function u4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function c4(e,t){return e.button===0&&(!t||t==="_self")&&!u4(e)}const f4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function d4(e,t){return PM({basename:t==null?void 0:t.basename,future:cu({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:YR({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||h4(),routes:e,mapRouteProperties:a4,window:t==null?void 0:t.window}).initialize()}function h4(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=cu({},t,{errors:p4(t.errors)})),t}function p4(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new E0(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const m4=O.exports.createContext({isTransitioning:!1}),v4=O.exports.createContext(new Map),g4="startTransition",W1=rE[g4];function y4(e){W1?W1(e):e()}class w4{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function S4(e){let{fallbackElement:t,router:n,future:r}=e,[i,o]=O.exports.useState(n.state),[s,a]=O.exports.useState(),[l,c]=O.exports.useState({isTransitioning:!1}),[f,h]=O.exports.useState(),[d,p]=O.exports.useState(),[w,g]=O.exports.useState(),C=O.exports.useRef(new Map),{v7_startTransition:v}=r||{},y=O.exports.useCallback(_=>{v?y4(_):_()},[v]),k=O.exports.useCallback((_,T)=>{let{deletedFetchers:$,unstable_viewTransitionOpts:j}=T;$.forEach(se=>C.current.delete(se)),_.fetchers.forEach((se,ne)=>{se.data!==void 0&&C.current.set(ne,se.data)}),!j||n.window==null||typeof n.window.document.startViewTransition!="function"?y(()=>o(_)):d&&f?(f.resolve(),d.skipTransition(),g({state:_,currentLocation:j.currentLocation,nextLocation:j.nextLocation})):(a(_),c({isTransitioning:!0,currentLocation:j.currentLocation,nextLocation:j.nextLocation}))},[n.window,d,f,C,y]);O.exports.useLayoutEffect(()=>n.subscribe(k),[n,k]),O.exports.useEffect(()=>{l.isTransitioning&&h(new w4)},[l.isTransitioning]),O.exports.useEffect(()=>{if(f&&s&&n.window){let _=s,T=f.promise,$=n.window.document.startViewTransition(async()=>{y(()=>o(_)),await T});$.finished.finally(()=>{h(void 0),p(void 0),a(void 0),c({isTransitioning:!1})}),p($)}},[y,s,f,n.window]),O.exports.useEffect(()=>{f&&s&&i.location.key===s.location.key&&f.resolve()},[f,d,i.location,s]),O.exports.useEffect(()=>{!l.isTransitioning&&w&&(a(w.state),c({isTransitioning:!0,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),g(void 0))},[l.isTransitioning,w]);let S=O.exports.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:_=>n.navigate(_),push:(_,T,$)=>n.navigate(_,{state:T,preventScrollReset:$==null?void 0:$.preventScrollReset}),replace:(_,T,$)=>n.navigate(_,{replace:!0,state:T,preventScrollReset:$==null?void 0:$.preventScrollReset})}),[n]),x=n.basename||"/",M=O.exports.useMemo(()=>({router:n,navigator:S,static:!1,basename:x}),[n,S,x]);return O.exports.createElement(O.exports.Fragment,null,O.exports.createElement(rm.Provider,{value:M},O.exports.createElement(mx.Provider,{value:i},O.exports.createElement(v4.Provider,{value:C.current},O.exports.createElement(m4.Provider,{value:l},O.exports.createElement(s4,{basename:x,location:i.location,navigationType:i.historyAction,navigator:S},i.initialized?O.exports.createElement(k4,{routes:n.routes,state:i}):t))))),null)}function k4(e){let{routes:t,state:n}=e;return QM(t,void 0,n)}const E4=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",C4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G1=O.exports.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:f,unstable_viewTransition:h}=t,d=l4(t,f4),{basename:p}=O.exports.useContext(Xa),w,g=!1;if(typeof c=="string"&&C4.test(c)&&(w=c,E4))try{let k=new URL(window.location.href),S=c.startsWith("//")?new URL(k.protocol+c):new URL(c),x=Ya(S.pathname,p);S.origin===k.origin&&x!=null?c=x+S.search+S.hash:g=!0}catch{}let C=UM(c,{relative:i}),v=x4(c,{replace:s,state:a,target:l,preventScrollReset:f,relative:i,unstable_viewTransition:h});function y(k){r&&r(k),k.defaultPrevented||v(k)}return O.exports.createElement("a",cu({},d,{href:w||C,onClick:g||o?r:y,ref:n,target:l}))});var Q1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Q1||(Q1={}));var K1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(K1||(K1={}));function x4(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=t===void 0?{}:t,l=yx(),c=om(),f=wx(e,{relative:s});return O.exports.useCallback(h=>{if(c4(h,n)){h.preventDefault();let d=r!==void 0?r:Io(c)===Io(f);l(e,{replace:d,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[c,l,f,r,i,n,e,o,s,a])}var Ex=Object.defineProperty,D4=Object.getOwnPropertyDescriptor,b4=Object.getOwnPropertyNames,_4=Object.prototype.hasOwnProperty,I4=(e,t)=>{for(var n in t)Ex(e,n,{get:t[n],enumerable:!0})},q1=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of b4(t))!_4.call(e,i)&&i!==n&&Ex(e,i,{get:()=>t[i],enumerable:!(r=D4(t,i))||r.enumerable});return e},P4=(e,t,n)=>(q1(e,t,"default"),n&&q1(n,t,"default"));function Jo(e,t){return e?{ok:!1,code:"join",left:e,right:t}:t}function ls(e,t){return{ok:!1,code:"prepend",key:e,tree:t}}function R4(e,t){const n=e.code;switch(n){case"invalid_type":return{code:n,path:t,expected:e.expected};case"invalid_literal":return{code:n,path:t,expected:e.expected};case"missing_value":return{code:n,path:t};case"invalid_length":return{code:n,path:t,minLength:e.minLength,maxLength:e.maxLength};case"unrecognized_keys":return{code:n,path:t,keys:e.keys};case"invalid_union":return{code:n,path:t,tree:e.tree};default:return{code:n,path:t,error:e.error}}}function x0(e,t=[],n=[]){for(;;)if(e.code==="join")x0(e.left,t.slice(),n),e=e.right;else if(e.code==="prepend")t.push(e.key),e=e.tree;else return e.code==="custom_error"&&typeof e.error=="object"&&e.error.path!==void 0&&t.push(...e.error.path),n.push(R4(e,t)),n}function tv(e,t){return e.length===0?"nothing":e.length===1?e[0]:`${e.slice(0,-1).join(", ")} ${t} ${e[e.length-1]}`}function J1(e){return typeof e=="bigint"?`${e}n`:JSON.stringify(e)}function Cx(e){let t=0;for(;;)if(e.code==="join")t+=Cx(e.left),e=e.right;else if(e.code==="prepend")e=e.tree;else return t+1}function xx(e){let t="",n=0;for(;;)if(e.code==="join")n+=Cx(e.right),e=e.left;else if(e.code==="prepend")t+="."+e.key,e=e.tree;else break;let r="validation failed";if(e.code==="invalid_type")r=`expected ${tv(e.expected,"or")}`;else if(e.code==="invalid_literal")r=`expected ${tv(e.expected.map(J1),"or")}`;else if(e.code==="missing_value")r="missing value";else if(e.code==="unrecognized_keys"){const o=e.keys;r=`unrecognized ${o.length===1?"key":"keys"} ${tv(o.map(J1),"and")}`}else if(e.code==="invalid_length"){const o=e.minLength,s=e.maxLength;r="expected an array with ",o>0?s===o?r+=`${o}`:s<1/0?r+=`between ${o} and ${s}`:r+=`at least ${o}`:r+=`at most ${s}`,r+=" item(s)"}else if(e.code==="custom_error"){const o=e.error;typeof o=="string"?r=o:o!==void 0&&(o.message!==void 0&&(r=o.message),o.path!==void 0&&(t+="."+o.path.join(".")))}let i=`${e.code} at .${t.slice(1)} (${r})`;return n===1?i+=" (+ 1 other issue)":n>1&&(i+=` (+ ${n} other issues)`),i}class D0 extends Error{constructor(t){super(xx(t)),this.issueTree=t,Object.setPrototypeOf(this,new.target.prototype),this.name=new.target.name,this._issues=void 0}get issues(){return this._issues===void 0&&(this._issues=x0(this.issueTree)),this._issues}}class Dx{constructor(t){this.issueTree=t,this.ok=!1,this._issues=void 0,this._message=void 0}get issues(){return this._issues===void 0&&(this._issues=x0(this.issueTree)),this._issues}get message(){return this._message===void 0&&(this._message=xx(this.issueTree)),this._message}throw(){throw new D0(this.issueTree)}}function Tf(e){return{ok:!0,value:e}}function b0(e){return new Dx({ok:!1,code:"custom_error",error:e})}function Cg(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const fu=Symbol.for("valita.Nothing");class bx{optional(){return new M4(this)}default(t){const n=Tf(t);return new Yo(this.optional(),r=>r===void 0?n:void 0)}assert(t,n){const r={ok:!1,code:"custom_error",error:n};return new Yo(this,i=>t(i)?void 0:r)}map(t){return new Yo(this,n=>({ok:!0,value:t(n)}))}chain(t){return new Yo(this,n=>{const r=t(n);return r.ok?r:r.issueTree})}}class It extends bx{nullable(){return Nx(Tx,this)}toTerminals(t){t(this)}try(t,n){let r=1;n!==void 0&&(n.mode==="passthrough"?r=0:n.mode==="strip"&&(r=2));const i=this.func(t,r);return i===void 0?{ok:!0,value:t}:i.ok?{ok:!0,value:i.value}:new Dx(i)}parse(t,n){let r=1;n!==void 0&&(n.mode==="passthrough"?r=0:n.mode==="strip"&&(r=2));const i=this.func(t,r);if(i===void 0)return t;if(i.ok)return i.value;throw new D0(i)}}class M4 extends bx{constructor(t){super(),this.type=t,this.name="optional"}func(t,n){return t===void 0||t===fu?void 0:this.type.func(t,n)}toTerminals(t){t(this),t(Ox),this.type.toTerminals(t)}optional(){return this}}function _x(e,t){if(typeof e!="number"){const n=t>>5;for(let r=e.length;r<=n;r++)e.push(0);return e[n]|=1<<t%32,e}else return t<32?e|1<<t:_x([e,0],t)}function wl(e,t){return typeof e=="number"?t<32?e>>>t&1:0:e[t>>5]>>>t%32&1}class er extends It{constructor(t,n,r){super(),this.shape=t,this.restType=n,this.checks=r,this.name="object"}check(t,n){var r;const i={ok:!1,code:"custom_error",error:n};return new er(this.shape,this.restType,[...(r=this.checks)!==null&&r!==void 0?r:[],{func:t,issue:i}])}func(t,n){let r=this._func;return r===void 0&&(r=O4(this.shape,this.restType,this.checks),this._func=r),r(t,n)}rest(t){return new er(this.shape,t)}extend(t){return new er(Object.assign(Object.assign({},this.shape),t),this.restType)}pick(...t){const n={};return t.forEach(r=>{n[r]=this.shape[r]}),new er(n,void 0)}omit(...t){const n=Object.assign({},this.shape);return t.forEach(r=>{delete n[r]}),new er(n,this.restType)}partial(){var t;const n={};Object.keys(this.shape).forEach(i=>{n[i]=this.shape[i].optional()});const r=(t=this.restType)===null||t===void 0?void 0:t.optional();return new er(n,r)}}function O4(e,t,n){const r=[],i=[];for(const p in e){let w=!1;e[p].toTerminals(g=>{w||(w=g.name==="optional")}),w?i.push(p):r.push(p)}const o=[...r,...i],s=o.length,a={ok:!1,code:"invalid_type",expected:["object"]};if(s===0&&(t==null?void 0:t.name)==="unknown")return function(p,w){if(!Cg(p))return a;if(n!==void 0){for(let g=0;g<n.length;g++)if(!n[g].func(p))return n[g].issue}};const l=o.map(p=>e[p]),c=r.length,f=Object.create(null);o.forEach((p,w)=>{f[p]=~w});const h=r.map(p=>ls(p,{ok:!1,code:"missing_value"}));function d(p,w,g){w==="__proto__"?Object.defineProperty(p,w,{value:g,writable:!0,enumerable:!0,configurable:!0}):p[w]=g}return function(p,w){if(!Cg(p))return a;let g=!1,C=p,v,y,k=0,S=0;if(w!==0||t!==void 0)for(const x in p){const M=p[x],_=~f[x];let T;if(_>=0)S++,k=_x(k,_),T=l[_].func(M,w);else if(t!==void 0)T=t.func(M,w);else{if(w===1)y===void 0?y=[x]:y.push(x);else if(w===2&&v===void 0&&!g){C={},g=!0;for(let $=0;$<s;$++)if(wl(k,$)){const j=o[$];d(C,j,p[j])}}continue}if(T===void 0)g&&v===void 0&&d(C,x,M);else if(!T.ok)v=Jo(v,ls(x,T));else if(v===void 0){if(!g)if(C={},g=!0,t===void 0){for(let $=0;$<s;$++)if($!==_&&wl(k,$)){const j=o[$];d(C,j,p[j])}}else for(const $ in p)d(C,$,p[$]);d(C,x,T.value)}}if(S<s)for(let x=0;x<s;x++){if(wl(k,x))continue;const M=o[x];let _=p[M];if(_===void 0&&!(M in p)){if(x<c){v=Jo(v,h[x]);continue}_=fu}const T=l[x].func(_,w);if(T===void 0)g&&v===void 0&&_!==fu&&d(C,M,_);else if(!T.ok)v=Jo(v,ls(M,T));else if(v===void 0){if(!g)if(C={},g=!0,t===void 0){for(let $=0;$<s;$++)if($<x||wl(k,$)){const j=o[$];d(C,j,p[j])}}else{for(const $ in p)d(C,$,p[$]);for(let $=0;$<x;$++)if(!wl(k,$)){const j=o[$];d(C,j,p[j])}}d(C,M,T.value)}}if(y!==void 0&&(v=Jo(v,{ok:!1,code:"unrecognized_keys",keys:y})),v===void 0&&n!==void 0){for(let x=0;x<n.length;x++)if(!n[x].func(C))return n[x].issue}return v===void 0&&g?{ok:!0,value:C}:v}}class Ix extends It{constructor(t,n){super(),this.head=t,this.name="array",this.rest=n!=null?n:Rx(),this.minLength=this.head.length,this.maxLength=n?1/0:this.minLength,this.invalidType={ok:!1,code:"invalid_type",expected:["array"]},this.invalidLength={ok:!1,code:"invalid_length",minLength:this.minLength,maxLength:this.maxLength}}func(t,n){if(!Array.isArray(t))return this.invalidType;const r=t.length,i=this.minLength,o=this.maxLength;if(r<i||r>o)return this.invalidLength;let s,a=t;for(let l=0;l<t.length;l++){const f=(l<i?this.head[l]:this.rest).func(t[l],n);f!==void 0&&(f.ok?(a===t&&(a=t.slice()),a[l]=f.value):s=Jo(s,ls(l,f)))}return s||(t===a?void 0:{ok:!0,value:a})}}function Rh(e){const t=typeof e;return t!=="object"?t:e===null?"null":Array.isArray(e)?"array":t}function Sl(e){return Array.from(new Set(e))}function T4(e){const t=new Map;e.forEach(r=>{for(const i in r)t.set(i,(t.get(i)||0)+1)});const n=[];return t.forEach((r,i)=>{r===e.length&&n.push(i)}),n}function Px(e){const t=new Map,n=new Map,r=new Map,i=[],o=[],s=[];e.forEach(({root:l,terminal:c})=>{var f;if(t.set(l,(f=t.get(l))!==null&&f!==void 0?f:t.size),c.name!=="never")if(c.name==="optional")o.push(l);else if(c.name==="unknown")i.push(l);else if(c.name==="literal"){const h=n.get(c.value)||[];h.push(l),n.set(c.value,h),s.push(Rh(c.value))}else{const h=r.get(c.name)||[];h.push(l),r.set(c.name,h),s.push(c.name)}}),n.forEach((l,c)=>{const f=r.get(Rh(c));f&&(f.push(...l),n.delete(c))});const a=(l,c)=>{var f,h;return((f=t.get(l))!==null&&f!==void 0?f:0)-((h=t.get(c))!==null&&h!==void 0?h:0)};return r.forEach((l,c)=>r.set(c,Sl(l.concat(i).sort(a)))),n.forEach((l,c)=>n.set(c,Sl(l.concat(i)).sort(a))),{types:r,literals:n,unknowns:Sl(i).sort(a),optionals:Sl(o).sort(a),expectedTypes:Sl(s)}}function N4(e,t){const n=[];for(const{root:d,terminal:p}of e)p.shape[t].toTerminals(w=>n.push({root:d,terminal:w}));const{types:r,literals:i,optionals:o,unknowns:s,expectedTypes:a}=Px(n);if(s.length>0||o.length>1)return;for(const d of i.values())if(d.length>1)return;for(const d of r.values())if(d.length>1)return;const l=ls(t,{ok:!1,code:"missing_value"}),c=ls(t,r.size===0?{ok:!1,code:"invalid_literal",expected:Array.from(i.keys())}:{ok:!1,code:"invalid_type",expected:a}),f=i.size>0?new Map:void 0;for(const[d,p]of i)f.set(d,p[0]);const h=r.size>0?{}:void 0;for(const[d,p]of r)h[d]=p[0];return function(d,p){var w;const g=d,C=g[t];if(C===void 0&&!(t in g))return o.length>0?o[0].func(g,p):l;const v=(w=h==null?void 0:h[Rh(C)])!==null&&w!==void 0?w:f==null?void 0:f.get(C);return v?v.func(g,p):c}}function L4(e){if(e.some(({terminal:r})=>r.name==="unknown"))return;const t=e.filter(r=>r.terminal.name==="object");if(t.length<2)return;const n=t.map(({terminal:r})=>r.shape);for(const r of T4(n)){const i=N4(t,r);if(i)return i}}function $4(e){const{expectedTypes:t,literals:n,types:r,unknowns:i,optionals:o}=Px(e),s=r.size===0&&i.length===0?{ok:!1,code:"invalid_literal",expected:Array.from(n.keys())}:{ok:!1,code:"invalid_type",expected:t},a=n.size>0?n:void 0,l=r.size>0?{}:void 0;for(const[c,f]of r)l[c]=f;return function(c,f){var h,d;let p;if(c===fu?p=o:p=(d=(h=l==null?void 0:l[Rh(c)])!==null&&h!==void 0?h:a==null?void 0:a.get(c))!==null&&d!==void 0?d:i,!p)return s;let w=0,g=s;for(let C=0;C<p.length;C++){const v=p[C].func(c,f);if(v===void 0||v.ok)return v;g=w>0?Jo(g,v):v,w++}return w>1?{ok:!1,code:"invalid_union",tree:g}:g}}class A4 extends It{constructor(t){super(),this.options=t,this.name="union"}toTerminals(t){this.options.forEach(n=>n.toTerminals(t))}func(t,n){let r=this._func;if(r===void 0){const i=[];this.options.forEach(a=>a.toTerminals(l=>{i.push({root:a,terminal:l})}));const o=$4(i),s=L4(i);s?r=function(a,l){return Cg(a)?s(a,l):o(a,l)}:r=o,this._func=r}return r(t,n)}}class Yo extends It{constructor(t,n){super(),this.transformed=t,this.transform=n,this.name="transform",this.undef=Tf(void 0),this.transformChain=void 0,this.transformRoot=void 0}func(t,n){let r=this.transformChain;if(!r){r=[];let s=this;for(;s instanceof Yo;)r.push(s.transform),s=s.transformed;r.reverse(),this.transformChain=r,this.transformRoot=s}let i=this.transformRoot.func(t,n);if(i!==void 0&&!i.ok)return i;let o;i!==void 0?o=i.value:t===fu?(o=void 0,i=this.undef):o=t;for(let s=0;s<r.length;s++){const a=r[s](o,n);if(a!==void 0){if(!a.ok)return a;o=a.value,i=a}}return i}toTerminals(t){this.transformed.toTerminals(t)}}class H4 extends It{constructor(t){super(),this.definer=t,this.name="lazy",this.recursing=!1}func(t,n){return this.type||(this.type=this.definer()),this.type.func(t,n)}toTerminals(t){if(!this.recursing)try{this.recursing=!0,this.type||(this.type=this.definer()),this.type.toTerminals(t)}finally{this.recursing=!1}}}class z4 extends It{constructor(){super(...arguments),this.name="never",this.issue={ok:!1,code:"invalid_type",expected:[]}}func(t,n){return this.issue}}const F4=new z4;function Rx(){return F4}class j4 extends It{constructor(){super(...arguments),this.name="unknown"}func(t,n){}}const U4=new j4;function Mx(){return U4}class B4 extends It{constructor(){super(...arguments),this.name="undefined",this.issue={ok:!1,code:"invalid_type",expected:["undefined"]}}func(t,n){return t===void 0?void 0:this.issue}}const Ox=new B4;function V4(){return Ox}class W4 extends It{constructor(){super(...arguments),this.name="null",this.issue={ok:!1,code:"invalid_type",expected:["null"]}}func(t,n){return t===null?void 0:this.issue}}const Tx=new W4;function G4(){return Tx}class Q4 extends It{constructor(){super(...arguments),this.name="number",this.issue={ok:!1,code:"invalid_type",expected:["number"]}}func(t,n){return typeof t=="number"?void 0:this.issue}}const K4=new Q4;function q4(){return K4}class J4 extends It{constructor(){super(...arguments),this.name="bigint",this.issue={ok:!1,code:"invalid_type",expected:["bigint"]}}func(t,n){return typeof t=="bigint"?void 0:this.issue}}const Y4=new J4;function X4(){return Y4}class Z4 extends It{constructor(){super(...arguments),this.name="string",this.issue={ok:!1,code:"invalid_type",expected:["string"]}}func(t,n){return typeof t=="string"?void 0:this.issue}}const eO=new Z4;function tO(){return eO}class nO extends It{constructor(){super(...arguments),this.name="boolean",this.issue={ok:!1,code:"invalid_type",expected:["boolean"]}}func(t,n){return typeof t=="boolean"?void 0:this.issue}}const rO=new nO;function iO(){return rO}class oO extends It{constructor(t){super(),this.value=t,this.name="literal",this.issue={ok:!1,code:"invalid_literal",expected:[t]}}func(t,n){return t===this.value?void 0:this.issue}}function sO(e){return new oO(e)}function _0(e){return new er(e,void 0)}function I0(e){return new er({},e!=null?e:Mx())}function P0(e){return new Ix([],e)}function aO(e){return new Ix(e)}function Nx(...e){return new A4(e)}function lO(e){return new H4(e)}var Lx=Object.freeze(Object.defineProperty({__proto__:null,ValitaError:D0,never:Rx,unknown:Mx,number:q4,bigint:X4,string:tO,boolean:iO,object:_0,record:I0,array:P0,tuple:aO,literal:sO,union:Nx,null:G4,undefined:V4,lazy:lO,ok:Tf,err:b0},Symbol.toStringTag,{value:"Module"}));function he(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}class Nf{constructor(){A(this,"_lockP",null)}async lock(){const t=this._lockP,{promise:n,resolve:r}=he();return this._lockP=n,await t,r}withLock(t){return xg(this.lock(),t)}}class $x{constructor(){A(this,"_lock",new Nf);A(this,"_writeP",null);A(this,"_readP",[])}read(){return this._lock.withLock(async()=>{await this._writeP;const{promise:t,resolve:n}=he();return this._readP.push(t),n})}withRead(t){return xg(this.read(),t)}async write(){return await this._lock.withLock(async()=>{await this._writeP,await Promise.all(this._readP);const{promise:t,resolve:n}=he();return this._writeP=t,this._readP=[],n})}withWrite(t){return xg(this.write(),t)}}async function xg(e,t){const n=await e;try{return await t()}finally{n()}}var z={};I4(z,{assert:()=>fO,is:()=>cO,parse:()=>zl,readonly:()=>dO,readonlyArray:()=>pO,readonlyObject:()=>hO,readonlyRecord:()=>mO,test:()=>R0});P4(z,Lx);function Dg(e){switch(typeof e){case"string":case"number":case"boolean":return JSON.stringify(e);case"undefined":return"undefined";case"bigint":return e.toString()+"n";default:return e===null?"null":Array.isArray(e)?"array":typeof e}}function nv(e,t){if(!(t!=null&&t.length))return Dg(e);let n=e;for(const r of t)n=n[r];return Dg(n)}function rv(e,t,n=r=>String(r)){if(t.length===1)return n(t[0]);const r=`${n(t[t.length-2])} ${e} ${n(t[t.length-1])}`;return t.length===2?r:`${t.slice(0,-2).map(n).join(", ")}, ${r}`}function uO(e,t){var o,s;const n=e.issues[0],{path:r}=n,i=r!=null&&r.length?` at ${r.join(".")}`:"";switch(n.code){case"invalid_type":return`Expected ${rv("or",n.expected)}${i}. Got ${nv(t,r)}`;case"missing_value":{const a=r&&r.length>1?` at ${r.slice(0,-1).join(".")}`:"";return(o=n.path)!=null&&o.length?`Missing property ${n.path.at(-1)}${a}`:`TODO Unknown missing property${a}`}case"invalid_literal":return`Expected literal value ${rv("or",n.expected,Dg)}${i} Got ${nv(t,r)}`;case"invalid_length":return`Expected array with length ${n.minLength===n.maxLength?n.minLength:`between ${n.minLength} and ${n.maxLength}`}${i}. Got array with length ${t.length}`;case"unrecognized_keys":return n.keys.length===1?`Unexpected property ${n.keys[0]}${i}`:`Unexpected properties ${rv("and",n.keys)}${i}`;case"invalid_union":return`Invalid union value${i}`;case"custom_error":{const{error:a}=n;return`${a?typeof a=="string"?a:(s=a.message)!=null?s:"unknown":"unknown"}${i}. Got ${nv(t,r)}`}}}function zl(e,t,n){const r=R0(e,t,n);if(!r.ok)throw new TypeError(r.error);return r.value}function cO(e,t,n){return R0(e,t,n).ok}function fO(e,t,n){zl(e,t,n)}function R0(e,t,n){const r=t.try(e,n?{mode:n}:void 0);return r.ok?r:{ok:!1,error:uO(r,e)}}function dO(e){return e}function hO(e){return _0(e)}function pO(e){return P0(e)}function mO(e){return I0(e)}function Qe(e,t="Assertion failed"){if(!e)throw new Error(t)}var M0=z.number(),Mh=z.union(M0,z.null()),vO=z.object({wsid:z.string(),timestamp:z.number().optional()}),gO=z.tuple([z.literal("connected"),vO]),yO=z.union(z.literal("AuthInvalidated"),z.literal("ClientNotFound"),z.literal("InvalidConnectionRequest"),z.literal("InvalidConnectionRequestBaseCookie"),z.literal("InvalidConnectionRequestLastMutationID"),z.literal("InvalidMessage"),z.literal("InvalidPush"),z.literal("RoomClosed"),z.literal("RoomNotFound"),z.literal("Unauthorized"),z.literal("VersionNotSupported")),wO=z.tuple([z.literal("error"),yO,z.string()]),SO=Object.prototype.hasOwnProperty,kO=Object.hasOwn||((e,t)=>SO.call(e,t));function O0(e,t){switch(typeof e){case"boolean":case"number":case"string":return!0;case"object":return e===null?!0:Array.isArray(e)?CO(e,t):EO(e,t)}return!1}function EO(e,t){for(const n in e)if(kO(e,n)){t.push(n);const r=e[n];if(r!==void 0&&!O0(r,t))return!1;t.pop()}return!0}function CO(e,t){for(let n=0;n<e.length;n++){if(t.push(n),!O0(e[n],t))return!1;t.pop()}return!0}var iv=[],Ax=z.unknown().chain(e=>{const t=O0(e,iv)?Tf(e):b0({message:"Not a JSON value",path:iv.slice()});return iv.length=0,t}),xO=z.object({op:z.literal("put"),key:z.string(),value:Ax}),DO=z.object({op:z.literal("del"),key:z.string()}),bO=z.object({op:z.literal("clear")}),_O=z.union(xO,DO,bO),Y1=z.array(_O),IO=z.object({baseCookie:Mh,cookie:M0,lastMutationIDChanges:z.record(z.number()),presence:Y1.optional(),patch:Y1,timestamp:z.number().optional(),debugOriginTimestamp:z.number().optional(),debugServerReceivedTimestamp:z.number().optional(),debugServerSentTimestamp:z.number().optional()}),PO=z.object({pokes:z.array(IO),requestID:z.string(),debugServerBufferMs:z.number().optional()}),RO=z.tuple([z.literal("poke"),PO]),MO=z.object({}),OO=z.tuple([z.literal("pong"),MO]),TO=z.object({clientGroupID:z.string(),cookie:Mh,requestID:z.string()}),NO=z.object({cookie:M0,requestID:z.string(),lastMutationIDChanges:z.record(z.number())}),LO=z.tuple([z.literal("pull"),TO]),$O=z.tuple([z.literal("pull"),NO]),AO=z.union(gO,RO,$O,wO,OO);z.object({userID:z.string()});z.object({roomID:z.string()});z.array(z.object({userID:z.string(),clientID:z.string()}));z.object({roomID:z.string(),jurisdiction:z.literal("eu").optional()});var HO=z.object({}),zO=z.tuple([z.literal("ping"),HO]),FO=z.object({id:z.number(),clientID:z.string(),name:z.string(),args:Ax,timestamp:z.number()}),jO=z.object({clientGroupID:z.string(),mutations:z.array(FO),pushVersion:z.number(),schemaVersion:z.string(),timestamp:z.number(),requestID:z.string()}),UO=z.tuple([z.literal("push"),jO]);z.union(zO,UO,LO);var BO=new URL("https://http-intake.logs.datadoghq.com/api/v2/logs"),VO=1e3,X1=250,WO=5*1024*1024,Z1=2,eS=WO/4,jt,cs,Hi,fs,ds,hs,gu,yu,ps,Gh,wu,bg,sk,GO=(sk=class{constructor(e){m(this,wu);m(this,jt,[]);m(this,cs,void 0);m(this,Hi,void 0);m(this,fs,void 0);m(this,ds,void 0);m(this,hs,void 0);m(this,gu,void 0);m(this,yu,void 0);m(this,ps,0);m(this,Gh,new Nf);const{apiKey:t,source:n,service:r,host:i,version:o,interval:s=5e3,baseURL:a=BO}=e;E(this,cs,t),E(this,Hi,n),E(this,fs,r),E(this,ds,i),E(this,hs,o),E(this,gu,s),E(this,yu,a.toString())}log(e,t,...n){u(this,jt).push(XO(n,t,e)),e==="error"||u(this,jt).length===X1?this.flush():D(this,wu,bg).call(this)}flush(){return u(this,Gh).withLock(async()=>{var t;const{length:e}=u(this,jt);if(e!==0){do{const n=Date.now(),r=[];let i=0;for(const l of u(this,jt)){l.flushDelayMs=n-l.date;let c=JSON.stringify(l);if(c.length>eS&&(l.message=`[Dropped message of length ${c.length}]`,c=JSON.stringify(l)),c.length+i+r.length>eS||(i+=c.length,r.push(c),r.length===VO))break}const o=r.join(`
`),s=new URL(u(this,yu));u(this,cs)!==void 0&&s.searchParams.set("dd-api-key",u(this,cs)),u(this,Hi)&&(s.searchParams.set("ddsource",u(this,Hi)),s.searchParams.set("dd-evp-origin",u(this,Hi))),u(this,fs)&&s.searchParams.set("service",u(this,fs)),u(this,ds)&&s.searchParams.set("host",u(this,ds)),u(this,hs)&&s.searchParams.set("ddtags",`version:${u(this,hs)}`);let a=!1;try{const l=await fetch(s.toString(),{method:"POST",body:o,keepalive:!0});a=l.ok,a||console.error("response",l.status,l.statusText,await l.text)}catch(l){console.error("Log flush to datadog failed",l)}if(a)u(this,jt).splice(0,r.length);else{let l=0;for(let c=0;c<r.length;c++){const f=u(this,jt)[c];f.flushRetryCount=((t=f.flushRetryCount)!=null?t:0)+1,f.flushRetryCount>Z1&&l++}l>0&&(console.error(`Dropping ${l} datadog log messages which failed to send ${Z1+1} times.`),u(this,jt).splice(0,l))}}while(u(this,jt).length>=X1);u(this,jt).length&&D(this,wu,bg).call(this)}})}},jt=new WeakMap,cs=new WeakMap,Hi=new WeakMap,fs=new WeakMap,ds=new WeakMap,hs=new WeakMap,gu=new WeakMap,yu=new WeakMap,ps=new WeakMap,Gh=new WeakMap,wu=new WeakSet,bg=function(){u(this,ps)||E(this,ps,setTimeout(()=>{E(this,ps,0),this.flush()},u(this,gu)))},sk);function Hx(e){return Array.isArray(e)&&e.length===1?Hx(e[0]):e}function tS(e){return{name:e.name,message:e.message,stack:e.stack}}function QO(e){if(e instanceof Error)return tS(e);if(e instanceof Array){const t=[];for(const n of e)n instanceof Error?t.push(tS(n)):t.push(n);return t}return e}var KO="flushRetryCount",qO="flushDelayMs",JO="@DATADOG_RESERVED_",YO=["host","source","status","service","version","trace_id","message","msg","date",qO,KO];function XO(e,t,n){let r;if(t!==void 0)for(const o of YO)Object.hasOwn(t,o)&&(r===void 0&&(r={...t}),r[JO+o]=r[o],delete r[o]);const i={...r!=null?r:t,date:Date.now(),message:QO(Hx(e)),status:n};return n==="error"&&(i.error={origin:"logger"}),i}var Lr,ms,Su,ku,Eu,Ut,$r,zi,Mn,Fi,ak,ZO=(ak=class{constructor(e){m(this,Lr,void 0);m(this,ms,void 0);m(this,Su,void 0);m(this,ku,void 0);m(this,Eu,void 0);m(this,Ut,[]);m(this,$r,0);m(this,zi,0);m(this,Mn,-1);m(this,Fi,!1);Qe(e.minBufferSizeMs<=e.maxBufferSizeMs),Qe(e.initialBufferSizeMs>=e.minBufferSizeMs),Qe(e.initialBufferSizeMs<=e.maxBufferSizeMs),Qe(e.adjustBufferSizeIntervalMs>0),E(this,ms,e.initialBufferSizeMs),E(this,Su,e.minBufferSizeMs),E(this,ku,e.maxBufferSizeMs),E(this,Eu,e.adjustBufferSizeIntervalMs),E(this,Lr,u(this,ms))}get bufferSizeMs(){return u(this,Lr)}recordMissable(e,t,n,r){var l,c,f,h;if(u(this,Fi)){E(this,Fi,!1);return}if(r=r.withContext("BufferSizer"),u(this,Ut).push(n),_n(this,$r)._++,t&&_n(this,zi)._++,u(this,Mn)===-1){E(this,Mn,e);return}if(e-u(this,Mn)<u(this,Eu)||u(this,$r)<200)return;u(this,Ut).sort((d,p)=>d-p);const i=u(this,Ut)[Math.floor(u(this,Ut).length*99.5/100)],o=u(this,Lr);(l=r.info)==null||l.call(r,"bufferSizeMs",o,"targetBufferNeededMs",i,"this._maxBufferNeededMs.length",u(this,Ut).length,"percentile index",Math.floor(u(this,Ut).length*99.5/100),u(this,Ut));let s=o;const a=u(this,zi)/u(this,$r);a>.01?(s=Math.min(u(this,ku),Math.max(o,i)),(c=r.info)==null||c.call(r,"High miss percent",a,"over last",e-u(this,Mn),"ms.")):a<.005&&(s=Math.max(u(this,Su),Math.min(o,i)),(f=r.info)==null||f.call(r,"Low miss percent",a,"over last",e-u(this,Mn),"ms.")),o!==s&&((h=r.info)==null||h.call(r,"Adjusting buffer",s>o?"up":"down","from",o,"to",s)),E(this,Ut,[]),E(this,$r,0),E(this,zi,0),E(this,Mn,e),E(this,Lr,s),E(this,Fi,!0)}reset(){E(this,Lr,u(this,ms)),E(this,Ut,[]),E(this,$r,0),E(this,zi,0),E(this,Mn,-1),E(this,Fi,!1)}},Lr=new WeakMap,ms=new WeakMap,Su=new WeakMap,ku=new WeakMap,Eu=new WeakMap,Ut=new WeakMap,$r=new WeakMap,zi=new WeakMap,Mn=new WeakMap,Fi=new WeakMap,ak);class zx{constructor(t){this._sinks=t}log(t,n,...r){for(const i of this._sinks)i.log(t,n,...r)}async flush(){await Promise.all(this._sinks.map(t=>{var n;return(n=t.flush)==null?void 0:n.call(t)}))}}class eT{constructor(t,n="info",r){this.debug=void 0,this.info=void 0,this.error=void 0;const i=o=>(...s)=>t.log(o,r,...s);switch(n){case"debug":this.debug=i("debug");case"info":this.info=i("info");case"error":this.error=i("error")}this.flush=()=>{var o,s;return(s=(o=t.flush)==null?void 0:o.call(t))!=null?s:Promise.resolve()}}}const wo={log(e,t,...n){console[e](...tT(t),...n.map(nT))}};class Lf extends eT{constructor(t="info",n,r=wo){super(r,t,n),this._level=t,this._logSink=r,this._context=n}withContext(t,n){const r={...this._context,[t]:n};return new Lf(this._level,r,this._logSink)}}function tT(e){const t=[];for(const[n,r]of Object.entries(e!=null?e:{})){const i=r===void 0?n:`${n}=${r}`;t.push(i)}return t}function nT(e){switch(typeof e){case"string":case"number":case"boolean":case"undefined":case"symbol":case"bigint":return e;case"object":if(e===null)return null;break}return JSON.stringify(e,rT)}function rT(e,t){return t instanceof Error?{name:t.name,message:t.message,stack:t.stack,..."cause"in t?{cause:t.cause}:null}:t}var Fx=Object.defineProperty,iT=Object.getOwnPropertyDescriptor,oT=Object.getOwnPropertyNames,sT=Object.prototype.hasOwnProperty,aT=(e,t)=>{for(var n in t)Fx(e,n,{get:t[n],enumerable:!0})},nS=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of oT(t))!sT.call(e,i)&&i!==n&&Fx(e,i,{get:()=>t[i],enumerable:!(r=iT(t,i))||r.enumerable});return e},lT=(e,t,n)=>(nS(e,t,"default"),n&&nS(n,t,"default")),jx="1.0";parseInt(jx.split(".")[1],10);var Ux="/api/"+jx,uT=Ux+"/license/status",cT=Ux+"/license/active";function fT(e){T0(e,"string")}function rS(e){T0(e,"boolean")}function T0(e,t){typeof e!==t&&Vx(e,t)}function Bx(e){e===null&&Vx(e,"object"),T0(e,"object")}function dT(e,t){let n="Invalid type: ";return e==null?n+=e:n+=`${typeof e} \`${e}\``,n+`, expected ${t}`}function Vx(e,t){throw new Error(dT(e,t))}new URL("https://replicache-license.herokuapp.com/");async function hT(e,t,n,r,i){var c,f;i=i.withContext("licenseActive");let o=new URL(cT,t),s=JSON.stringify({licenseKey:n,profileID:r});(c=i.debug)==null||c.call(i,`Sending ${o}`,s);let a=await(await e("post",o.toString(),s,{"Content-Type":"application/json",Accept:"application/json"})).text();(f=i.debug)==null||f.call(i,`Got ${o}`,a);let l=JSON.parse(a);mT(l)}async function pT(e,t,n,r){var l,c;r=r.withContext("getLicenseStatus");let i=new URL(uT,t),o=JSON.stringify({licenseKey:n});(l=r.debug)==null||l.call(r,`Sending ${i}`,o);let s=await(await e("post",i.toString(),o,{"Content-Type":"application/json",Accept:"application/json"})).text();(c=r.debug)==null||c.call(r,`Got ${i}`,s);let a=JSON.parse(s);return vT(a),a}function mT(e){Bx(e)}function vT(e){Bx(e),fT(e.status),rS(e.disable),rS(e.pleaseUpdate)}var iS="This key only good for automated testing";new URL("http://localhost:8080/");var oS=new URL("https://replicache-license.herokuapp.com/");new URL("https://replicache-license-staging.herokuapp.com/");function Z(e,t="Assertion failed"){if(!e)throw new Error(t)}function _e(e){sm(e,"string")}function gt(e){sm(e,"number")}function gT(e){sm(e,"boolean")}function sm(e,t){typeof e!==t&&vi(e,t)}function Ge(e){e===null&&vi(e,"object"),sm(e,"object")}function ja(e){Array.isArray(e)||vi(e,"array")}function yT(e,t){let n="Invalid type: ";return e==null?n+=e:n+=`${typeof e} \`${e}\``,n+`, expected ${t}`}function vi(e,t){throw new Error(yT(e,t))}function wT(e){if(e===null)throw new Error("Expected non-null value")}function Wx(e){if(e===void 0)throw new Error("Expected non undefined value")}function Gx(){throw new Error("Unreachable")}async function Qx(e,t,n,r){let i={headers:{"Content-type":"application/json",Authorization:t,"X-Replicache-RequestID":n},body:JSON.stringify(r),method:"POST"},o=new Request(e,i),s=await fetch(o),a=s.status;return a!==200?[void 0,{httpStatusCode:a,errorMessage:await s.text()}]:[s,{httpStatusCode:a,errorMessage:""}]}var ST=Object.prototype.hasOwnProperty,gi=Object.hasOwn||((e,t)=>ST.call(e,t)),Oh=new WeakSet;function kT(e){if(e!==void 0)return N0(e,[]),e}function N0(e,t){switch(typeof e){case"boolean":case"number":case"string":return;case"object":{if(e===null||Oh.has(e))return;Oh.add(e),t.includes(e)&&vi(e,"Cyclic JSON object"),t.push(e),Object.freeze(e),Array.isArray(e)?ET(e,t):CT(e,t),t.pop();return}default:vi(e,"JSON value")}}function ET(e,t){for(let n of e)N0(n,t)}function CT(e,t){for(let n in e)if(gi(e,n)){let r=e[n];r!==void 0&&N0(r,t)}}function xT(e){if(!_g(e,[]))throw new Error("Expected frozen object")}function _g(e,t){switch(typeof e){case"boolean":case"number":case"string":return!0;case"object":if(e===null||Oh.has(e))return!0;if(!Object.isFrozen(e))return!1;if(t.includes(e)&&vi(e,"Cyclic JSON object"),t.push(e),Array.isArray(e)){for(let n of e)if(!_g(n,t))return t.pop(),!1}else for(let n in e)if(gi(e,n)){let r=e[n];if(r!==void 0&&!_g(r,t))return t.pop(),!1}return Oh.add(e),t.pop(),!0;default:vi(e,"JSON value")}}function gr(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;switch(typeof e){case"boolean":case"number":case"string":return!1}if(e=e,Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!gr(e[i],t[i]))return!1;return!0}if(e===null||t===null||Array.isArray(t))return!1;e=e,t=t;let n=0;for(let i in e)if(gi(e,i)){if(!gr(e[i],t[i]))return!1;n++}let r=0;for(let i in t)gi(t,i)&&r++;return n===r}function To(e){{switch(typeof e){case"boolean":case"number":case"string":return;case"object":return e===null?void 0:Array.isArray(e)?bT(e):Kx(e)}vi(e,"JSON value")}}function DT(e){Ge(e),Kx(e)}function Kx(e){for(let t in e)if(gi(e,t)){let n=e[t];n!==void 0&&To(n)}}function bT(e){for(let t of e)To(t)}function L0(e,t){switch(typeof e){case"boolean":case"number":case"string":return!0;case"object":return e===null?!0:Array.isArray(e)?IT(e,t):_T(e,t)}return!1}function _T(e,t){for(let n in e)if(gi(e,n)){t.push(n);let r=e[n];if(r!==void 0&&!L0(r,t))return!1;t.pop()}return!0}function IT(e,t){for(let n=0;n<e.length;n++){if(t.push(n),!L0(e[n],t))return!1;t.pop()}return!0}function No(e){xT(e)}function _t(e){return kT(e)}function PT(e,t){return e===t?0:e<t?-1:1}function $0(e,t){if(e===t)return 0;if(e===null)return-1;if(t===null)return 1;let n=sS(e),r=sS(t);return typeof n=="string"||typeof r=="string"?PT(String(n),String(r)):n-r}function sS(e){return typeof e=="string"||typeof e=="number"?e:e.order}function RT(e){if(!(e===null||typeof e=="string"||typeof e=="number")&&(DT(e),!(typeof e.order=="string"||typeof e.order=="number")))throw new Error("Invalid cookie")}function qx(e,t){return typeof e=="object"&&e!==null&&e.error===t}function Jx(e){return typeof e.error=="string"}function Sn(e){return qx(e,"ClientStateNotFound")}function kn(e){if(!qx(e,"VersionNotSupported"))return!1;let{versionType:t}=e;switch(t){case void 0:case"pull":case"push":case"schema":return!0}return!1}function MT(e){Z(kn(e))}function A0(e){Ge(e),gt(e.httpStatusCode),_e(e.errorMessage)}function Yx(e){ja(e);for(let t of e)OT(t)}function OT(e){switch(Ge(e),e.op){case"put":_e(e.key),To(e.value);break;case"del":_e(e.key);break;case"clear":break;default:throw new Error(`unknown patch op \`${e.op}\`, expected one of \`put\`, \`del\`, \`clear\``)}}function TT(e){async function t(n,r){let[i,o]=await Qx(e.pullURL,e.auth,r,n);return i?{response:await i.json(),httpRequestInfo:o}:{httpRequestInfo:o}}return Xx.add(t),t}var Xx=new WeakSet;function NT(e){return Xx.has(e)}function LT(e){if(Ge(e),Sn(e)||kn(e))return;let t=e;t.cookie!==void 0&&To(t.cookie),gt(t.lastMutationID),Yx(t.patch)}function $T(e){if(Ge(e),Sn(e)||kn(e))return;let t=e;t.cookie!==void 0&&RT(t.cookie),AT(t.lastMutationIDChanges),Yx(t.patch)}function AT(e){Ge(e);for(let[t,n]of Object.entries(e))_e(t),gt(n)}function HT(e){Ge(e),A0(e.httpRequestInfo),e.response!==void 0&&$T(e.response)}function zT(e){Ge(e),A0(e.httpRequestInfo),e.response!==void 0&&LT(e.response)}var FT=Promise.resolve(!0),jT=Promise.resolve(!1);Promise.resolve(void 0);var yr=Promise.resolve(),Fl=Symbol(),Ar,lk,Zx=(lk=class{constructor(e){A(this,"o",new Map);m(this,Ar,void 0);E(this,Ar,e)}has(e){switch(this.o.get(e)){case void 0:return u(this,Ar).has(e);case Fl:return jT;default:return FT}}async get(e){let t=this.o.get(e);switch(t){case Fl:return;case void 0:{let n=await u(this,Ar).get(e);return _t(n)}default:return t}}put(e,t){return this.o.set(e,_t(t)),yr}del(e){return this.o.set(e,Fl),yr}release(){u(this,Ar).release()}get closed(){return u(this,Ar).closed}},Ar=new WeakMap,lk),UT={durability:"relaxed"},am="chunks",Hr,vs,gs,Cu,Ig,uk,Th=(uk=class{constructor(e){m(this,Cu);m(this,Hr,void 0);m(this,vs,!1);m(this,gs,!1);E(this,Hr,GT(e))}read(){return D(this,Cu,Ig).call(this,WT)}write(){return D(this,Cu,Ig).call(this,VT)}async close(){u(this,gs)||(await u(this,Hr)).close(),E(this,vs,!0)}get closed(){return u(this,vs)}},Hr=new WeakMap,vs=new WeakMap,gs=new WeakMap,Cu=new WeakSet,Ig=async function(e){let t=async r=>{let{promise:i,resolve:o,reject:s}=he(),a=indexedDB.open(r);a.onupgradeneeded=()=>{let c=a.transaction;wT(c),c.abort(),E(this,gs,!0),s(new aS(`Replicache IndexedDB not found: ${r}`))},a.onsuccess=()=>o(a.result),a.onerror=()=>s(a.error);let l=await i;return l.onversionchange=()=>l.close(),l},n=await u(this,Hr);try{return e(n)}catch(r){if(!u(this,vs)&&r instanceof DOMException){if(r.name==="InvalidStateError"){E(this,Hr,t(n.name));let i=await u(this,Hr);return e(i)}else if(r.name==="NotFoundError")throw E(this,gs,!0),indexedDB.deleteDatabase(n.name),new aS(`Replicache IndexedDB ${n.name} missing object store. Deleting db.`)}throw r}},uk),ys,xu,ck,eD=(ck=class{constructor(e){m(this,ys,void 0);m(this,xu,!1);E(this,ys,e)}has(e){return new Promise((t,n)=>{let r=Pg(u(this,ys)).count(e);r.onsuccess=()=>t(r.result>0),r.onerror=()=>n(r.error)})}get(e){return new Promise((t,n)=>{let r=Pg(u(this,ys)).get(e);r.onsuccess=()=>t(_t(r.result)),r.onerror=()=>n(r.error)})}release(){E(this,xu,!0)}get closed(){return u(this,xu)}},ys=new WeakMap,xu=new WeakMap,ck),Du,bu,fk,BT=(fk=class extends Zx{constructor(t){super(new eD(t));m(this,Du,void 0);m(this,bu,!1);E(this,Du,t)}commit(){return this.o.size===0?yr:new Promise((t,n)=>{let r=u(this,Du),i=Pg(r);for(let[o,s]of this.o)s===Fl?i.delete(o):i.put(s,o);r.oncomplete=()=>t(),r.onerror=()=>n(r.error)})}release(){E(this,bu,!0)}get closed(){return u(this,bu)}},Du=new WeakMap,bu=new WeakMap,fk);function VT(e){let t=e.transaction(am,"readwrite",UT);return new BT(t)}function WT(e){let t=e.transaction(am,"readonly");return new eD(t)}function Pg(e){return e.objectStore(am)}function GT(e){return new Promise((t,n)=>{let r=indexedDB.open(e);r.onupgradeneeded=()=>{r.result.createObjectStore(am)},r.onsuccess=()=>{let i=r.result;i.onversionchange=()=>i.close(),t(i)},r.onerror=()=>n(r.error)})}var aS=class extends Error{constructor(){super(...arguments);A(this,"name","IDBNotFoundError")}},ws,_u,Iu,dk,tD=(dk=class{constructor(e,t){m(this,ws,void 0);m(this,_u,void 0);m(this,Iu,!1);E(this,ws,e),E(this,_u,t)}release(){u(this,_u).call(this),E(this,Iu,!0)}get closed(){return u(this,Iu)}has(e){return Promise.resolve(u(this,ws).has(e))}get(e){return Promise.resolve(u(this,ws).get(e))}},ws=new WeakMap,_u=new WeakMap,Iu=new WeakMap,dk),Ss,hk,QT=(hk=class extends Zx{constructor(t,n){super(new tD(t,n));m(this,Ss,void 0);E(this,Ss,t)}commit(){return this.o.forEach((t,n)=>{t===Fl?u(this,Ss).delete(n):u(this,Ss).set(n,t)}),this.o.clear(),this.release(),yr}},Ss=new WeakMap,hk),lS=new Map,ks,Es,Pu,pk,nD=(pk=class{constructor(e){m(this,ks,void 0);m(this,Es,void 0);m(this,Pu,!1);let t=lS.get(e),n,r;t?{lock:n,map:r}=t:(n=new $x,r=new Map,lS.set(e,{lock:n,map:r})),E(this,Es,n),E(this,ks,r)}async read(){let e=await u(this,Es).read();return new tD(u(this,ks),e)}async write(){let e=await u(this,Es).write();return new QT(u(this,ks),e)}close(){return E(this,Pu,!0),yr}get closed(){return u(this,Pu)}},ks=new WeakMap,Es=new WeakMap,Pu=new WeakMap,pk),Ua=class extends Error{constructor(){super(...arguments);A(this,"name","AbortError")}},KT=Promise.resolve();new Promise(()=>{});function us(e,t){return e===0?KT:new Promise((n,r)=>{let i=setTimeout(()=>{n()},e);t&&t.addEventListener("abort",()=>{clearTimeout(i),r(new Ua("Aborted"))})})}function $f(e,t,n,r,i){qT(e,t,n,r,i)}async function qT(e,t,n,r,i){var o,s,a,l,c;if(!i.aborted){for(r=r.withContext("bgIntervalProcess",e),(o=r.debug)==null?void 0:o.call(r,"Starting");!i.aborted;){try{await us(n(),i)}catch(f){if(!(f instanceof Ua))throw f}if(!i.aborted){(s=r.debug)==null||s.call(r,"Running");try{await t()}catch(f){i.aborted?(a=r.debug)==null||a.call(r,"Error running most likely due to close.",f):(l=r.error)==null||l.call(r,"Error running.",f)}}}(c=r.debug)==null||c.call(r,"Stopping")}}var le={};aT(le,{assert:()=>Za,is:()=>YT,parse:()=>rD,readonly:()=>XT,readonlyArray:()=>z0,readonlyObject:()=>Ei,readonlyRecord:()=>F0,test:()=>H0});lT(le,Lx);function Rg(e){switch(typeof e){case"string":case"number":case"boolean":return JSON.stringify(e);case"undefined":return"undefined";case"bigint":return e.toString()+"n";default:return e===null?"null":Array.isArray(e)?"array":typeof e}}function ov(e,t){if(!(t!=null&&t.length))return Rg(e);let n=e;for(let r of t)n=n[r];return Rg(n)}function sv(e,t,n=r=>String(r)){if(t.length===1)return n(t[0]);let r=`${n(t[t.length-2])} ${e} ${n(t[t.length-1])}`;return t.length===2?r:`${t.slice(0,-2).map(n).join(", ")}, ${r}`}function JT(e,t){var o,s;let n=e.issues[0],{path:r}=n,i=r!=null&&r.length?` at ${r.join(".")}`:"";switch(n.code){case"invalid_type":return`Expected ${sv("or",n.expected)}${i}. Got ${ov(t,r)}`;case"missing_value":{let a=r&&r.length>1?` at ${r.slice(0,-1).join(".")}`:"";return(o=n.path)!=null&&o.length?`Missing property ${n.path.at(-1)}${a}`:`TODO Unknown missing property${a}`}case"invalid_literal":return`Expected literal value ${sv("or",n.expected,Rg)}${i} Got ${ov(t,r)}`;case"invalid_length":return`Expected array with length ${n.minLength===n.maxLength?n.minLength:`between ${n.minLength} and ${n.maxLength}`}${i}. Got array with length ${t.length}`;case"unrecognized_keys":return n.keys.length===1?`Unexpected property ${n.keys[0]}${i}`:`Unexpected properties ${sv("and",n.keys)}${i}`;case"invalid_union":return`Invalid union value${i}`;case"custom_error":{let{error:a}=n;return`${a?typeof a=="string"?a:(s=a.message)!=null?s:"unknown":"unknown"}${i}. Got ${ov(t,r)}`}}}function rD(e,t,n){let r=H0(e,t,n);if(!r.ok)throw new TypeError(r.error);return r.value}function YT(e,t,n){return H0(e,t,n).ok}function Za(e,t,n){rD(e,t,n)}function H0(e,t,n){let r=t.try(e,n?{mode:n}:void 0);return r.ok?r:{ok:!1,error:JT(r,e)}}function XT(e){return e}function Ei(e){return _0(e)}function z0(e){return P0(e)}function F0(e){return I0(e)}var Nh=typeof crypto<"u"&&typeof crypto.randomUUID<"u"?eN:ZT;function ZT(){return nN(Uint8Array.from({length:36},()=>Math.random()*256))}function eN(){return crypto.randomUUID()}var tN=[0,0,0,0,0,0,0,0,2,0,0,0,0,2,3,0,0,0,2,1,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0];function nN(e){return tN.map((t,n)=>{switch(t){case 0:return(e[n]&15).toString(16);case 1:return((e[n]&3)+8).toString(16);case 3:return"4";case 2:return"-"}}).join("")}var rN=/^[0-9a-v-]+$/,iN="00000000-0000-4000-8000-000000000000",ut=iN,gn=oN("",Nh);function oN(e,t){let n,r=0;return()=>{n||(n=sN(e,t()));let i=String(r++);return aN(n,i)}}function sN(e,t){return e+t.replaceAll("-","").slice(e.length)}function aN(e,t){return Z(t.length<=12),e+t.padStart(12,"0")}function lN(e){return typeof e=="string"&&rN.test(e)}function wr(e){Za(e,Po)}var Po=le.string().assert(lN,"Invalid hash"),iD=class{constructor(e,t,n){A(this,"hash");A(this,"data");A(this,"meta");Z(!n.includes(e),"Chunk cannot reference itself"),No(t),this.hash=e,this.data=t,this.meta=n}};function oD(e){if(!Array.isArray(e))throw new Error("Meta must be an array");for(let t of e)_e(t)}function sD(e,t,n){let r=n();return new iD(r,e,t)}function aD(){throw new Error("unexpected call to compute chunk hash")}function lD(e,t,n){return new uN(e,t,n).compute()}var Ru,Mu,ji,zr,Ui,On,Cs,Bi,xs,Td,Ou,Mg,Tu,Og,Qh,uD,mk,uN=(mk=class{constructor(e,t,n){m(this,xs);m(this,Ou);m(this,Tu);m(this,Qh);m(this,Ru,void 0);m(this,Mu,void 0);m(this,ji,void 0);m(this,zr,void 0);m(this,Ui,void 0);m(this,On,void 0);m(this,Cs,void 0);m(this,Bi,void 0);let r=[],i=[];for(let o of e)o.old!==o.new&&(o.old&&i.push(o.old),o.new&&r.push(o.new));E(this,Ru,r),E(this,Mu,i),E(this,ji,t),E(this,zr,n),E(this,On,new Map),E(this,Cs,new Map),E(this,Bi,n.areRefsCounted!==void 0),E(this,Ui,u(this,Bi)?new Set:null)}async compute(){for(let e of u(this,Ru))await D(this,xs,Td).call(this,e,1);if(await Promise.all(Array.from(u(this,ji).values(),e=>D(this,Tu,Og).call(this,e))),u(this,Bi)){Z(u(this,zr).areRefsCounted),Z(u(this,Ui));let e;do{e=!1;for(let t of u(this,ji).values())if(!u(this,zr).areRefsCounted(t)&&!u(this,Ui).has(t)&&u(this,On).get(t)!==0){await D(this,Ou,Mg).call(this,t,1),e=!0;break}}while(e)}for(let e of u(this,Mu))await D(this,xs,Td).call(this,e,-1);for(let[e,t]of u(this,On))Z(t>=0,`ref count update must be non-negative. ${e}:${t}`);return u(this,On)}},Ru=new WeakMap,Mu=new WeakMap,ji=new WeakMap,zr=new WeakMap,Ui=new WeakMap,On=new WeakMap,Cs=new WeakMap,Bi=new WeakMap,xs=new WeakSet,Td=async function(e,t){await D(this,Tu,Og).call(this,e),D(this,Qh,uD).call(this,e,t)&&await D(this,Ou,Mg).call(this,e,t)},Ou=new WeakSet,Mg=async function(e,t){var r;if(e===ut)return;let n=await u(this,zr).getRefs(e);if(Z(n||u(this,Bi)&&!u(this,ji).has(e),"refs must be defined"),n!==void 0){(r=u(this,Ui))==null||r.add(e);let i=n.map(o=>D(this,xs,Td).call(this,o,t));await Promise.all(i)}},Tu=new WeakSet,Og=function(e){let t=u(this,Cs).get(e);return t===void 0&&(t=(async()=>{let n=await u(this,zr).getRefCount(e)||0;return u(this,On).set(e,n),n})(),u(this,Cs).set(e,t)),t},Qh=new WeakSet,uD=function(e,t){let n=u(this,On).get(e);return gt(n),u(this,On).set(e,n+t),n===0&&t===1||n===1&&t===-1},mk);function Lh(e){return`c/${e}/d`}function Nd(e){return`c/${e}/m`}function av(e){return`c/${e}/r`}function cD(e){return`h/${e}`}var fD=class extends Error{constructor(t){super(`Chunk not found ${t}`);A(this,"name","ChunkNotFoundError");A(this,"hash");this.hash=t}};async function dD(e,t){let n=await e.getChunk(t);if(n)return n;throw new fD(t)}async function hD(e,t){let n=await t.getHead(e);return Z(n,`Missing head ${e}`),n}var Vi,Nu,Ds,vk,j0=(vk=class{constructor(e,t,n){m(this,Vi,void 0);m(this,Nu,void 0);m(this,Ds,void 0);E(this,Vi,e),E(this,Nu,t),E(this,Ds,n)}async read(){return new pD(await u(this,Vi).read(),u(this,Ds))}async write(){return new cN(await u(this,Vi).write(),u(this,Nu),u(this,Ds))}close(){return u(this,Vi).close()}},Vi=new WeakMap,Nu=new WeakMap,Ds=new WeakMap,vk),pD=class{constructor(e,t){A(this,"e");A(this,"assertValidHash");this.e=e,this.assertValidHash=t}hasChunk(e){return this.e.has(Lh(e))}async getChunk(e){let t=await this.e.get(Lh(e));if(t===void 0)return;let n=await this.e.get(Nd(e)),r;return n!==void 0?(oD(n),r=n):r=[],new iD(e,t,r)}mustGetChunk(e){return dD(this,e)}async getHead(e){let t=await this.e.get(cD(e));if(t!==void 0)return wr(t),t}release(){this.e.release()}get closed(){return this.e.closed}},Lu,bs,_s,$u,Tg,Kh,mD,qh,vD,gk,cN=(gk=class extends pD{constructor(t,n,r){super(t,r);m(this,$u);m(this,Kh);m(this,qh);m(this,Lu,void 0);m(this,bs,new Set);m(this,_s,new Map);A(this,"createChunk",(t,n)=>sD(t,n,u(this,Lu)));E(this,Lu,n)}get kvWrite(){return this.e}async putChunk(t){let{hash:n,data:r,meta:i}=t;this.assertValidHash(n);let o=Lh(n),s=this.e.put(o,r),a;if(i.length>0){for(let l of i)this.assertValidHash(l);a=this.e.put(Nd(n),i)}u(this,bs).add(n),await s,await a}setHead(t,n){return D(this,$u,Tg).call(this,t,n)}removeHead(t){return D(this,$u,Tg).call(this,t,void 0)}async commit(){let t=await lD(u(this,_s).values(),u(this,bs),this);await D(this,Kh,mD).call(this,t),await this.e.commit()}async getRefCount(t){let n=await this.e.get(av(t));if(n!==void 0){if(gt(n),n<0||n>65535||n!==(n|0))throw new Error(`Invalid ref count ${n}. We expect the value to be a Uint16`);return n}}async getRefs(t){let n=await this.e.get(Nd(t));return n===void 0?[]:(oD(n),n)}release(){this.e.release()}},Lu=new WeakMap,bs=new WeakMap,_s=new WeakMap,$u=new WeakSet,Tg=async function(t,n){let r=await this.getHead(t),i=cD(t),o;n===void 0?o=this.e.del(i):o=this.e.put(i,n);let s=u(this,_s).get(t);s===void 0?u(this,_s).set(t,{new:n,old:r}):s.new=n,await o},Kh=new WeakSet,mD=async function(t){let n=[];for(let[r,i]of t)if(i===0)n.push(D(this,qh,vD).call(this,r));else{let o=av(r);n.push(this.e.put(o,i))}await Promise.all(n)},qh=new WeakSet,vD=async function(t){await Promise.all([this.e.del(Lh(t)),this.e.del(Nd(t)),this.e.del(av(t))]),u(this,bs).delete(t)},gk);function gD(e){if(e!==(e|0)||e<4||e>7)throw new Error(`Unsupported format version: ${e}`);return e}var Au,Hu,Tn,zu,Ng,yk,fN=(yk=class{constructor(e,t){m(this,zu);m(this,Au,void 0);m(this,Hu,void 0);m(this,Tn,void 0);E(this,Au,e),E(this,Hu,t),E(this,Tn,new Th(t))}read(){return D(this,zu,Ng).call(this,e=>e.read())}write(){return D(this,zu,Ng).call(this,e=>e.write())}close(){return u(this,Tn).close()}get closed(){return u(this,Tn).closed}},Au=new WeakMap,Hu=new WeakMap,Tn=new WeakMap,zu=new WeakSet,Ng=async function(e){var t,n;try{return await e(u(this,Tn))}catch(r){if(dN(r))return u(this,Tn)instanceof Th&&((n=(t=u(this,Au)).info)==null||n.call(t,"Switching to MemStore because of Firefox private browsing error"),E(this,Tn,new nD(u(this,Hu)))),e(u(this,Tn));throw r}},yk);function dN(e){return yD()&&e instanceof DOMException&&e.name==="InvalidStateError"&&e.message==="A mutation operation was attempted on a database that did not allow mutations."}function yD(){return navigator.userAgent.includes("Firefox")}function wD(e,t){return yD()?new fN(e,t):new Th(t)}function hN(e){return new Promise((t,n)=>{let r=indexedDB.deleteDatabase(e);r.onsuccess=()=>t(),r.onerror=()=>n(r.error)})}function ct(e,t){return U0(e.read(),t)}function Ba(e,t){return U0(e.write(),t)}function We(e,t){return U0(e.write(),async n=>{let r=await t(n);return await n.commit(),r})}async function U0(e,t){let n=await e;try{return await t(n)}finally{n.release()}}var pN=Ei({prefix:le.string().optional(),jsonPointer:le.string(),allowEmpty:le.boolean().optional()}),mN=F0(pN);function vN(e,t){var n,r,i,o;return e.jsonPointer===t.jsonPointer&&((n=e.allowEmpty)!=null?n:!1)===((r=t.allowEmpty)!=null?r:!1)&&((i=e.prefix)!=null?i:"")===((o=t.prefix)!=null?o:"")}function SD(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let[n,r]of Object.entries(e)){let i=t[n];if(!i||!vN(r,i))return!1}return!0}var gN=Ei({headHash:Po,mutatorNames:z0(le.string()),indexes:mN,mutationIDs:F0(le.number()),lastServerAckdMutationIDs:le.record(le.number()),disabled:le.boolean()}),kD="client-groups";function yN(e){Za(e,gN)}function wN(e){Ge(e);let t=new Map;for(let[n,r]of Object.entries(e))r!==void 0&&(yN(r),t.set(n,r));return t}function SN(e,t){let n={};for(let[r,i]of e.entries())t.assertValidHash(i.headHash),n[r]={...i,mutatorNames:[...i.mutatorNames.values()]};return _t(n)}async function kN(e,t){let n=await t.getChunk(e);return wN(n==null?void 0:n.data)}async function Ci(e){let t=await e.getHead(kD);return t?kN(t,e):new Map}async function ED(e,t){let n=await Ci(t);for(let[r,i]of e){let o=n.get(r);CD(i,o)}return xD(e,t)}async function B0(e,t,n){let r=await Ci(n),i=r.get(e);CD(t,i);let o=new Map(r);return o.set(e,t),xD(o,n)}function CD(e,t){let n=new Set(e.mutatorNames);Z(n.size===e.mutatorNames.length,"A client group's mutatorNames must be a set."),t!==void 0&&(Z(SD(t.indexes,e.indexes),"A client group's index definitions must never change."),Z(DD(n,t.mutatorNames),"A client group's mutatorNames must never change."))}async function xD(e,t){let n=SN(e,t),r=Array.from(e.values(),o=>o.headHash),i=t.createChunk(n,r);return await t.putChunk(i),await t.setHead(kD,i.hash),e}function DD(e,t){if(t.length!==e.size)return!1;for(let n of t)if(!e.has(n))return!1;return!0}async function lm(e,t){return(await Ci(t)).get(e)}function bD(e){for(let[t,n]of Object.entries(e.mutationIDs)){let r=e.lastServerAckdMutationIDs[t];if(r===void 0&&n!==0||r<n)return!0}return!1}async function _D(e,t){let n=await lm(e,t);if(!n)return;let r={...n,disabled:!0};await B0(e,r,t)}function Af(e,t){let n=e.length,r=t.length,i=Math.min(n,r);for(let o=0;o<i;){let s=e.codePointAt(o),a=t.codePointAt(o);if(s!==a){if(s<128&&a<128)return s-a;let l=fS(s,uS),c=fS(a,cS);return EN(uS,l,cS,c)}o+=CN(s)}return n-r}function EN(e,t,n,r){let i=Math.min(t,r);for(let o=0;o<i;o++){let s=e[o],a=n[o];if(s!==a)return s-a}return t-r}function CN(e){return e>65535?2:1}var ID=()=>Array.from({length:4},()=>0),uS=ID(),cS=ID();function fS(e,t){if(e<128)return t[0]=e,1;let n,r;if(e<=2047)n=1,r=192;else if(e<=65535)n=2,r=224;else if(e<=1114111)n=3,r=240;else throw new Error("Invalid code point");t[0]=(e>>6*n)+r;let i=1;for(;n>0;n--){let o=e>>6*(n-1);t[i++]=128|o&63}return i}function V0(e,t){return Af(e,t)>0}function lv(e,t){return Af(e,t)<0}function uv(e,t){return Af(e,t)<=0}function PD(e,t){let n=0;for(;n<e;){let r=n+(e-n>>1),i=t(r);if(i===0)return r;i>0?n=r+1:e=r}return n}function*Lg(...e){for(let t of e)yield*t}var RD=0,MD=1;function OD(e,t,n){return _t([e,n>=7?t:t.map(r=>r.slice(0,2))])}async function $h(e,t,n,r){let i=await n.getNode(t);if(r!==n.rootHash)return $h(e,n.rootHash,n,n.rootHash);if(Hh(i))return i;let{entries:o}=i,s=yi(e,o);s===o.length&&s--;let a=o[s];return $h(e,a[1],n,r)}function yi(e,t){return PD(t.length,n=>Af(e,t[n][0]))}function Ah(e,t,n){return e!==t.length&&t[e][0]===n}function dS(e,t,n){ja(e),No(e),Z(e.length>=2);let[r,i]=e;gt(r),ja(i);let o=r>0?_e:To;if(t>=7){for(let a of i)xN(a,o);return e}let s=i.map(a=>DN(a,o,n));return[r,s]}function xN(e,t){ja(e),Z(e.length>=3),_e(e[0]),t(e[1]),gt(e[2])}function DN(e,t,n){ja(e),Z(e.length>=2),_e(e[0]),t(e[1]);let r=n(e[0],e[1]);return[e[0],e[1],r]}var Wi,wk,TD=(wk=class{constructor(e,t,n){A(this,"entries");A(this,"hash");A(this,"isMutable");m(this,Wi,-1);this.entries=e,this.hash=t,this.isMutable=n}maxKey(){return this.entries[this.entries.length-1][0]}getChildNodeSize(e){if(u(this,Wi)!==-1)return u(this,Wi);let t=e.chunkHeaderSize;for(let n of this.entries)t+=n[2];return E(this,Wi,t)}c(e){E(this,Wi,-1),e.updateNode(this)}},Wi=new WeakMap,wk);function hS(e,t){return OD(e.level,e.entries,t)}var Fu,$g,Sk,um=(Sk=class extends TD{constructor(){super(...arguments);m(this,Fu);A(this,"level",0)}set(t,n,r,i){let o,s=yi(t,this.entries);return Ah(s,this.entries,t)?o=1:o=0,Promise.resolve(D(this,Fu,$g).call(this,i,s,o,[t,n,r]))}del(t,n){let r=yi(t,this.entries);return Ah(r,this.entries,t)?Promise.resolve(D(this,Fu,$g).call(this,n,r,1)):Promise.resolve(this)}async*keys(t){for(let n of this.entries)yield n[0]}async*entriesIter(t){for(let n of this.entries)yield n}},Fu=new WeakSet,$g=function(t,n,r,...i){if(this.isMutable)return this.entries.splice(n,r,...i),this.c(t),this;let o=Ld(this.entries,n,r,...i);return t.newDataNodeImpl(o)},Sk);function Ld(e,t,n,...r){let i=e.slice(0,t);for(let o=0;o<r.length;o++)i.push(r[o]);for(let o=t+n;o<e.length;o++)i.push(e[o]);return i}var ju,Ag,Uu,Hg,Ga,ND=(Ga=class extends TD{constructor(n,r,i,o){super(n,r,o);m(this,ju);m(this,Uu);A(this,"level");this.level=i}async set(n,r,i,o){let s=yi(n,this.entries);s===this.entries.length&&s--;let a=this.entries[s][1],l=await(await o.getNode(a)).set(n,r,i,o),c=l.getChildNodeSize(o);if(c>o.maxSize||c<o.minSize)return D(this,ju,Ag).call(this,o,s,l);let f=$d(l,o.getEntrySize);return D(this,Uu,Hg).call(this,o,s,f)}async del(n,r){let i=yi(n,this.entries);if(i===this.entries.length)return this;let o=this.entries[i][1],s=await r.getNode(o),a=s.hash,l=await s.del(n,r);if(l.hash===a)return this;if(l.entries.length===0){let c=Ld(this.entries,i,1);return r.newInternalNodeImpl(c,this.level)}if(i===0&&this.entries.length===1)return l;if(l.getChildNodeSize(r)>r.minSize){let c=$d(l,r.getEntrySize);return D(this,Uu,Hg).call(this,r,i,c)}return D(this,ju,Ag).call(this,r,i,l)}async*keys(n){for(let r of this.entries)yield*(await n.getNode(r[1])).keys(n)}async*entriesIter(n){for(let r of this.entries)yield*(await n.getNode(r[1])).entriesIter(n)}getChildren(n,r,i){let o=[];for(let s=n;s<r&&s<this.entries.length;s++)o.push(i.getNode(this.entries[s][1]));return Promise.all(o)}async getCompositeChildren(n,r,i){let{level:o}=this;if(r===0)return new Ga([],gn(),o-1,!0);let s=await this.getChildren(n,n+r,i);if(o>1){let l=[];for(let c of s)l.push(...c.entries);return new Ga(l,gn(),o-1,!0)}Z(o===1);let a=[];for(let l of s)a.push(...l.entries);return new um(a,gn(),!0)}},ju=new WeakSet,Ag=async function(n,r,i){let o=this.level-1,s=this.entries,a,l,c;if(r>0){let p=s[r-1][1],w=await n.getNode(p);a=Lg(w.entries,i.entries),l=r-1,c=2}else if(r<s.length-1){let p=s[r+1][1],w=await n.getNode(p);a=Lg(i.entries,w.entries),l=r,c=2}else a=i.entries,l=r,c=1;let f=$D(a,p=>p[2],n.minSize-n.chunkHeaderSize,n.maxSize-n.chunkHeaderSize),h=[];for(let p of f){let w=n.newNodeImpl(p,o),g=$d(w,n.getEntrySize);h.push(g)}if(this.isMutable)return this.entries.splice(l,c,...h),this.c(n),this;let d=Ld(s,l,c,...h);return n.newInternalNodeImpl(d,this.level)},Uu=new WeakSet,Hg=function(n,r,i){if(this.isMutable)return this.entries.splice(r,1,i),this.c(n),this;let o=Ld(this.entries,r,1,i);return n.newInternalNodeImpl(o,this.level)},Ga);function LD(e,t,n,r){return n===0?new um(e,t,r):new ND(e,t,n,r)}function Hh(e){return e.level===0}function $D(e,t,n,r){let i=[],o=[],s=0,a=[];for(let l of e){let c=t(l);c>=r?(a.length>0&&(i.push(a),o.push(s)),i.push([l]),o.push(c),s=0,a=[]):s+c>=n?(a.push(l),i.push(a),o.push(s+c),s=0,a=[]):(s+=c,a.push(l))}return s>0&&(o.length>0&&s+o[o.length-1]<=r?i[i.length-1].push(...a):i.push(a)),i}var AD=OD(0,[],7),bN=new um([],ut,!1);function $d(e,t){let n=e.maxKey(),r=e.hash,i=t(n,r);return[n,r,i]}var Rn=1,Xo=4,_N=5,IN=8;function So(e){switch(typeof e){case"string":return Rn+Xo+e.length;case"number":return PN(e)?e<=-(2**30)||e>=2**30-1?Rn+_N:Rn+Xo:Rn+IN;case"boolean":return Rn;case"object":if(e===null)return Rn;if(Array.isArray(e)){let t=2*Rn+Xo;for(let n of e)t+=So(n);return t}{let t=e,n=2*Rn+Xo;for(let r in t)gi(t,r)&&(n+=So(r)+So(t[r]));return n}}throw new Error("invalid value")}function PN(e){return e===(e|0)}var RN=2*Rn+Xo+Rn+Xo;function HD(e,t){return RN+So(e)+So(t)}var pS=-1,MN=0,Ad=1,Hd=2,zg=3,md=0,mS=1;function*ON(e,t){let n=0,r=0,i;function o(a,l){a[zg]===pS&&(a[zg]=l)}function s(){return[n,0,0,pS]}for(;n<e.length&&r<t.length;)e[n][md]===t[r][md]?(gr(e[n][mS],t[r][mS])?i&&(o(i,0),yield i,i=void 0):(i||(i=s()),i[Hd]++,i[Ad]++,o(i,r)),n++,r++):e[n][md]<t[r][md]?(i||(i=s()),i[Ad]++,n++):(i||(i=s()),i[Hd]++,o(i,r),r++);r<t.length&&(i||(i=s()),i[Hd]+=t.length-r,o(i,r)),n<e.length&&(i||(i=s()),i[Ad]+=e.length-n),i&&(o(i,0),yield i)}var TN=11,Gn=class{constructor(e,t,n=ut,r=HD,i=TN){A(this,"p",new Map);A(this,"a");A(this,"u");A(this,"rootHash");A(this,"getEntrySize");A(this,"chunkHeaderSize");this.a=e,this.u=t,this.rootHash=n,this.getEntrySize=r,this.chunkHeaderSize=i}async getNode(e){if(e===ut)return bN;let t=this.p.get(e);if(t)return t;let n=await this.a.mustGetChunk(e),r=dS(n.data,this.u,this.getEntrySize),i=LD(r[MD],e,r[RD],!1);return this.p.set(e,i),i}async get(e){let t=await $h(e,this.rootHash,this,this.rootHash),n=yi(e,t.entries);if(Ah(n,t.entries,e))return t.entries[n][1]}async has(e){let t=await $h(e,this.rootHash,this,this.rootHash),n=yi(e,t.entries);return Ah(n,t.entries,e)}async isEmpty(){let{rootHash:e}=this,t=await this.getNode(this.rootHash);return this.rootHash!==e?this.isEmpty():t.entries.length===0}scan(e){return Fg(this.rootHash,()=>this.rootHash,this.rootHash,e,async t=>{let n=await this.getNode(t);if(n)return[n.level,n.isMutable?n.entries.slice():n.entries];let r=await this.a.mustGetChunk(t);return dS(r.data,this.u,this.getEntrySize)})}async*keys(){yield*(await this.getNode(this.rootHash)).keys(this)}async*entries(){yield*(await this.getNode(this.rootHash)).entriesIter(this)}[Symbol.asyncIterator](){return this.entries()}async*diff(e){let[t,n]=await Promise.all([this.getNode(this.rootHash),e.getNode(e.rootHash)]);yield*zd(n,t,e,this)}};async function*zd(e,t,n,r){if(e.level>t.level){let o=await e.getCompositeChildren(0,e.entries.length,n);yield*zd(o,t,n,r);return}if(t.level>e.level){let o=await t.getCompositeChildren(0,t.entries.length,r);yield*zd(e,o,n,r);return}if(Hh(e)&&Hh(t)){yield*NN(e.entries,t.entries);return}let i=ON(e.entries,t.entries);for(let o of i){let[s,a]=await Promise.all([e.getCompositeChildren(o[MN],o[Ad],n),t.getCompositeChildren(o[zg],o[Hd],r)]);yield*zd(s,a,n,r)}}function*NN(e,t){let n=e.length,r=t.length,i=0,o=0;for(;i<n&&o<r;){let s=e[i][0],a=t[o][0];s===a?(gr(e[i][1],t[o][1])||(yield{op:"change",key:s,oldValue:e[i][1],newValue:t[o][1]}),i++,o++):s<a?(yield{op:"del",key:s,oldValue:e[i][1]},i++):(yield{op:"add",key:a,newValue:t[o][1]},o++)}for(;i<n;i++)yield{op:"del",key:e[i][0],oldValue:e[i][1]};for(;o<r;o++)yield{op:"add",key:t[o][0],newValue:t[o][1]}}async function*Fg(e,t,n,r,i){if(n===ut)return;let o=await i(n),s=o[MD],a=0;if(r&&(a=yi(r,s)),o[RD]>0)for(;a<s.length;a++)yield*Fg(e,t,s[a][1],r,i),r="";else for(;a<s.length;a++){let l=t();if(e!==l){yield*Fg(l,t,l,s[a][0],i);return}yield s[a]}}async function zh(e,t){let n=[],r=t==="add"?i=>({op:"add",key:i[0],newValue:i[1]}):i=>({op:"del",key:i[0],oldValue:i[1]});for await(let i of e.entries())n.push(r(i));return n}var Be="main";function zD(e){return jN(e.meta)}function Hf(e){return cm(e.meta)}function LN(e){return Hf(e)||zD(e)}function $N(e){return WD(e.meta)}function AN(e){return WN(e.meta)}function W0(e){return $N(e)||AN(e)}var FD=class{constructor(e){A(this,"chunk");this.chunk=e}get meta(){return this.chunk.data.meta}get valueHash(){return this.chunk.data.valueHash}getMutationID(e,t){return G0(e,t,this.meta)}async getNextMutationID(e,t){return await this.getMutationID(e,t)+1}get indexes(){return this.chunk.data.indexes}};async function G0(e,t,n){var r;switch(n.type){case 1:return n.lastMutationID;case 3:return n.lastMutationID;case 5:return(r=n.lastMutationIDs[e])!=null?r:0;case 2:return n.mutationID;case 4:{if(n.clientID===e)return n.mutationID;let{basisHash:i}=n,o=await Je(i,t);return G0(e,t,o.meta)}default:Gx()}}async function Q0(e,t){return(await K0(e,t)).filter(n=>LN(n))}async function HN(e,t){return(await K0(e,t)).filter(n=>Hf(n))}async function jD(e,t,n){let r=[],i=new Map(Object.entries(t));for(;!W0(e)&&i.size>0;){if(Hf(e)){let{meta:s}=e,a=i.get(s.clientID);a!==void 0&&(s.mutationID<=a?i.delete(s.clientID):r.push(e))}let{basisHash:o}=e.meta;if(o===null)throw new Error(`Commit ${e.chunk.hash} has no basis`);e=await Je(o,n)}return r}async function zN(e,t){let n=await t.getHead(e);return Z(n,`Missing head ${e}`),Qn(n,t)}async function UD(e,t){return(await Qn(e,t)).chunk.hash}async function Qn(e,t){let n=await Je(e,t);return jl(n,t)}async function jl(e,t){for(;!W0(e);){let{meta:n}=e;if(cm(n))e=await Je(n.baseSnapshotHash,t);else{let{basisHash:r}=n;if(r===null)throw new Error(`Commit ${e.chunk.hash} has no basis`);e=await Je(r,t)}}return e}function jg(e,t){var r;let n=e.meta;return WD(n)?[(r=n.lastMutationIDs[t])!=null?r:0,n.cookieJSON]:[n.lastMutationID,n.cookieJSON]}function Ug(e,t){return $0(e.meta.cookieJSON,t.meta.cookieJSON)}async function K0(e,t){let n=await Je(e,t),r=[];for(;!W0(n);){let{meta:i}=n,{basisHash:o}=i;if(o===null)throw new Error(`Commit ${n.chunk.hash} has no basis`);r.push(n),n=await Je(o,t)}return r.push(n),r}async function Je(e,t){let n=await t.mustGetChunk(e);return iL(n)}async function q0(e,t){let n=await hD(e,t);return Je(n,t)}function FN(e){gt(e.lastMutationID)}function BD(e){if(gt(e.mutationID),_e(e.mutatorName),!e.mutatorName)throw new Error("Missing mutator name");To(e.mutatorArgsJSON),e.originalHash!==null&&wr(e.originalHash),gt(e.timestamp)}function J0(e){_e(e.clientID),BD(e)}function cm(e){return e.type===4}function jN(e){return e.type===2}function UN(e){J0(e.meta)}function VD(e){e.basisHash!==null&&wr(e.basisHash),To(e.cookieJSON)}function BN(e){VD(e),gt(e.lastMutationID)}function fm(e){VD(e),VN(e.lastMutationIDs)}function VN(e){Ge(e);for(let t of Object.values(e))gt(t)}function ko(e){fm(e.meta)}function WD(e){return e.type===5}function WN(e){return e.type===3}function GN(e){switch(Ge(e),No(e),e.basisHash!==null&&_e(e.basisHash),gt(e.type),e.type){case 1:FN(e);break;case 2:BD(e);break;case 4:J0(e);break;case 3:BN(e);break;case 5:fm(e);break;default:throw new Error(`Invalid enum value ${e.type}`)}}function QN(e,t){var n,r;return e.jsonPointer===t.jsonPointer&&((n=e.allowEmpty)!=null?n:!1)===((r=t.allowEmpty)!=null?r:!1)&&e.keyPrefix===t.keyPrefix}function KN(e){Ge(e),No(e),_e(e.name),_e(e.keyPrefix),_e(e.jsonPointer),e.allowEmpty!==void 0&&gT(e.allowEmpty)}function qN(e,t){var n,r;return{name:e,keyPrefix:(n=t.prefix)!=null?n:"",jsonPointer:t.jsonPointer,allowEmpty:(r=t.allowEmpty)!=null?r:!1}}function JN(e){Ge(e),No(e),KN(e.definition),_e(e.valueHash)}function YN(e){ja(e),No(e);for(let t of e)JN(t)}function XN(e,t,n,r,i,o,s,a,l){return zf(e,Ff({type:2,basisHash:t,mutationID:n,mutatorName:r,mutatorArgsJSON:i,originalHash:o,timestamp:l},s,a))}function ZN(e,t,n,r,i,o,s,a,l,c,f){return zf(e,Ff({type:4,basisHash:t,baseSnapshotHash:n,mutationID:r,mutatorName:i,mutatorArgsJSON:o,originalHash:s,timestamp:c,clientID:f},a,l))}function eL(e,t,n,r,i,o){return zf(e,nL(t,n,r,i,o))}function tL(e,t,n,r,i,o){return zf(e,GD(t,n,r,i,o))}function nL(e,t,n,r,i){return Ff({type:3,basisHash:e,lastMutationID:t,cookieJSON:n},r,i)}function GD(e,t,n,r,i){return Ff({type:5,basisHash:e,lastMutationIDs:t,cookieJSON:n},r,i)}function rL(e,t,n,r,i){return zf(e,Ff({type:1,basisHash:t,lastMutationID:n},r,i))}function iL(e){return sL(e),new FD(e)}function zf(e,t){return new FD(e(t,QD(t)))}function QD(e){let t=[e.valueHash],{meta:n}=e;switch(n.type){case 1:n.basisHash&&t.push(n.basisHash);break;case 2:case 4:n.basisHash&&t.push(n.basisHash);break;case 3:case 5:break;default:Gx()}for(let r of e.indexes)t.push(r.valueHash);return t}function Ff(e,t,n){return _t({meta:e,valueHash:t,indexes:n})}function oL(e){Ge(e),No(e),GN(e.meta),_e(e.valueHash),YN(e.indexes)}function sL(e){let{data:t}=e;oL(t);let n=new Set;for(let r of t.indexes){let{name:i}=r.definition;if(n.has(i))throw new Error(`Duplicate index ${i}`);n.add(i)}}async function KD(e){let t=[];for await(let n of e)t.push(n);return t}function du(e,t){return KD(t.diff(e))}var Gi,Fr,Qi,Dl,kk,jf=(kk=class extends Gn{constructor(t,n,r=ut,i=8*1024,o=16*1024,s=HD,a){super(t,n,r,s,a);m(this,Qi);m(this,Gi,new Nf);m(this,Fr,new Map);A(this,"minSize");A(this,"maxSize");this.minSize=i,this.maxSize=o}updateNode(t){Z(t.isMutable),u(this,Fr).delete(t.hash),t.hash=gn(),D(this,Qi,Dl).call(this,t)}newInternalNodeImpl(t,n){let r=new ND(t,gn(),n,!0);return D(this,Qi,Dl).call(this,r),r}newDataNodeImpl(t){let n=new um(t,gn(),!0);return D(this,Qi,Dl).call(this,n),n}newNodeImpl(t,n){let r=LD(t,gn(),n,!0);return D(this,Qi,Dl).call(this,r),r}put(t,n){return u(this,Gi).withLock(async()=>{let r=await this.getNode(this.rootHash),i=this.getEntrySize(t,n),o=await r.set(t,n,i,this);if(o.getChildNodeSize(this)>this.maxSize){let s=this.chunkHeaderSize,a=$D(o.entries,h=>h[2],this.minSize-s,this.maxSize-s),{level:l}=o,c=a.map(h=>{let d=this.newNodeImpl(h,l);return $d(d,this.getEntrySize)}),f=this.newInternalNodeImpl(c,l+1);this.rootHash=f.hash;return}this.rootHash=o.hash})}del(t){return u(this,Gi).withLock(async()=>{let n=await(await this.getNode(this.rootHash)).del(t,this),r=this.rootHash!==n.hash;return r&&(n.level>0&&n.entries.length===1?this.rootHash=n.entries[0][1]:this.rootHash=n.hash),r})}clear(){return u(this,Gi).withLock(()=>{u(this,Fr).clear(),this.rootHash=ut})}flush(){return u(this,Gi).withLock(async()=>{let t=this.a;if(this.rootHash===ut){let i=t.createChunk(AD,[]);return await t.putChunk(i),i.hash}let n=[],r=qD(this.rootHash,n,t.createChunk,u(this,Fr),this.u);return await Promise.all(n.map(i=>t.putChunk(i))),u(this,Fr).clear(),this.rootHash=r,r})}},Gi=new WeakMap,Fr=new WeakMap,Qi=new WeakSet,Dl=function(t){Z(t.isMutable),u(this,Fr).set(t.hash,t),this.p.set(t.hash,t)},kk);function qD(e,t,n,r,i){let o=r.get(e);if(o===void 0)return e;if(Hh(o)){let c=n(hS(o,i),[]);return t.push(c),c.hash}let s=[],{entries:a}=o;for(let c=0;c<a.length;c++){let f=a[c],h=f[1],d=qD(h,t,n,r,i);d!==h&&(a[c]=[f[0],d,f[2]]),s.push(d)}let l=n(hS(o,i),s);return t.push(l),l.hash}function vS(e){let t;return()=>(t===void 0&&(t=e()),t)}var JD=class{constructor(e,t){A(this,"meta");A(this,"map");this.meta=e,this.map=t}},aL=class extends JD{flush(){return this.map.flush()}clear(){return this.map.clear()}};async function Bg(e,t,n,r,i,o,s){var a;try{for(let l of lL(r,i,o,s))switch(n){case 0:await t.put(l,i);break;case 1:await t.del(l);break}}catch(l){(a=e.info)==null||a.call(e,"Not indexing value",i,":",l)}}function lL(e,t,n,r){let i=uL(t,n);if(i===void 0){if(r)return[];throw new Error(`No value at path: ${n}`)}let o=Array.isArray(i)?i:[i],s=[];for(let a of o)if(typeof a=="string")s.push(YD([a,e]));else throw new Error("Unsupported target type");return s}var Vg="\0",Wg="\0";function YD(e){let t=e[0],n=e[1];if(t.includes("\0"))throw new Error("Secondary key cannot contain null byte");return Vg+t+Wg+n}function gS(e,t){let n=YD([e,t||""]);return t===void 0?n.slice(0,n.length-1):n}function dm(e){if(e[0]!==Vg)throw new Error("Invalid version");let t=Vg.length,n=Wg.length,r=e.indexOf(Wg,t);if(r===-1)throw new Error("Invalid formatting");let i=e.slice(t,r),o=e.slice(r+n);return[i,o]}function uL(e,t){function n(o){if(!(o.startsWith("+")||o.startsWith("0")&&o.length!==1))return parseInt(o,10)}if(t==="")return e;if(!t.startsWith("/"))throw new Error(`Invalid JSON pointer: ${t}`);let r=t.split("/").slice(1).map(o=>o.replace(/~1/g,"/").replace(/~0/g,"~")),i=e;for(let o of r){let s;if(Array.isArray(i)){let a=n(o);if(a===void 0)return;s=i[a]}else{if(i===null)return;typeof i=="object"&&(i=i,s=i[o])}if(s===void 0)return;i=s}return i}var Is,Ek,XD=(Ek=class{constructor(e,t,n){m(this,Is,void 0);A(this,"map");A(this,"indexes");E(this,Is,e),this.map=t,this.indexes=n}has(e){return this.map.has(e)}get(e){return this.map.get(e)}isEmpty(){return this.map.isEmpty()}getMapForIndex(e){let t=this.indexes.get(e);if(t===void 0)throw new Error(`Unknown index name: ${e}`);return t.map}get closed(){return u(this,Is).closed}close(){u(this,Is).release()}},Is=new WeakMap,Ek);function cL(e,t){return fL(Be,e,t)}async function fL(e,t,n){let r=await q0(e,t);return dL(r,t,n)}function dL(e,t,n){let r=Fh(e,t,n),i=new Gn(t,n,e.valueHash);return new XD(t,i,r)}function Fh(e,t,n){let r=new Map;for(let i of e.indexes)r.set(i.definition.name,new JD(i,new Gn(t,n,i.valueHash)));return r}var Y0=class extends Map{set(e,t){return t.length===0?this:super.set(e,t)}};async function hL(e,t,n,r,i){let o=new Y0;if(!r.shouldComputeDiffs())return o;let s=new Gn(n,i,e.valueHash),a=new Gn(n,i,t.valueHash),l=await du(s,a);return o.set("",l),await ZD(e,t,n,o,r,i),o}async function ZD(e,t,n,r,i,o){let s=Fh(e,n,o),a=Fh(t,n,o);for(let[l,c]of s){if(!i.shouldComputeDiffsForIndex(l))continue;let f=a.get(l);if(f!==void 0){Z(f!==c);let h=await du(c.map,f.map);a.delete(l),r.set(l,h)}else{let h=await zh(c.map,"del");r.set(l,h)}}for(let[l,c]of a){if(!i.shouldComputeDiffsForIndex(l))continue;let f=await zh(c.map,"add");r.set(l,f)}}var ze,sn,tr,Ki,nr,Jh,eb,Ck,X0=(Ck=class extends XD{constructor(t,n,r,i,o,s,a){super(t,n,o);m(this,Jh);m(this,ze,void 0);m(this,sn,void 0);m(this,tr,void 0);m(this,Ki,void 0);m(this,nr,void 0);E(this,ze,t),E(this,sn,r),E(this,tr,i),E(this,Ki,s),E(this,nr,a),Z(r===void 0?i.basisHash===ut:i.basisHash===r.chunk.hash)}async put(t,n,r){if(u(this,tr).type===1)throw new Error("Not allowed");let i=vS(()=>this.map.get(n));await Gg(t,this.indexes,n,i,r),await this.map.put(n,r)}getMutationID(){return G0(u(this,Ki),u(this,ze),u(this,tr))}async del(t,n){if(u(this,tr).type===1)throw new Error("Not allowed");let r=vS(()=>this.map.get(n));return r!==void 0&&await Gg(t,this.indexes,n,r,void 0),this.map.del(n)}async clear(){if(u(this,tr).type===1)throw new Error("Not allowed");await this.map.clear();let t=[];for(let n of this.indexes.values())t.push(n.clear());await Promise.all(t)}async putCommit(){let t=await this.map.flush(),n=[];for(let o of this.indexes.values()){let s=await o.flush(),a={definition:o.meta.definition,valueHash:s};n.push(a)}let r,i=u(this,tr);switch(i.type){case 2:{let{basisHash:o,mutationID:s,mutatorName:a,mutatorArgsJSON:l,originalHash:c,timestamp:f}=i;r=XN(u(this,ze).createChunk,o,s,a,l,c,t,n,f);break}case 4:{Z(u(this,nr)>=5);let{basisHash:o,mutationID:s,mutatorName:a,mutatorArgsJSON:l,originalHash:c,timestamp:f}=i;r=ZN(u(this,ze).createChunk,o,await UD(o,u(this,ze)),s,a,l,c,t,n,f,u(this,Ki));break}case 3:{Z(u(this,nr)<=4);let{basisHash:o,lastMutationID:s,cookieJSON:a}=i;r=eL(u(this,ze).createChunk,o,s,a,t,n);break}case 5:{Z(u(this,nr)>5);let{basisHash:o,lastMutationIDs:s,cookieJSON:a}=i;r=tL(u(this,ze).createChunk,o,s,a,t,n);break}case 1:{let{basisHash:o,lastMutationID:s}=i;if(u(this,sn)!==void 0){if(await u(this,sn).getMutationID(u(this,Ki),u(this,ze))!==s)throw new Error("Index change must not change mutationID");if(u(this,sn).valueHash!==t)throw new Error("Index change must not change valueHash")}r=rL(u(this,ze).createChunk,o,s,t,n);break}}return await u(this,ze).putChunk(r.chunk),r}async commit(t){let n=(await this.putCommit()).chunk.hash;return await u(this,ze).setHead(t,n),await u(this,ze).commit(),n}async commitWithDiffs(t,n){let r=this.putCommit(),i=await D(this,Jh,eb).call(this,n),o=(await r).chunk.hash;return await u(this,ze).setHead(t,o),await u(this,ze).commit(),[o,i]}close(){u(this,ze).release()}},ze=new WeakMap,sn=new WeakMap,tr=new WeakMap,Ki=new WeakMap,nr=new WeakMap,Jh=new WeakSet,eb=async function(t){let n=new Y0;if(!t.shouldComputeDiffs())return n;let r=[];if(u(this,sn)){let o=new Gn(u(this,ze),u(this,nr),u(this,sn).valueHash);r=await du(o,this.map)}n.set("",r);let i;u(this,sn)?i=Fh(u(this,sn),u(this,ze),u(this,nr)):i=new Map;for(let[o,s]of this.indexes){if(!t.shouldComputeDiffsForIndex(o))continue;let a=i.get(o);Z(s!==a);let l=await(a?du(a.map,s.map):zh(s.map,"add"));n.set(o,l)}for(let[o,s]of i)if(!this.indexes.has(o)&&t.shouldComputeDiffsForIndex(o)){let a=await zh(s.map,"del");n.set(o,a)}return n},Ck);async function tb(e,t,n,r,i,o,s,a){let l=await Je(e,i),c=new jf(i,a,l.valueHash),f=await l.getNextMutationID(s,i),h=Z0(l,i,a);return new X0(i,c,l,a>=5?{type:4,basisHash:e,baseSnapshotHash:await UD(e,i),mutatorName:t,mutatorArgsJSON:n,mutationID:f,originalHash:r,timestamp:o,clientID:s}:{type:2,basisHash:e,mutatorName:t,mutatorArgsJSON:n,mutationID:f,originalHash:r,timestamp:o},h,s,a)}async function pL(e,t,n,r,i,o,s){Z(s<=4);let a=await Je(e,r),l=new jf(r,s,a.valueHash);return new X0(r,l,a,{basisHash:e,type:3,lastMutationID:t,cookieJSON:n},i,o,s)}async function mL(e,t,n,r,i,o){let s=await Je(e,r),a=new jf(r,o,s.valueHash);return new X0(r,a,s,{basisHash:e,type:5,lastMutationIDs:t,cookieJSON:n},Z0(s,r,o),i,o)}async function Gg(e,t,n,r,i){var s,a;let o=[];for(let l of t.values()){let{keyPrefix:c}=l.meta.definition;if(!c||n.startsWith(c)){let f=await r();f!==void 0&&o.push(Bg(e,l.map,1,n,f,l.meta.definition.jsonPointer,(s=l.meta.definition.allowEmpty)!=null?s:!1)),i!==void 0&&o.push(Bg(e,l.map,0,n,i,l.meta.definition.jsonPointer,(a=l.meta.definition.allowEmpty)!=null?a:!1))}}await Promise.all(o)}function Z0(e,t,n){let r=new Map;for(let i of e.indexes)r.set(i.definition.name,new aL(i,new jf(t,n,i.valueHash)));return r}async function vL(e,t,n,r,i,o,s){let a=new jf(t,s);for await(let l of n.scan(r)){let c=l[0];if(!c.startsWith(r))break;await Bg(e,a,0,c,l[1],i,o)}return a}var ew=le.string(),nb=le.string(),rb=Ei({heartbeatTimestampMs:le.number(),headHash:Po,mutationID:le.number(),lastServerAckdMutationID:le.number()}),gL=Ei({heartbeatTimestampMs:le.number(),headHash:Po,tempRefreshHash:Po.nullable(),clientGroupID:ew}),ib=Ei({heartbeatTimestampMs:le.number(),refreshHashes:z0(Po),persistHash:Po.nullable(),clientGroupID:ew});function ob(e){return e.refreshHashes!==void 0}function tw(e){return e.clientGroupID!==void 0}var sb="clients",yL=le.union(rb,gL,ib);function wL(e){Za(e,yL)}function yS(e){Za(e,rb)}function nw(e){Za(e,ib)}function SL(e){Ge(e);let t=new Map;for(let n in e)if(gi(e,n)){let r=e[n];r!==void 0&&(wL(r),t.set(n,r))}return t}function kL(e,t){for(let n of e.values())ob(n)?(n.refreshHashes.forEach(t.assertValidHash),n.persistHash&&t.assertValidHash(n.persistHash)):(t.assertValidHash(n.headHash),tw(n)&&n.tempRefreshHash&&t.assertValidHash(n.tempRefreshHash));return _t(Object.fromEntries(e))}async function Er(e){let t=await e.getHead(sb);return EL(t,e)}async function EL(e,t){if(!e)return new Map;let n=await t.getChunk(e);return SL(n==null?void 0:n.data)}var di=class extends Error{constructor(t){super(`Client state not found, id: ${t}`);A(this,"name","ClientStateNotFoundError");A(this,"id");this.id=t}};async function CL(e,t){if(!await ab(e,t))throw new di(e)}async function ab(e,t){return!!await rw(e,t)}async function rw(e,t){return(await Er(t)).get(e)}async function Qg(e,t){let n=await rw(e,t);if(!n)throw new di(e);return n}function xL(e,t,n,r,i){return Ba(t,async o=>{async function s(g,C,v,y){let k=GD(g,{},C,v,y),S=o.createChunk(k,QD(k)),x=Nh(),M={heartbeatTimestampMs:Date.now(),refreshHashes:[S.hash],persistHash:null,clientGroupID:x},_=new Map(l).set(a,M),T={headHash:S.hash,mutatorNames:n,indexes:r,mutationIDs:{},lastServerAckdMutationIDs:{},disabled:!1};return await Promise.all([o.putChunk(S),Va(_,o),B0(x,T,o)]),await o.commit(),[a,M,S.hash,_,!0]}let a=Nh(),l=await Er(o),c=await bL(o,n,r);if(c.type===cb){let{clientGroupID:g,headHash:C}=c,v={clientGroupID:g,refreshHashes:[C],heartbeatTimestampMs:Date.now(),persistHash:null},y=new Map(l).set(a,v);return await Va(y,o),await o.commit(),[a,v,C,y,!1]}if(c.type===lb){let g=o.createChunk(AD,[]);await o.putChunk(g);let C=[];for(let[v,y]of Object.entries(r)){let k=qN(v,y);C.push({definition:k,valueHash:g.hash})}return s(null,null,g.hash,C)}Z(c.type===ub);let{snapshot:f}=c,h=[],{valueHash:d,indexes:p}=f,w=new Gn(o,i,d);for(let[g,C]of Object.entries(r)){let{prefix:v="",jsonPointer:y,allowEmpty:k=!1}=C,S={name:g,keyPrefix:v,jsonPointer:y,allowEmpty:k},x=DL(p,S);if(x)h.push({definition:S,valueHash:x.valueHash});else{let M=await vL(e,o,w,v,y,k,i);h.push({definition:S,valueHash:await M.flush()})}}return s(f.meta.basisHash,f.meta.cookieJSON,f.valueHash,h)})}function DL(e,t){return e.find(n=>QN(n.definition,t))}var lb=0,ub=1,cb=2;async function bL(e,t,n){let r,i,o=new Set(t),s=await Ci(e);for(let[a,l]of s){if(!l.disabled&&DD(o,l.mutatorNames)&&SD(n,l.indexes))return{type:cb,clientGroupID:a,headHash:l.headHash};let c=await Qn(l.headHash,e);ko(c);let{cookieJSON:f}=c.meta;(r===void 0||$0(f,r)>0)&&(r=f,i=c)}return i?{type:ub,snapshot:i}:{type:lb}}function _L(e){let t=[];for(let n of e.values())ob(n)?(t.push(...n.refreshHashes),n.persistHash&&t.push(n.persistHash)):(t.push(n.headHash),tw(n)&&n.tempRefreshHash&&t.push(n.tempRefreshHash));return t}async function IL(e,t){let n=await fb(e,t);if(n)return lm(n,t)}async function fb(e,t){let n=await rw(e,t);if(!(!n||!tw(n)))return n.clientGroupID}async function Kg(e,t,n){let r=await Er(n),i=new Map(r).set(e,t);return Va(i,n)}async function Va(e,t){let n=kL(e,t),r=t.createChunk(n,_L(e));return await t.putChunk(r),await t.setHead(sb,r.hash),r.hash}var PL=0,RL="replicache-dbs-v"+PL,ML="";function OL(){return ML+RL}var Fd="dbs",wS="profileId";function TL(e){Ge(e);for(let[t,n]of Object.entries(e))_e(t),NL(n),Z(t===n.name)}function NL(e){Ge(e),_e(e.name),_e(e.replicacheName),gt(e.replicacheFormatVersion),_e(e.schemaVersion),e.lastOpenedTimestampMS!==void 0&&gt(e.lastOpenedTimestampMS)}var Nn,Bu,qg,xk,db=(xk=class{constructor(e){m(this,Bu);m(this,Nn,void 0);E(this,Nn,e(OL()))}putDatabase(e){return D(this,Bu,qg).call(this,{...e,lastOpenedTimestampMS:Date.now()})}putDatabaseForTesting(e){return D(this,Bu,qg).call(this,e)}clearDatabases(){return We(u(this,Nn),e=>e.del(Fd))}deleteDatabases(e){return We(u(this,Nn),async t=>{let n={...await cv(t)};for(let r of e)delete n[r];await t.put(Fd,n)})}getDatabases(){return ct(u(this,Nn),cv)}close(){return u(this,Nn).close()}getProfileID(){return We(u(this,Nn),async e=>{let t=await e.get(wS);return t===void 0&&(t=`p${Nh().replace(/-/g,"")}`,await e.put(wS,t)),_e(t),t})}},Nn=new WeakMap,Bu=new WeakSet,qg=function(e){return We(u(this,Nn),async t=>{let n={...await cv(t),[e.name]:e};return await t.put(Fd,n),n})},xk);async function cv(e){let t=await e.get(Fd);return t||(t=_t({})),TL(t),t}var LL=12*60*60*1e3,$L=30*24*60*60*1e3,AL=14*24*60*60*1e3,HL=5*60*1e3;function zL(e,t,n){let r=!0;$f("CollectIDBDatabases",async()=>{await FL(e,Date.now(),$L,AL)},()=>r?(r=!1,HL):LL,t,n)}async function FL(e,t,n,r,i=UL){let o=await e.getDatabases(),s=Object.values(o),a=(await Promise.all(s.map(async c=>[c.name,await BL(c,t,n,r,i)]))).filter(c=>c[1]).map(c=>c[0]),{errors:l}=await jL(e,a);if(l.length)throw l[0]}async function hb(e,t){await hN(e),await t.deleteDatabases([e])}async function jL(e,t){let n=await Promise.allSettled(t.map(async o=>(await hb(o,e),o))),r=[],i=[];for(let o of n)o.status==="fulfilled"?r.push(o.value):i.push(o.reason);return{dropped:r,errors:i}}function UL(e){let t=new Th(e);return new j0(t,gn,wr)}async function BL(e,t,n,r,i){if(e.replicacheFormatVersion>7)return!1;if(e.lastOpenedTimestampMS!==void 0){let a=e.replicacheFormatVersion>=5;return t-e.lastOpenedTimestampMS<(a?r:n)?!1:a?(Z(e.replicacheFormatVersion===5||e.replicacheFormatVersion===6||e.replicacheFormatVersion===7),!await GL(i(e.name))):!0}let o=i(e.name),s=await ct(o,Er);return await o.close(),VL(s,t,n)}function VL(e,t,n){for(let r of e.values())if(t-r.heartbeatTimestampMs<n)return!1;return!0}async function WL(e,t=n=>wD(new Lf,n)){await hb(e,new db(t))}async function GL(e){let t=await ct(e,Ci);for(let n of t.values())if(bD(n))return!0;return!1}var pb=class{constructor(e,t,n){A(this,"rep");A(this,"invokeSend");A(this,"logger");A(this,"maxConnections",1);this.rep=e,this.invokeSend=t,this.logger=n}get maxDelayMs(){return this.rep.requestOptions.maxDelayMs}get minDelayMs(){return this.rep.requestOptions.minDelayMs}get debug(){return this.logger.debug}},QL=class extends pb{constructor(){super(...arguments);A(this,"debounceDelay",0)}get watchdogTimer(){return this.rep.pullInterval}},KL=class extends pb{constructor(){super(...arguments);A(this,"watchdogTimer",null)}get debounceDelay(){return this.rep.pushDelay}},qL=30,JL=6e4,qi,Ps,Ln,Ji,Yh,mb,Xh,vb,Dk,SS=(Dk=class{constructor(e){m(this,Yh);m(this,Xh);m(this,qi,he());m(this,Ps,void 0);m(this,Ln,!1);m(this,Ji,void 0);E(this,Ps,e),this.run()}close(){E(this,Ln,!0)}send(){var e,t;(t=(e=u(this,Ps)).debug)==null||t.call(e,"send"),u(this,qi).resolve()}async run(){let e=[],t=he(),n,r=0,i=u(this,Ps),{debug:o}=i,s=0;for(o==null?void 0:o("Starting connection loop");!u(this,Ln);){o==null||o(fv(e)?"Last request failed. Trying again":"Waiting for a send");let a=[u(this,qi).promise],l=i.watchdogTimer;if(l!==null&&a.push(us(l)),await Promise.race(a),u(this,Ln)||(o==null||o("Waiting for debounce"),await us(i.debounceDelay),u(this,Ln)))break;if(o==null||o("debounced"),E(this,qi,he()),r>=i.maxConnections){if(o==null||o("Too many request in flight. Waiting until one finishes..."),await D(this,Xh,vb).call(this),u(this,Ln))break;o==null||o("...finished")}r>0||fv(e)?(s=XL(s,i,e),o==null||o(fv(e)?"Last connection errored. Sleeping for":"More than one outstanding connection ("+r+"). Sleeping for",s,"ms")):s=0;let c=Math.min(i.maxDelayMs,Math.max(i.minDelayMs,s));if(n!==void 0){let f=Date.now()-n;if(c>f&&(await Promise.race([us(c-f),t.promise]),u(this,Ln)))break}r++,(async()=>{let f=Date.now(),h;try{n=f,o==null||o("Sending request"),h=await i.invokeSend(),o==null||o("Send returned",h)}catch(d){o==null||o("Send failed",d),h=!1}if(u(this,Ln)){o==null||o("Closed after invokeSend");return}o==null||o("Request done",{duration:Date.now()-f,ok:h}),e.push({duration:Date.now()-f,ok:h}),e3(e)&&(t.resolve(),t=he()),r--,D(this,Yh,mb).call(this),h||u(this,qi).resolve()})()}}},qi=new WeakMap,Ps=new WeakMap,Ln=new WeakMap,Ji=new WeakMap,Yh=new WeakSet,mb=function(){if(u(this,Ji)){let e=u(this,Ji);E(this,Ji,void 0),e()}},Xh=new WeakSet,vb=function(){let{promise:e,resolve:t}=he();return E(this,Ji,t),e},Dk),YL=9;function XL(e,t,n){let{length:r}=n;if(r===0)return e;let{ok:i}=n[n.length-1],{maxConnections:o,minDelayMs:s}=t;if(!i)return e===0?s:e*2;if(r>1){let a=n[n.length-2];for(;n.length>YL;)n.shift();if(i&&!a.ok)return s}return ZL(n.filter(({ok:a})=>a).map(({duration:a})=>a))/o|0}function ZL(e){e.sort();let{length:t}=e,n=t>>1;return t%2===1?e[n]:(e[n-1]+e[n])/2}function fv(e){return e.length>0&&!e[e.length-1].ok}function e3(e){return e.length>1&&!e[e.length-2].ok&&e[e.length-1].ok}var Vu,Wu,Rs,Gu,Ms,bk,iw=(bk=class{constructor(e,t,n,r,i=So){m(this,Vu,new $x);m(this,Wu,new Map);m(this,Rs,void 0);m(this,Gu,void 0);m(this,Ms,void 0);A(this,"t",new Map);A(this,"n");A(this,"h",new Map);A(this,"m",new Map);this.n=new n3(t,i,this.h,this.m),E(this,Rs,e),E(this,Gu,n),E(this,Ms,r)}async read(){let e=await u(this,Vu).read();return new gb(u(this,Wu),this.t,this.n,u(this,Rs),e,u(this,Ms))}async write(){let e=await u(this,Vu).write();return new t3(u(this,Wu),this.t,this.n,u(this,Rs),this.h,this.m,e,u(this,Gu),u(this,Ms))}close(){return yr}isCached(e){return this.n.getWithoutUpdatingLRU(e)!==void 0}withSuspendedSourceCacheEvictsAndDeletes(e){return this.n.withSuspendedEvictsAndDeletes(e)}},Vu=new WeakMap,Wu=new WeakMap,Rs=new WeakMap,Gu=new WeakMap,Ms=new WeakMap,bk),Yi,Qu,Os,_k,gb=(_k=class{constructor(e,t,n,r,i,o){A(this,"l");A(this,"t");A(this,"n");A(this,"f");m(this,Yi,void 0);m(this,Qu,void 0);m(this,Os,!1);A(this,"assertValidHash");this.l=e,this.t=t,this.n=n,this.f=r,E(this,Qu,i),this.assertValidHash=o}isMemOnlyChunkHash(e){return this.t.has(e)}async hasChunk(e){return await this.getChunk(e)!==void 0}async getChunk(e){let t=this.t.get(e);if(t!==void 0)return t;let n=this.n.get(e);return n===void 0&&(n=await(await this.y()).getChunk(e),n!==void 0&&this.n.put(n)),n}mustGetChunk(e){return dD(this,e)}getHead(e){return Promise.resolve(this.l.get(e))}release(){var e;u(this,Os)||(u(this,Qu).call(this),(e=u(this,Yi))==null||e.then(t=>t.release()).catch(t=>{}),E(this,Os,!0))}get closed(){return u(this,Os)}y(){return u(this,Yi)||E(this,Yi,this.f.read()),u(this,Yi)}},Yi=new WeakMap,Qu=new WeakMap,Os=new WeakMap,_k),Xi,jr,Ku,qu,Ju,Jg,Ik,t3=(Ik=class extends gb{constructor(t,n,r,i,o,s,a,l,c){super(t,n,r,i,a,c);m(this,Ju);m(this,Xi,void 0);m(this,jr,void 0);m(this,Ku,void 0);A(this,"i",new Map);A(this,"r",new Map);A(this,"s",new Map);m(this,qu,new Set);A(this,"createChunk",(t,n)=>{let r=sD(t,n,u(this,Ku));return u(this,qu).add(r.hash),r});E(this,Xi,o),E(this,jr,s),E(this,Ku,l)}putChunk(t,n){let{hash:r,meta:i}=t;if(this.assertValidHash(r),i.length>0)for(let o of i)this.assertValidHash(o);return u(this,qu).has(r)||this.isMemOnlyChunkHash(r)?this.r.set(r,t):this.s.set(r,{chunk:t,size:n!=null?n:-1}),yr}async setHead(t,n){await D(this,Ju,Jg).call(this,t,n)}async removeHead(t){await D(this,Ju,Jg).call(this,t,void 0)}isMemOnlyChunkHash(t){return this.r.has(t)||super.isMemOnlyChunkHash(t)}async getChunk(t){let n=this.r.get(t);if(n!==void 0)return n;let r=this.t.get(t);if(r!==void 0)return r;let i=this.s.get(t);if(i!==void 0)return i.chunk;let o=this.n.get(t);return o===void 0&&(o=await(await this.y()).getChunk(t),o!==void 0&&this.s.set(o.hash,{chunk:o,size:-1})),o}getHead(t){let n=this.i.get(t);return n?Promise.resolve(n.new):super.getHead(t)}async commit(){let t=new Set(Lg(this.r.keys(),this.s.keys())),n=await lD(this.i.values(),t,this);for(let[r,i]of n)if(this.isMemOnlyChunkHash(r)){if(i===0)u(this,Xi).delete(r),this.t.delete(r),u(this,jr).delete(r);else{u(this,Xi).set(r,i);let o=this.r.get(r);o&&(u(this,jr).set(r,o.meta),this.t.set(r,o))}n.delete(r)}this.n.updateForCommit(this.s,n);for(let[r,i]of this.i)i.new?this.l.set(r,i.new):this.l.delete(r);this.r.clear(),this.s.clear(),this.i.clear(),this.release()}getRefCount(t){return u(this,Xi).get(t)}getRefs(t){let n=this.r.get(t);if(n)return n.meta;let r=this.t.get(t);if(r)return r.meta;let i=this.s.get(t);return i!==void 0?i.chunk.meta:u(this,jr).get(t)}areRefsCounted(t){return u(this,jr).has(t)}chunksPersisted(t){let n=[];for(let r of t){let i=this.t.get(r);i&&(this.t.delete(r),n.push(i))}this.n.persisted(n)}},Xi=new WeakMap,jr=new WeakMap,Ku=new WeakMap,qu=new WeakMap,Ju=new WeakSet,Jg=async function(t,n){let r=await this.getHead(t),i=this.i.get(t);i===void 0?this.i.set(t,{new:n,old:r}):i.new=n},Ik),Ts,Yu,an,Ur,Zi,eo,Xu,to,bl,Ns,jd,Zh,yb,Zu,Yg,Pk,n3=(Pk=class{constructor(e,t,n,r){m(this,to);m(this,Ns);m(this,Zh);m(this,Zu);m(this,Ts,void 0);m(this,Yu,void 0);m(this,an,void 0);m(this,Ur,void 0);m(this,Zi,0);m(this,eo,!1);m(this,Xu,[]);A(this,"cacheEntries",new Map);E(this,Ts,e),E(this,Yu,t),E(this,an,n),E(this,Ur,r)}get(e){let t=this.cacheEntries.get(e);return t&&(this.cacheEntries.delete(e),this.cacheEntries.set(e,t)),t==null?void 0:t.chunk}getWithoutUpdatingLRU(e){var t;return(t=this.cacheEntries.get(e))==null?void 0:t.chunk}put(e){let{hash:t}=e,n=this.cacheEntries.get(t);if(n){this.cacheEntries.delete(t),this.cacheEntries.set(t,n);return}let r=u(this,an).get(t);if(!(r===void 0||r<1)&&D(this,Ns,jd).call(this,e)){if(!u(this,Ur).has(t)){for(let i of e.meta)u(this,an).set(i,(u(this,an).get(i)||0)+1);u(this,Ur).set(t,e.meta)}D(this,to,bl).call(this)}}updateForCommit(e,t){for(let[n,r]of t)if(r===0)u(this,eo)?(u(this,an).set(n,0),u(this,Xu).push(n)):D(this,Zu,Yg).call(this,n);else{u(this,an).set(n,r);let i=e.get(n);if(i){let{chunk:o,size:s}=i,a=this.cacheEntries.get(n);a?(this.cacheEntries.delete(n),this.cacheEntries.set(n,a)):(D(this,Ns,jd).call(this,o,s!==-1?s:void 0),u(this,Ur).set(n,o.meta))}}D(this,to,bl).call(this)}persisted(e){for(let t of e)D(this,Ns,jd).call(this,t);D(this,to,bl).call(this)}async withSuspendedEvictsAndDeletes(e){E(this,eo,!0);try{return await e()}finally{E(this,eo,!1);for(let t of u(this,Xu))u(this,an).get(t)===0&&D(this,Zu,Yg).call(this,t);D(this,to,bl).call(this)}}},Ts=new WeakMap,Yu=new WeakMap,an=new WeakMap,Ur=new WeakMap,Zi=new WeakMap,eo=new WeakMap,Xu=new WeakMap,to=new WeakSet,bl=function(){if(!u(this,eo))for(let e of this.cacheEntries.values()){if(u(this,Zi)<=u(this,Ts))break;D(this,Zh,yb).call(this,e)}},Ns=new WeakSet,jd=function(e,t){let n=t!=null?t:u(this,Yu).call(this,e);return n>u(this,Ts)?!1:(E(this,Zi,u(this,Zi)+n),this.cacheEntries.set(e.hash,{chunk:e,size:n}),!0)},Zh=new WeakSet,yb=function(e){let{hash:t}=e.chunk;E(this,Zi,u(this,Zi)-e.size),this.cacheEntries.delete(t)},Zu=new WeakSet,Yg=function(e){u(this,an).delete(e),u(this,Ur).delete(e);let t=this.cacheEntries.get(e);t&&(E(this,Zi,u(this,Zi)-t.size),this.cacheEntries.delete(e))},Pk);function wb(e){return e.indexName!==void 0}function Xg(e){return typeof e=="string"?[e]:e}function r3(e){if(!e)return{};let t,n,r,i;return e.start&&({key:t,exclusive:n}=e.start,e.indexName?typeof t=="string"?i=t:(i=t[0],r=t[1]):r=t),{prefix:e.prefix,startSecondaryKey:i,startKey:r,startExclusive:n,limit:e.limit,indexName:e.indexName}}var Sb=class extends Error{constructor(){super("Transaction is closed")}};function hu(e){if(e.closed)throw new Sb}function kb(e){return e.closed?Promise.reject(new Sb):void 0}var ec,tc,nc,rc,Ls,Ud,Rk,i3=(Rk=class{constructor(e,t,n,r){m(this,Ls);m(this,ec,void 0);m(this,tc,void 0);m(this,nc,void 0);m(this,rc,void 0);E(this,ec,e),E(this,tc,t),E(this,nc,n),E(this,rc,r)}[Symbol.asyncIterator](){return this.values()}values(){return new dv(D(this,Ls,Ud).call(this,e=>e[1]))}keys(){return new dv(D(this,Ls,Ud).call(this,e=>e[0]))}entries(){return new dv(D(this,Ls,Ud).call(this,e=>[e[0],e[1]]))}toArray(){return this.values().toArray()}},ec=new WeakMap,tc=new WeakMap,nc=new WeakMap,rc=new WeakMap,Ls=new WeakSet,Ud=function(e){return o3(e,u(this,ec),u(this,tc),u(this,nc),u(this,rc))},Rk),no,Mk,dv=(Mk=class{constructor(e){m(this,no,void 0);E(this,no,e)}next(){return u(this,no).next()}[Symbol.asyncIterator](){return u(this,no)[Symbol.asyncIterator]()}toArray(){return KD(u(this,no))}},no=new WeakMap,Mk);async function*o3(e,t,n,r,i){var c;hu(r);let{limit:o=1/0}=n,{prefix:s=""}=n,a=(c=n.start)==null?void 0:c.exclusive,l=wb(n);for await(let f of t){let h=f[0];if(!(l?h[0]:h).startsWith(s))return;if(a){if(a=!0,l){if(s3(h,n.start.key))continue}else if(a3(h,n.start.key))continue}if(yield e(f),--o===0&&!l){i(h);return}}}function s3(e,t){let[n,r]=Xg(t),[i,o]=Xg(e);return i!==n?!1:r===void 0?!0:o===r}function a3(e,t){return e===t}function l3(e){let{prefix:t,start:n}=e,r="";if(t!==void 0&&(r=gS(t,void 0)),!n)return r;let{key:i}=n,[o,s]=Xg(i),a=gS(o,s);return V0(a,r)?a:r}var u3=0,Eb=class{constructor(e,t,n,r="openReadTransaction"){A(this,"clientID");A(this,"dbtx");A(this,"d");A(this,"environment");this.clientID=e,this.dbtx=t,this.d=n.withContext(r).withContext("txid",u3++),this.environment="client"}get(e){return kb(this.dbtx)||this.dbtx.get(e)}async has(e){return hu(this.dbtx),this.dbtx.has(e)}async isEmpty(){return hu(this.dbtx),this.dbtx.isEmpty()}scan(e){return Cb(e,this.dbtx,c3)}};function c3(e){}function Cb(e,t,n){let r=d3(t,e);return p3(r,e!=null?e:{},t,n)}var $s,As,$n,Ok,f3=(Ok=class{constructor(e){m(this,$s,new Set);m(this,As,[]);m(this,$n,void 0);E(this,$n,e)}get environment(){return u(this,$n).environment}get clientID(){return u(this,$n).clientID}isEmpty(){return u(this,As).push({options:{}}),u(this,$n).isEmpty()}get(e){return u(this,$s).add(e),u(this,$n).get(e)}has(e){return u(this,$s).add(e),u(this,$n).has(e)}scan(e){let t={options:r3(e),inclusiveLimitKey:void 0};return u(this,As).push(t),Cb(e,u(this,$n).dbtx,n=>{t.inclusiveLimitKey=n})}get keys(){return u(this,$s)}get scans(){return u(this,As)}},$s=new WeakMap,As=new WeakMap,$n=new WeakMap,Ok),xb=class extends Eb{constructor(t,n,r,i,o,s="openWriteTransaction"){super(t,i,o,s);A(this,"reason");A(this,"mutationID");this.mutationID=n,this.reason=r}put(t,n){return this.set(t,n)}async set(t,n){hu(this.dbtx),await this.dbtx.put(this.d,t,_t(n))}del(t){var n;return(n=kb(this.dbtx))!=null?n:this.dbtx.del(this.d,t)}};function d3(e,t){return t&&wb(t)?m3(e,t):e.map.scan(h3(t))}function h3(e){if(!e)return"";let{prefix:t="",start:n}=e;return n&&V0(n.key,t)?n.key:t}function p3(e,t,n,r){return new i3(e,t,n,r)}async function*m3(e,t){let n=e.getMapForIndex(t.indexName);for await(let r of n.scan(l3(t)))yield[dm(r[0]),r[1]]}async function Db(e,t,n,r,i,o,s){var g;let a=e.meta,l=a.mutatorName;cm(a)&&Z(a.clientID===o,"mutationClientID must match clientID of LocalMeta");let c=r[l];c||((g=i.error)==null||g.call(i,`Cannot rebase unknown mutator ${l}`));let f=c||(async()=>{}),h=a.mutatorArgsJSON,d=await(await Je(n,t)).getNextMutationID(o,t);if(d!==a.mutationID)throw new Error(`Inconsistent mutation ID: original: ${a.mutationID}, next: ${d} - mutationClientID: ${o} mutatorName: ${l}`);s>=5&&J0(a);let p=await tb(n,l,h,e.chunk.hash,t,a.timestamp,o,s),w=new xb(o,await p.getMutationID(),"rebase",p,i);return await f(w,h),p}async function bb(e,t,n,r,i,o,s){return(await Db(e,t,n,r,i,o,s)).putCommit()}async function v3(e,t,n,r,i,o,s,a){return(await Db(e,t,n,i,o,s,a)).commit(r)}function g3(e,t){return ct(e,async n=>{let r=await n.getHead(t);if(r===void 0)throw new Error(`No head found for ${t}`);return r})}function y3(e){async function t(n,r){let[i,o]=await Qx(e.pushURL,e.auth,r,n);if(!i)return{httpRequestInfo:o};let s={httpRequestInfo:o},a;try{a=await i.json()}catch{return s}return(Sn(a)||kn(a))&&(s.response=a),s}return _b.add(t),t}var _b=new WeakSet;function w3(e){return _b.has(e)}function Ib(e){return e instanceof Error?e:new Error(String(e))}async function Pb(e,t,n){for(let r of n)switch(r.op){case"put":{await t.put(e,r.key,_t(r.value));break}case"del":await t.del(e,r.key);break;case"clear":await t.clear();break}}var Rb=class extends Error{constructor(t){super("Failed to pull");A(this,"name","PullError");A(this,"causedBy");this.causedBy=t}},pu="sync",S3=0,Mb=1;function k3(e){return e.pullVersion===Mb}async function E3(e,t,n,r,i,o,s,a,l=!0){let[c,f]=await ct(o,async g=>{let C=await g.getHead(Be);if(!C)throw new Error("Internal no main head found");let v=await Qn(C,g),y=v.meta.cookieJSON;return[await v.getMutationID(t,g),y]}),h={profileID:e,clientID:t,cookie:f,lastMutationID:c,pullVersion:S3,schemaVersion:n},{response:d,httpRequestInfo:p}=await Tb(a,r,h,i);if(!d)return{httpRequestInfo:p,syncHead:ut};if(!l||Jx(d))return{httpRequestInfo:p,pullResponse:d,syncHead:ut};let w=await C3(a,o,f,d,t,s);if(w.type===2)throw new Error("Overlapping sync");return{httpRequestInfo:p,pullResponse:d,syncHead:w.type===0?w.syncHead:ut}}async function Ob(e,t,n,r,i,o,s,a,l,c=!0){let f=await ct(s,async g=>{let C=await g.getHead(Be);if(!C)throw new Error("Internal no main head found");let v=(await Qn(C,g)).meta;return fm(v),v.cookieJSON}),h={profileID:e,clientGroupID:n,cookie:f,pullVersion:Mb,schemaVersion:r},{response:d,httpRequestInfo:p}=await Tb(l,i,h,o);if(!d)return{httpRequestInfo:p,syncHead:ut};if(!c||Jx(d))return{httpRequestInfo:p,pullResponse:d,syncHead:ut};let w=await Nb(l,s,f,d,t,a);return{httpRequestInfo:p,pullResponse:d,syncHead:w.type===0?w.syncHead:ut}}async function Tb(e,t,n,r){var o,s;(o=e.debug)==null||o.call(e,"Starting pull...");let i=Date.now();try{let a=await t(n,r);return(s=e.debug)==null||s.call(e,`...Pull ${a.response?"complete":"failed"} in `,Date.now()-i,"ms"),k3(n)?HT(a):zT(a),a}catch(a){throw new Rb(Ib(a))}}function C3(e,t,n,r,i,o){return Ba(t,async s=>{var v;Z(o<=4);let a=s,l=await a.getHead(Be);if(l===void 0)throw new Error("Main head disappeared");let c=await Qn(l,a),[f,h]=jg(c,i);if(!gr(n,h))return{type:2};if(r.lastMutationID<f)throw new Error(Zg("lastMutationID",r.lastMutationID,f));let d=_t((v=r.cookie)!=null?v:null);if(r.patch.length===0&&r.lastMutationID===f&&gr(d,h))return{type:1};let p=await K0(l,a),w;for(let y of p)if(await y.getMutationID(i,a)<=r.lastMutationID){w=y;break}if(!w)throw new Error("Internal invalid chain");let g=await pL(c.chunk.hash,r.lastMutationID,d,s,Z0(w,s,o),i,o);await Pb(e,g,r.patch);let C=new Gn(a,o,w.valueHash);for await(let y of g.map.diff(C))await Gg(e,g.indexes,y.key,()=>Promise.resolve(y.oldValue),y.newValue);return{type:0,syncHead:await g.commit(pu)}})}function Zg(e,t,n){return`Received ${e} ${t} is < than last snapshot ${e} ${n}; ignoring client view`}function Nb(e,t,n,r,i,o){return Ba(t,async s=>{var w;let a=s,l=await a.getHead(Be);if(l===void 0)throw new Error("Main head disappeared");let c=await Qn(l,a),f=c.meta;fm(f);let h=f.cookieJSON;if(!gr(n,h))return(w=e.debug)==null||w.call(e,"handlePullResponse: cookie mismatch, pull response is not applicable"),{type:2};for(let[g,C]of Object.entries(r.lastMutationIDChanges)){let v=f.lastMutationIDs[g];if(v!==void 0&&C<v)throw new Error(Zg(`${g} lastMutationID`,C,v))}let d=_t(r.cookie);if($0(d,h)<0)throw new Error(Zg("cookie",d,h));if(r.patch.length===0&&gr(d,h)&&!D3(r.lastMutationIDChanges,f.lastMutationIDs))return{type:1};let p=await mL(c.chunk.hash,{...f.lastMutationIDs,...r.lastMutationIDChanges},d,s,i,o);return await Pb(e,p,r.patch),{type:0,syncHead:await p.commit(pu)}})}function x3(e,t,n,r,i,o){return Ba(e,async s=>{var k;let a=s,l=await a.getHead(pu);if(l===void 0)throw new Error("Missing sync head");if(l!==n)throw(k=t.error)==null||k.call(t,"maybeEndPull, Wrong sync head. Expecting:",n,"got:",l),new Error("Wrong sync head");let c=await Qn(l,a),f=await a.getHead(Be);if(f===void 0)throw new Error("Missing main head");let h=await Qn(f,a),{meta:d}=c,p=d.basisHash;if(c===null)throw new Error("Sync snapshot with no basis");if(p!==h.chunk.hash)throw new Error("Overlapping syncs");let w=await Je(l,a),g=[],C=await Q0(f,a);for(let S of C){let x=r;Hf(S)&&(x=S.meta.clientID),await S.getMutationID(x,a)>await w.getMutationID(x,a)&&g.push(S)}g.reverse();let v=new Y0;if(g.length>0)return{syncHead:l,replayMutations:g,diffs:v};let y=await Je(f,a);if(i.shouldComputeDiffs()){let S=new Gn(a,o,y.valueHash),x=new Gn(a,o,w.valueHash),M=await du(S,x);v.set("",M),await ZD(y,w,a,v,i,o)}if(await Promise.all([s.setHead(Be,l),s.removeHead(pu)]),await s.commit(),t.debug){let[S,x]=jg(h,r),[M,_]=jg(c,r);t.debug("Successfully pulled new snapshot with lastMutationID:",M,"(prev:",S,"), cookie: ",_,"(prev:",x,"), sync head hash:",l,", main head hash:",f,", valueHash:",w.valueHash,"(prev:",h.valueHash)}return{syncHead:l,replayMutations:[],diffs:v}})}function D3(e,t){for(let[n,r]of Object.entries(e))if(r!==t[n])return!0;return!1}var hv=[],Lb=le.unknown().chain(e=>{let t=L0(e,hv)?Tf(e):b0({message:"Not a JSON value",path:hv.slice()});return hv.length=0,t});function b3(e){Ge(e),A0(e.httpRequestInfo),e.response!==void 0&&_3(e.response)}function _3(e){Sn(e)||MT(e)}var $b=class extends Error{constructor(t){super("Failed to push");A(this,"name","PushError");A(this,"causedBy");this.causedBy=t}},ey=0,jh=1,I3=Ei({id:le.number(),name:le.string(),args:Lb,timestamp:le.number()}),P3=Ei({id:le.number(),name:le.string(),args:Lb,timestamp:le.number(),clientID:nb});le.object({pushVersion:le.literal(0),schemaVersion:le.string(),profileID:le.string(),clientID:nb,mutations:le.array(I3)});le.object({pushVersion:le.literal(1),schemaVersion:le.string(),profileID:le.string(),clientGroupID:ew,mutations:le.array(P3)});function R3(e){return{id:e.mutationID,name:e.mutatorName,args:e.mutatorArgsJSON,timestamp:e.timestamp}}function M3(e){return{id:e.mutationID,name:e.mutatorName,args:e.mutatorArgsJSON,timestamp:e.timestamp,clientID:e.clientID}}async function ow(e,t,n,r,i,o,s,a,l){var p,w;let c=await ct(t,async g=>{let C=await g.getHead(Be);if(!C)throw new Error("Internal no main head");return Q0(C,g)});if(c.length===0)return;c.reverse();let f;if(l===jh){let g=[];for(let C of c)if(Hf(C))g.push(M3(C.meta));else throw new Error("Internal non local pending commit");Z(i),f={profileID:r,clientGroupID:i,mutations:g,pushVersion:jh,schemaVersion:a}}else{Z(l===ey);let g=[];for(let C of c)if(zD(C))g.push(R3(C.meta));else throw new Error("Internal non local pending commit");f={profileID:r,clientID:o,mutations:g,pushVersion:ey,schemaVersion:a}}(p=n.debug)==null||p.call(n,"Starting push...");let h=Date.now(),d=await O3(s,f,e);return(w=n.debug)==null||w.call(n,"...Push complete in ",Date.now()-h,"ms"),d}async function O3(e,t,n){try{let r=await e(t,n);return b3(r),r}catch(r){throw new $b(Ib(r))}}var Ab=10*2**20,Hs,ro,Tk,T3=(Tk=class{constructor(e){m(this,Hs,!1);m(this,ro,void 0);E(this,ro,e)}async recoverMutations(e,t,n,r,i,o){var h,d,p;let{lc:s,enableMutationRecovery:a,isPushDisabled:l,delegate:c}=u(this,ro);if(!a||u(this,Hs)||!c.online||c.closed||l())return!1;let f="Recovering mutations.";(h=s.debug)==null||h.call(s,"Start:",f);try{E(this,Hs,!0),await t,await Hb(r,u(this,ro),n,e);for(let w of Object.values(await i.getDatabases())){if(c.closed)return(d=s.debug)==null||d.call(s,"Exiting early due to close:",f),!0;if(w.replicacheName===c.name&&w.name!==c.idbName)switch(w.replicacheFormatVersion){case 4:case 5:case 6:case 7:await L3(w,u(this,ro),void 0,o)}}}catch(w){Uf(w,s,f,c)}finally{(p=s.debug)==null||p.call(s,"End:",f),E(this,Hs,!1)}return!0}},Hs=new WeakMap,ro=new WeakMap,Tk);function Uf(e,t,n,r){var i,o;r.closed?(i=t.debug)==null||i.call(t,`Mutation recovery error likely due to close during:
${n}
Error:
`,e):(o=t.error)==null||o.call(t,`Mutation recovery error during:
${n}
Error:
`,e)}async function N3(e,t,n,r,i,o){var g,C,v,y,k,S,x,M,_;Z(r.replicacheFormatVersion===4),yS(e);let{delegate:s,lc:a,wrapInOnlineCheck:l,wrapInReauthRetries:c,isPushDisabled:f,isPullDisabled:h}=i,d=await s.clientID;if(d===t||e.lastServerAckdMutationID>=e.mutationID)return;let p=`Recovering mutations for ${t}.`;(g=a.debug)==null||g.call(a,"Start:",p);let w=new iw(n,Ab,aD,wr);try{if(await We(w,oe=>oe.setHead(Be,e.headHash)),f()){(C=a.debug)==null||C.call(a,`Cannot recover mutations for client ${t} because push is disabled.`);return}let{pusher:T}=s,$="recoveringMutationsPush";if(!await l(async()=>{let{result:oe}=await c(async(U,H)=>{Wx(w);let Q=await ow(U,w,H,await s.profileID,void 0,t,T,r.schemaVersion,ey);return{result:Q,httpRequestInfo:Q==null?void 0:Q.httpRequestInfo}},$,a);return!!oe&&oe.httpRequestInfo.httpStatusCode===200},$)){(v=a.debug)==null||v.call(a,`Failed to recover mutations for client ${t} due to a push error.`);return}if(h()){(y=a.debug)==null||y.call(a,`Cannot confirm mutations were recovered for client ${t} because pull is disabled.`);return}let{puller:j}=s,se="recoveringMutationsPull",ne;if(!await l(async()=>{let{result:oe}=await c(async(U,H)=>{let Q=await E3(await s.profileID,t,r.schemaVersion,j,U,w,o,H,!1);return{result:Q,httpRequestInfo:Q.httpRequestInfo}},se,a);return{pullResponse:ne}=oe,!!ne&&oe.httpRequestInfo.httpStatusCode===200},se)){(k=a.debug)==null||k.call(a,`Failed to recover mutations for client ${t} due to a pull error.`);return}return a.debug&&ne&&(Sn(ne)?(S=a.debug)==null||S.call(a,`Client ${d} cannot recover mutations for client ${t}. The client no longer exists on the server.`):kn(ne)?(x=a.debug)==null||x.call(a,`Version is not supported on the server. versionType: ${ne.versionType}. Cannot recover mutations for client ${t}.`):(M=a.debug)==null||M.call(a,`Client ${d} recovered mutations for client ${t}.  Details`,{mutationID:e.mutationID,lastServerAckdMutationID:e.lastServerAckdMutationID,lastMutationID:ne.lastMutationID})),await We(n,async oe=>{let U=await Er(oe),H=U.get(t);if(!H)return U;yS(H);let Q=async P=>(await Va(P,oe),P);if(Sn(ne)||kn(ne)){let P=new Map(U);return P.delete(t),Q(P)}if(Z(ne),H.lastServerAckdMutationID>=ne.lastMutationID)return U;let I=new Map(U).set(t,{...H,lastServerAckdMutationID:ne.lastMutationID});return Q(I)})}catch(T){Uf(T,a,p,s)}finally{await w.close(),(_=a.debug)==null||_.call(a,"End:",p)}}async function L3(e,t,n,r){let i=r(e.name),o=new j0(i,gn,wr);try{await Hb(e,t,o,n)}finally{await o.close()}}function Hb(e,t,n,r){return e.replicacheFormatVersion>=5?A3(e,t,n):$3(e,t,n,r)}async function $3(e,t,n,r){var a,l,c;let{delegate:i,lc:o}=t,s=`Recovering mutations from db ${e.name}.`;(a=o.debug)==null||a.call(o,"Start:",s);try{let f=gD(e.replicacheFormatVersion),h=r||await ct(n,p=>Er(p)),d=new Set;for(;h;){let p;for(let[w,g]of h){if(i.closed){(l=o.debug)==null||l.call(o,"Exiting early due to close:",s);return}if(!d.has(w)&&(d.add(w),p=await N3(g,w,n,e,t,f),p))break}h=p}}catch(f){Uf(f,o,s,i)}(c=o.debug)==null||c.call(o,"End:",s)}async function A3(e,t,n){var s,a,l;let{delegate:r,lc:i}=t,o=`Recovering mutations from db ${e.name}.`;(s=i.debug)==null||s.call(i,"Start:",o);try{let c=gD(e.replicacheFormatVersion),f=await ct(n,d=>Ci(d)),h=new Set;for(;f;){let d;for(let[p,w]of f){if(r.closed){(a=i.debug)==null||a.call(i,"Exiting early due to close:",o);return}if(!h.has(p)&&(h.add(p),d=await H3(w,p,n,e,t,c),d))break}f=d}}catch(c){Uf(c,i,o,r)}(l=i.debug)==null||l.call(i,"End:",o)}function kS(e){return Sn(e)||kn(e)}async function ES(e,t,n,r,i){var o,s;Sn(r)?(o=e.debug)==null||o.call(e,`Client group ${t} cannot recover mutations for client group ${n}. The client group is unknown on the server. Marking it as disabled.`):kn(r)&&((s=e.debug)==null||s.call(e,`Client group ${t} cannot recover mutations for client group ${n}. The client group's version is not supported on the server. versionType: ${r.versionType}. Marking it as disabled.`)),await We(i,a=>_D(n,a))}async function H3(e,t,n,r,i,o){var v,y,k,S,x,M,_,T;Z(r.replicacheFormatVersion>=5);let{delegate:s,lc:a,wrapInOnlineCheck:l,wrapInReauthRetries:c,isPushDisabled:f,isPullDisabled:h}=i,d=await i.clientGroupIDPromise;if(Wx(d),d===t)return;let p,w=!0;for(let[$,j]of Object.entries(e.mutationIDs))if(!e.lastServerAckdMutationIDs[$]||e.lastServerAckdMutationIDs[$]<j){p=$,w=!1;break}if(w)return;if(e.disabled){(v=a.debug)==null||v.call(a,`Not recovering mutations for client group ${t} because group is disabled.`);return}let g=`Recovering mutations for client group ${t}.`;(y=a.debug)==null||y.call(a,"Start:",g);let C=new iw(n,Ab,aD,wr);try{if(await We(C,U=>U.setHead(Be,e.headHash)),f()){(k=a.debug)==null||k.call(a,`Cannot recover mutations for client group ${t} because push is disabled.`);return}let{pusher:$}=s,j="recoveringMutationsPush";if(!await l(async()=>{let{result:U}=await c(async(Q,I)=>{Z(p),Z(C);let P=await ow(Q,C,I,await s.profileID,t,p,$,r.schemaVersion,jh);return{result:P,httpRequestInfo:P==null?void 0:P.httpRequestInfo}},j,a);if(!U)return!1;let H=U.response;return kS(H)?(await ES(a,d,t,H,n),!1):U.httpRequestInfo.httpStatusCode===200},j)){(S=a.debug)==null||S.call(a,`Failed to recover mutations for client ${t} due to a push error.`);return}if(h()){(x=a.debug)==null||x.call(a,`Cannot confirm mutations were recovered for client ${t} because pull is disabled.`);return}let{puller:se}=s,ne="recoveringMutationsPull",oe;if(!await l(async()=>{let{result:U}=await c(async(Q,I)=>{Z(p);let P=await Ob(await s.profileID,p,t,r.schemaVersion,se,Q,C,o,I,!1);return{result:P,httpRequestInfo:P.httpRequestInfo}},ne,a),{pullResponse:H}=U;return kS(H)?(await ES(a,d,t,H,n),!1):!H||U.httpRequestInfo.httpStatusCode!==200?!1:(oe=H,!0)},ne)){(M=a.debug)==null||M.call(a,`Failed to recover mutations for client ${t} due to a pull error.`);return}return Z(oe),(_=a.debug)==null||_.call(a,`Client group ${d} recovered mutations for client group ${t}.  Details`,{mutationIDs:e.mutationIDs,lastServerAckdMutationIDs:e.lastServerAckdMutationIDs,lastMutationIDChanges:oe.lastMutationIDChanges}),await We(n,async U=>{var W;let H=await Ci(U),Q=H.get(t);if(!Q)return H;Z(oe);let I={},P=!1;for(let[K,ae]of Object.entries(oe.lastMutationIDChanges))((W=Q.lastServerAckdMutationIDs[K])!=null?W:0)<ae&&(I[K]=ae,P=!0);if(!P)return H;let B=new Map(H).set(t,{...Q,lastServerAckdMutationIDs:{...Q.lastServerAckdMutationIDs,...I}});return await ED(B,U),B})}catch($){Uf($,a,g,s)}finally{await C.close(),(T=a.debug)==null||T.call(a,"End:",g)}}var z3=class extends EventTarget{constructor(t){super();A(this,"name");A(this,"onmessage",null);A(this,"onmessageerror",null);this.name=t}close(){}postMessage(t){}},ty=typeof BroadcastChannel>"u"?z3:BroadcastChannel;function F3(e){return`replicache-new-client-group:${e}`}function j3(e){return`replicache-new-client-group-v1:${e}`}function U3(e){return typeof e=="object"&&typeof e.clientGroupID=="string"&&typeof e.idbName=="string"}function B3(e,t,n,r,i,o,s){if(n.aborted)return;let a=new ty(j3(e));if(i){a.postMessage({clientGroupID:r,idbName:t});let l=new ty(F3(e));l.postMessage([r]),l.close()}a.onmessage=async l=>{let{data:c}=l;if(U3(c)){let{clientGroupID:f,idbName:h}=c;if(f!==r)if(h===t)await ct(s,async d=>await lm(f,d)!==void 0)&&o();else{o();return}}},n.addEventListener("abort",()=>a.close())}function V3(e){return`replicache-on-persist:${e}`}function W3(e){Ge(e),_e(e.clientGroupID),_e(e.clientID)}function G3(e,t,n){if(t.aborted)return()=>{};let r=new ty(V3(e));return r.onmessage=i=>{let{data:o}=i;W3(o),n({clientGroupID:o.clientGroupID,clientID:o.clientID})},t.addEventListener("abort",()=>{r.close()}),i=>{t.aborted||(r.postMessage(i),n(i))}}var Q3=7*24*60*60*1e3,K3=5*60*1e3,CS;function q3(e,t,n,r){$f("ClientGC",()=>(CS=J3(e,t),CS),()=>K3,n,r)}function J3(e,t){return We(t,async n=>{let r=Date.now(),i=await Er(n),o=Array.from(i).filter(([a,l])=>a===e||r-l.heartbeatTimestampMs<=Q3);if(o.length===i.size)return i;let s=new Map(o);return await Va(s,n),s})}var Y3=5*60*1e3,xS;function X3(e,t,n){$f("ClientGroupGC",()=>(xS=Z3(e),xS),()=>Y3,t,n)}function Z3(e){return We(e,async t=>{let n=await Er(t),r=new Set;for(let o of n.values())nw(o),r.add(o.clientGroupID);let i=new Map;for(let[o,s]of await Ci(t))(r.has(o)||bD(s))&&i.set(o,s);return await ED(i,t),i})}var e5=60*1e3,DS;function t5(e,t,n,r,i){$f("Heartbeat",async()=>{DS=n5(e,t);try{return await DS}catch(o){if(o instanceof di){n();return}throw o}},()=>e5,r,i)}function n5(e,t){return We(t,async n=>{let r=await Er(n),i=r.get(e);if(!i)throw new di(e);let o={...i,heartbeatTimestampMs:Date.now()},s=new Map(r).set(e,o);return await Va(s,n),s})}var ic,oc,Nk,zb=(Nk=class{constructor(e){m(this,ic,new Set);m(this,oc,void 0);E(this,oc,e)}async visit(e){if(u(this,ic).has(e))return;u(this,ic).add(e);let t=await u(this,oc).mustGetChunk(e);await this.visitChunk(t)}async visitChunk(e){await Promise.all(e.meta.map(t=>this.visit(t)))}},ic=new WeakMap,oc=new WeakMap,Nk),sc,ac,Lk,r5=(Lk=class extends zb{constructor(t){super(t);m(this,sc,new Map);m(this,ac,void 0);E(this,ac,t)}get gatheredChunks(){return u(this,sc)}visit(t){return u(this,ac).isMemOnlyChunkHash(t)?super.visit(t):yr}visitChunk(t){return u(this,sc).set(t.hash,t),super.visitChunk(t)}},sc=new WeakMap,ac=new WeakMap,Lk);async function i5(e,t,n,r,i,o,s,a=()=>Promise.resolve()){if(o())return;let[l,c,f]=await ct(r,async g=>{await CL(t,g);let C=await fb(t,g);Z(C,`No main client group for clientID: ${t}`);let[,v]=await bS(g,C),y=await v.getMutationID(t,g),k=await jl(v,g);return ko(k),[y,k,C]});if(o())return;let[h,d,p]=await ct(n,async g=>{let C=await q0(Be,g),v=await jD(C,{[t]:l||0},g),y=await jl(C,g);ko(y);let k;if(Ug(y,c)>0){await a();let S=y.chunk.hash,x=new r5(g);await x.visit(S),k=x.gatheredChunks}return[v,y,k]});if(o())return;let w=!1;await We(r,async g=>{let[C,v]=await bS(g,f),y=v.chunk.hash,k={...C.mutationIDs},{lastServerAckdMutationIDs:S}=C;if(p){let M=await Qg(t,g);nw(M);let _=await jl(v,g);if(ko(_),Ug(d,_)>0){w=!0,await Promise.all(Array.from(p.values(),$=>g.putChunk($))),await Kg(t,{...M,persistHash:d.chunk.hash},g),y=d.chunk.hash;let T=await HN(C.headHash,g);S=d.meta.lastMutationIDs,k={...S},y=await _S(T,y,g,i,k,e,s)}}y=await _S(h,y,g,i,k,e,s);let x={...C,headHash:y,mutationIDs:k,lastServerAckdMutationIDs:S};await B0(f,x,g)}),p&&w&&await We(n,g=>g.chunksPersisted([...p.keys()]))}async function bS(e,t){let n=await lm(t,e);return Z(n,`No client group for clientGroupID: ${t}`),[n,await Je(n.headHash,e)]}async function _S(e,t,n,r,i,o,s){for(let a=e.length-1;a>=0;a--){let l=e[a],{meta:c}=l,f=await Je(t,n);await l.getMutationID(c.clientID,n)>await f.getMutationID(c.clientID,n)&&(i[c.clientID]=c.mutationID,t=(await bb(l,n,t,r,o,c.clientID,s)).chunk.hash)}return t}var lc,zs,uc,Fs,cc,$k,o5=($k=class extends zb{constructor(t,n,r,i=So){super(t);m(this,lc,new Map);m(this,zs,0);m(this,uc,void 0);m(this,Fs,void 0);m(this,cc,void 0);E(this,uc,n),E(this,Fs,r),E(this,cc,i)}get gatheredChunks(){return u(this,lc)}visit(t){return u(this,zs)>=u(this,Fs)||u(this,uc).isCached(t)?yr:super.visit(t)}visitChunk(t){if(u(this,zs)<u(this,Fs)){let n=u(this,cc).call(this,t);u(this,lc).set(t.hash,{chunk:t,size:n}),E(this,zs,u(this,zs)+n)}return super.visitChunk(t)}},lc=new WeakMap,zs=new WeakMap,uc=new WeakMap,Fs=new WeakMap,cc=new WeakMap,$k),s5=5*2**20,a5=300;async function l5(e,t,n,r,i,o,s,a){if(s())return;let l=await ct(t,h=>zN(Be,h));ko(l);let c=await t.withSuspendedSourceCacheEvictsAndDeletes(async()=>{let h=await We(n,async v=>{let y=await IL(r,v);if(!y)throw new di(r);let k=y.headHash,S=await(await Je(k,v)).getMutationID(r,v),x=await Qg(r,v);nw(x);let M=await Qn(k,v);if(ko(M),IS(l,M,k))return;let _=new o5(v,t,s5);await _.visit(k);let{gatheredChunks:T}=_,$=new Set(x.refreshHashes);$.add(k);let j={...x,refreshHashes:[...$]};return await Kg(r,j,v),[k,M,S,T,x.refreshHashes]});if(s()||!h)return{type:"aborted"};if(await us(a5),s())return{type:"aborted"};let[d,p,w,g,C]=h;return We(t,async v=>{let y=await q0(Be,v),k=await jl(y,v);if(ko(k),IS(k,p,d))return{type:"aborted",refreshHashesForRevert:C};let S=await jD(y,{[r]:w},v),x=[];for(let{chunk:T,size:$}of g.values())x.push(v.putChunk(T,$));await Promise.all(x);let M=d;for(let T=S.length-1;T>=0;T--)M=(await bb(S[T],v,M,i,e,S[T].meta.clientID,a)).chunk.hash;let _=await hL(y,await Je(M,v),v,o,a);return await v.setHead(Be,M),{type:"complete",newMemdagHeadHash:M,diffs:_,newPerdagClientHeadHash:d}})});if(s())return;let f=h=>We(n,async d=>{let p={...await Qg(r,d),refreshHashes:h};await Kg(r,p,d)});if(c.type==="aborted"){c.refreshHashesForRevert&&await f(c.refreshHashesForRevert);return}return await f([c.newPerdagClientHeadHash]),[c.newMemdagHeadHash,c.diffs]}function IS(e,t,n){let r=Ug(e,t);return r>0||r===0&&n===t.chunk.hash}function u5(e){return new Promise(t=>{typeof requestIdleCallback=="function"?requestIdleCallback(()=>t(),{timeout:e}):setTimeout(()=>t(),e)})}var fc,dc,hc,io,pc,Pt,rr,js,mc,ep,Fb,Ak,PS=(Ak=class{constructor(e,t,n,r,i=u5){m(this,ep);m(this,fc,void 0);m(this,dc,void 0);m(this,hc,void 0);m(this,io,void 0);m(this,pc,void 0);m(this,Pt,void 0);m(this,rr,void 0);m(this,js,Promise.resolve());m(this,mc,Promise.resolve());E(this,fc,e),E(this,dc,t),E(this,hc,n),E(this,io,r),E(this,pc,i),u(this,io).addEventListener("abort",()=>{var s,a;let o=new Ua("Aborted");(s=u(this,rr))==null||s.reject(o),(a=u(this,Pt))==null||a.reject(o),E(this,rr,void 0),E(this,Pt,void 0)})}schedule(){return u(this,io).aborted?Promise.reject(new Ua("Aborted")):u(this,Pt)?u(this,Pt).promise:(E(this,Pt,he()),D(this,ep,Fb).call(this),u(this,Pt).promise)}},fc=new WeakMap,dc=new WeakMap,hc=new WeakMap,io=new WeakMap,pc=new WeakMap,Pt=new WeakMap,rr=new WeakMap,js=new WeakMap,mc=new WeakMap,ep=new WeakSet,Fb=async function(){var e,t;try{await u(this,js)}catch{}if(await u(this,mc),!!u(this,Pt)&&(await u(this,pc).call(this,u(this,dc)),!!u(this,Pt))){E(this,mc,c5(u(this,hc),u(this,io))),E(this,rr,u(this,Pt)),E(this,Pt,void 0);try{E(this,js,u(this,fc).call(this)),await u(this,js),(e=u(this,rr))==null||e.resolve()}catch(n){(t=u(this,rr))==null||t.reject(n)}E(this,rr,void 0)}},Ak);async function c5(e,t){try{await us(e,t)}catch(n){Z(n instanceof Ua)}}function f5(e,t,n){let r=setInterval(e,t);n.addEventListener("abort",()=>{clearInterval(r)})}async function RS(e,t,n,r){let i=await fetch(t,{method:e,body:n,headers:r});if(!i.ok)throw new Error(`Got ${i.status} fetching ${t}: ${await i.text()}`);return i}var d5=new Set,vc,gc,yc,wc,Sc,Us,Hk,h5=(Hk=class{constructor(e,t,n,r){m(this,vc,void 0);m(this,gc,void 0);m(this,yc,!0);m(this,wc,void 0);m(this,Sc,d5);m(this,Us,[]);A(this,"onError");A(this,"onDone");E(this,vc,e),E(this,gc,t),this.onError=n,this.onDone=r}hasIndexSubscription(e){for(let t of u(this,Us))if(t.options.indexName===e)return!0;return!1}invoke(e,t,n){return u(this,vc).call(this,e)}matches(e){for(let[t,n]of e)if(v5(u(this,Sc),u(this,Us),t,n))return!0;return!1}updateDeps(e,t){E(this,Sc,e),E(this,Us,t)}onData(e){(u(this,yc)||!gr(e,u(this,wc)))&&(E(this,wc,e),E(this,yc,!1),u(this,gc).call(this,e))}},vc=new WeakMap,gc=new WeakMap,yc=new WeakMap,wc=new WeakMap,Sc=new WeakMap,Us=new WeakMap,Hk),kc,oo,ir,Ec,zk,p5=(zk=class{constructor(e,t){m(this,kc,void 0);m(this,oo,void 0);m(this,ir,void 0);m(this,Ec,void 0);A(this,"onError");A(this,"onDone");var n,r;E(this,kc,e),E(this,oo,(n=t.prefix)!=null?n:""),E(this,ir,t.indexName),E(this,Ec,(r=t.initialValuesInFirstDiff)!=null?r:!1)}hasIndexSubscription(e){return u(this,ir)===e}onData(e){e!==void 0&&u(this,kc).call(this,e)}invoke(e,t,n){let r=async(i,o,s,a)=>{var h;let l;if(t===0){if(!u(this,Ec))return;Z(n===void 0);let d=[];for await(let p of e.scan({prefix:o,indexName:i}).entries())d.push({op:"add",key:p[0],newValue:p[1]});l=d}else{Z(n);let d=(h=n.get(i!=null?i:""))!=null?h:[];l=a(d)}let c=[],{length:f}=l;for(let d=Ub(l,o,s);d<f&&s(l[d]).startsWith(o);d++)c.push(l[d]);return t===0||c.length>0?c:void 0};return u(this,ir)?r(u(this,ir),u(this,oo),i=>i.key[0],i=>MS(i,dm)):r(void 0,u(this,oo),i=>i.key,i=>MS(i,o=>o))}matches(e){var n;let t=e.get((n=u(this,ir))!=null?n:"");return t===void 0?!1:S5(t,u(this,oo),u(this,ir))}updateDeps(e,t){}},kc=new WeakMap,oo=new WeakMap,ir=new WeakMap,Ec=new WeakMap,zk);function MS(e,t){return e.map(n=>{let r=t(n.key);switch(n.op){case"add":return{op:"add",key:r,newValue:n.newValue};case"change":return{op:"change",key:r,oldValue:n.oldValue,newValue:n.newValue};case"del":return{op:"del",key:r,oldValue:n.oldValue}}})}var An,Bs,Cc,xc,Dc,ny,bc,ry,tp,jb,Fk,m5=(Fk=class{constructor(e,t){m(this,Dc);m(this,bc);m(this,tp);m(this,An,new Set);m(this,Bs,new Set);m(this,Cc,void 0);m(this,xc,void 0);A(this,"hasPendingSubscriptionRuns",!1);E(this,Cc,e),E(this,xc,t)}addSubscription(e,{onData:t,onError:n,onDone:r}){let i=new h5(e,t,n,r);return D(this,Dc,ny).call(this,i)}addWatch(e,t){let n=new p5(e,t!=null?t:{});return D(this,Dc,ny).call(this,n)}clear(){var e;for(let t of u(this,An))(e=t.onDone)==null||e.call(t);u(this,An).clear()}async fire(e){let t=w5(u(this,An),e);await D(this,bc,ry).call(this,t,1,e)}shouldComputeDiffs(){return u(this,An).size>0}shouldComputeDiffsForIndex(e){for(let t of u(this,An))if(t.hasIndexSubscription(e))return!0;return!1}},An=new WeakMap,Bs=new WeakMap,Cc=new WeakMap,xc=new WeakMap,Dc=new WeakSet,ny=function(e){return u(this,An).add(e),D(this,tp,jb).call(this,e),()=>u(this,An).delete(e)},bc=new WeakSet,ry=async function(e,t,n){var o,s;let r=[...e];if(r.length===0)return;let i=await u(this,Cc).call(this,a=>Promise.allSettled(r.map(async l=>{let c=new f3(a);try{return await l.invoke(c,t,n)}finally{l.updateDeps(c.keys,c.scans)}})));for(let a=0;a<r.length;a++){let l=r[a],c=i[a];c.status==="fulfilled"?l.onData(c.value):l.onError?l.onError(c.reason):(s=(o=u(this,xc)).error)==null||s.call(o,"Error in subscription body:",c.reason)}},tp=new WeakSet,jb=async function(e){if(u(this,Bs).add(e),!this.hasPendingSubscriptionRuns){this.hasPendingSubscriptionRuns=!0,await Promise.resolve(),this.hasPendingSubscriptionRuns=!1;let t=[...u(this,Bs)];u(this,Bs).clear(),await D(this,bc,ry).call(this,t,0,void 0)}},Fk);function v5(e,t,n,r){if(n===""){for(let i of r)if(e.has(i.key))return!0}for(let i of t)if(g5(i,n,r))return!0;return!1}function g5(e,t,n){for(let r of n)if(y5(e,t,r.key))return!0;return!1}function y5(e,t,n){let{indexName:r="",limit:i,prefix:o,startKey:s,startExclusive:a,startSecondaryKey:l}=e.options;if(t!==r)return!1;if(!r)return i!==void 0&&i<=0?!1:!o&&!s?!0:!(o&&(!n.startsWith(o)||OS(e,n))||s&&(a&&uv(n,s)||lv(n,s)||OS(e,n)));if(!o&&!s&&!l)return!0;let[c,f]=dm(n);return!(o&&!c.startsWith(o)||l&&(a&&uv(c,l)||lv(c,l))||s&&(a&&uv(f,s)||lv(f,s)))}function OS(e,t){let{inclusiveLimitKey:n}=e;return e.options.limit!==void 0&&n!==void 0&&V0(t,n)}function*w5(e,t){for(let n of e)n.matches(t)&&(yield n)}function S5(e,t,n){if(t==="")return!0;let r=n?o=>dm(o.key)[0]:o=>o.key,i=Ub(e,t,r);return i<e.length&&r(e[i]).startsWith(t)}function Ub(e,t,n){return PD(e.length,r=>Af(t,n(e[r])))}var pv="";function k5(){if(pv===""){let e=new Uint8Array(4);crypto.getRandomValues(e),pv=Array.from(e,t=>t.toString(16)).join("")}return pv}var mv=new Map;function TS(e){let t=mv.get(e);return t?(t++,mv.set(e,t)):(mv.set(e,0),t=0),`${e}-${k5()}-${t}`}var E5="13.0.1",C5=401,x5=100*2**20,D5=5*60*1e3,b5=24*60*60*1e3,_5=5*60*1e3;function I5(e,t){return P5(e,t,7)}function P5(e,t,n){let r=`rep:${e}:${n}`;return t?`${r}:${t}`:r}var R5=8,M5=1e3,O5=1e3,T5=500,N5=500,NS=()=>{},L5={type:"NewClientGroup"},Rt,_c,Vs,Ic,Pc,iy,Bt,Ws,ht,Gs,St,ln,np,rp,Qs,so,Br,Rc,Mc,Ks,ao,Oc,Vt,Xe,st,or,ee,Vr,qs,Tc,Nc,Lc,ip,$c,op,Js,sp,Bb,Ac,Hc,oy,ap,Vb,Ys,Bd,lp,Wb,up,Gb,Xs,Vd,zc,sy,cp,Qb,Fc,ay,Zs,Wd,ea,Gd,jc,ly,fp,Kb,ta,Qd,dp,qb,hp,Jb,Uc,uy,Bc,cy,Vc,fy,lo,_l,na,Kd,Wc,dy,Gc,hy,pp,Yb,mp,Xb,Qc,py,sr,Mi,Kc,vp,Zb,gp,e_,yp,t_,ra,qd,ia,Jd,jk,$5=(jk=class{constructor(e){m(this,Pc);m(this,sp);m(this,Hc);m(this,ap);m(this,Ys);m(this,lp);m(this,up);m(this,Xs);m(this,zc);m(this,cp);m(this,Fc);m(this,Zs);m(this,ea);m(this,jc);m(this,fp);m(this,ta);m(this,dp);m(this,hp);m(this,Uc);m(this,Bc);m(this,Vc);m(this,lo);m(this,na);m(this,Wc);m(this,Gc);m(this,pp);m(this,mp);m(this,Qc);m(this,sr);m(this,vp);m(this,gp);m(this,yp);m(this,ra);m(this,ia);A(this,"pullURL");A(this,"pushURL");A(this,"auth");A(this,"name");m(this,Rt,void 0);m(this,_c,void 0);m(this,Vs,!1);m(this,Ic,void 0);A(this,"schemaVersion");m(this,Bt,!1);m(this,Ws,!0);m(this,ht,void 0);m(this,Gs,void 0);m(this,St,void 0);m(this,ln,void 0);m(this,np,void 0);m(this,rp,void 0);m(this,Qs,null);m(this,so,Promise.resolve(void 0));m(this,Br,{});A(this,"mutate");m(this,Rc,0);m(this,Mc,0);m(this,Ks,void 0);m(this,ao,void 0);A(this,"pullInterval");A(this,"pushDelay");m(this,Oc,void 0);A(this,"puller");A(this,"pusher");m(this,Vt,void 0);m(this,Xe,void 0);m(this,st,void 0);m(this,or,void 0);m(this,ee,void 0);m(this,Vr,new AbortController);m(this,qs,!1);m(this,Tc,void 0);m(this,Nc,void 0);m(this,Lc,void 0);m(this,ip,new PS(()=>D(this,Uc,uy).call(this),M5,T5,u(this,Vr).signal));m(this,$c,void 0);m(this,op,new PS(()=>D(this,Bc,cy).call(this),O5,N5,u(this,Vr).signal));m(this,Js,void 0);A(this,"onSync",null);A(this,"onClientStateNotFound",LS);A(this,"onUpdateNeeded",LS);A(this,"getAuth",null);m(this,Ac,async()=>{var e;u(this,Bt)||((e=gv())==null?void 0:e.visibilityState)==="visible"&&await D(this,Hc,oy).call(this)});A(this,"onOnlineChange",null);m(this,Kc,async e=>{await u(this,ht);let t=await u(this,St);return ct(u(this,Xe),async n=>{try{let r=await cL(n,7),i=new Eb(t,r,u(this,ee));return await e(i)}catch(r){throw await D(this,ra,qd).call(this,r)}})});var U,H,Q,I,P,B,W;let{name:t,logLevel:n="info",logSinks:r=[wo],pullURL:i="",auth:o,pushDelay:s=10,pushURL:a="",schemaVersion:l="",pullInterval:c=6e4,mutators:f={},requestOptions:h={},puller:d,pusher:p,licenseKey:w,experimentalCreateKVStore:g,indexes:C={}}=e;if(this.auth=o!=null?o:"",this.pullURL=i,this.pushURL=a,t===void 0||t==="")throw new Error("name is required and must be non-empty");this.name=t,this.schemaVersion=l,this.pullInterval=c,this.pushDelay=s,this.puller=d!=null?d:TT(this),this.pusher=p!=null?p:y3(this);let v=e,y=(U=v.enableMutationRecovery)!=null?U:!0;E(this,Js,(H=v.enableLicensing)!=null?H:!0),E(this,Tc,(Q=v.enableScheduledPersist)!=null?Q:!0),E(this,Nc,(I=v.enableScheduledRefresh)!=null?I:!0),E(this,Lc,(P=v.enablePullAndPushInOpen)!=null?P:!0),v.exposeInternalAPI&&v.exposeInternalAPI({persist:()=>D(this,Uc,uy).call(this),refresh:()=>D(this,Bc,cy).call(this)});let k=r.length===1?r[0]:new zx(r);E(this,ee,new Lf(n,{name:t},k)),(W=(B=u(this,ee)).debug)==null||W.call(B,"Constructing Replicache",{name:t,"replicache version":E5}),E(this,Rt,new m5(u(this,Kc),u(this,ee)));let S=K=>wD(u(this,ee),K),x;g?(S=g,x=S(this.idbName)):x=S(this.idbName),E(this,Ic,S),E(this,or,new db(S)),E(this,st,new j0(x,gn,wr)),E(this,Xe,new iw(u(this,st),x5,gn,wr));let M=he();E(this,ht,M.promise),E(this,Vt,w);let _=he();E(this,np,_.promise);let T=he();E(this,rp,T.promise);let{minDelayMs:$=qL,maxDelayMs:j=JL}=h;E(this,Oc,{maxDelayMs:j,minDelayMs:$}),E(this,Ks,new SS(new QL(this,()=>D(this,cp,Qb).call(this),u(this,ee).withContext("PULL")))),E(this,ao,new SS(new KL(this,()=>D(this,fp,Kb).call(this),u(this,ee).withContext("PUSH")))),this.mutate=D(this,gp,e_).call(this,f);let se=he();E(this,Gs,se.promise);let ne=he();E(this,ln,ne.promise);let oe=he();E(this,St,oe.promise),E(this,_c,new T3({delegate:this,lc:u(this,ee),enableMutationRecovery:y,wrapInOnlineCheck:D(this,Zs,Wd).bind(this),wrapInReauthRetries:D(this,ea,Gd).bind(this),isPullDisabled:D(this,Fc,ay).bind(this),isPushDisabled:D(this,jc,ly).bind(this),clientGroupIDPromise:u(this,ln)})),E(this,$c,G3(this.name,u(this,Vr).signal,K=>{D(this,pp,Yb).call(this,K)})),D(this,sp,Bb).call(this,C,se.resolve,ne.resolve,oe.resolve,M.resolve,_.resolve,T.resolve)}get idbName(){return I5(this.name,this.schemaVersion)}get requestOptions(){return u(this,Oc)}get profileID(){return u(this,Gs)}get clientID(){return u(this,St)}get clientGroupID(){return u(this,ln)}get online(){return u(this,Ws)}get closed(){return u(this,Bt)}async close(){var r;E(this,Bt,!0);let{promise:e,resolve:t}=he();vv.set(this.name,e),u(this,Vr).abort(),(r=gv())==null||r.removeEventListener("visibilitychange",u(this,Ac)),await u(this,ht);let n=[u(this,Xe).close(),u(this,st).close(),u(this,or).close()];u(this,Ks).close(),u(this,ao).close(),u(this,Rt).clear(),u(this,Qs)&&clearTimeout(u(this,Qs)),await Promise.all(n),vv.delete(this.name),t()}pull(){u(this,Ks).send()}async poke(e){await u(this,ht);let t=await u(this,St),n=TS(t),r=u(this,ee).withContext("handlePullResponse").withContext("requestID",n),{pullResponse:i}=e;if(kn(i)){D(this,ta,Qd).call(this,i);return}if(Sn(i)){await D(this,na,Kd).call(this);return}let o=await Nb(r,u(this,Xe),_t(e.baseCookie),i,t,7);switch(o.type){case 0:await D(this,zc,sy).call(this,o.syncHead,n);break;case 2:throw new Error("unexpected base cookie for poke: "+JSON.stringify(e))}}subscribe(e,t){return typeof t=="function"&&(t={onData:t}),u(this,Rt).addSubscription(e,t)}experimentalWatch(e,t){return u(this,Rt).addWatch(e,t)}query(e){return u(this,Kc).call(this,e)}experimentalPendingMutations(){return ct(u(this,Xe),async e=>{let t=await e.getHead(Be);if(t===void 0)throw new Error("Missing main head");let n=await Q0(t,e),r=await u(this,St);return Promise.all(n.map(async i=>(UN(i),{id:await i.getMutationID(r,e),name:i.meta.mutatorName,args:i.meta.mutatorArgsJSON,clientID:i.meta.clientID})))})}},Rt=new WeakMap,_c=new WeakMap,Vs=new WeakMap,Ic=new WeakMap,Pc=new WeakSet,iy=function(){return{name:this.idbName,replicacheName:this.name,replicacheFormatVersion:7,schemaVersion:this.schemaVersion}},Bt=new WeakMap,Ws=new WeakMap,ht=new WeakMap,Gs=new WeakMap,St=new WeakMap,ln=new WeakMap,np=new WeakMap,rp=new WeakMap,Qs=new WeakMap,so=new WeakMap,Br=new WeakMap,Rc=new WeakMap,Mc=new WeakMap,Ks=new WeakMap,ao=new WeakMap,Oc=new WeakMap,Vt=new WeakMap,Xe=new WeakMap,st=new WeakMap,or=new WeakMap,ee=new WeakMap,Vr=new WeakMap,qs=new WeakMap,Tc=new WeakMap,Nc=new WeakMap,Lc=new WeakMap,ip=new WeakMap,$c=new WeakMap,op=new WeakMap,Js=new WeakMap,sp=new WeakSet,Bb=async function(e,t,n,r,i,o,s){var p;await vv.get(this.name),await u(this,or).getProfileID().then(t),await u(this,or).putDatabase(u(this,Pc,iy));let[a,l,c,f,h]=await xL(u(this,ee),u(this,st),Object.keys(u(this,Br)),e,7);n(l.clientGroupID),r(a),await We(u(this,Xe),w=>w.setHead(Be,c)),i(),E(this,so,D(this,up,Gb).call(this)),await u(this,so),await D(this,ap,Vb).call(this,o),u(this,Lc)&&(this.pull(),D(this,dp,qb).call(this));let{signal:d}=u(this,Vr);t5(a,u(this,st),()=>{D(this,lo,_l).call(this,a)},u(this,ee),d),q3(a,u(this,st),u(this,ee),d),zL(u(this,or),u(this,ee),d),X3(u(this,st),u(this,ee),d),B3(this.name,this.idbName,d,l.clientGroupID,h,()=>{D(this,Wc,dy).call(this,L5)},u(this,st)),f5(()=>D(this,ia,Jd).call(this),D5,d),D(this,ia,Jd).call(this,f),(p=gv())==null||p.addEventListener("visibilitychange",u(this,Ac)),await D(this,lp,Wb).call(this,s,u(this,ee),d)},Ac=new WeakMap,Hc=new WeakSet,oy=async function(){let e=await u(this,St),t=await ct(u(this,st),n=>ab(e,n));return t||D(this,lo,_l).call(this,e),!t},ap=new WeakSet,Vb=async function(e){var t,n,r,i,o,s,a,l,c,f;if(!u(this,Js)){e(!0);return}if(!u(this,Vt)){await D(this,Ys,Bd).call(this,u(this,ee),"license key ReplicacheOptions.licenseKey is not set",!0,e);return}if((n=(t=u(this,ee)).debug)==null||n.call(t,`Replicache license key: ${u(this,Vt)}`),u(this,Vt)===iS){(i=(r=u(this,ee)).info)==null||i.call(r,"Skipping license check for TEST_LICENSE_KEY. You may ONLY use this key for automated (e.g., unit/CI) testing. See https://replicache.dev for more information."),e(!0),E(this,Qs,setTimeout(async()=>{await D(this,Ys,Bd).call(this,u(this,ee),"Test key expired",!0,e)},_5));return}try{let h=await pT(RS,oS,u(this,Vt),u(this,ee));if(h.pleaseUpdate&&((s=(o=u(this,ee)).error)==null||s.call(o,"You are using an old version of Replicache that uses deprecated licensing features. Please update Replicache else it may stop working.")),h.status==="VALID")(l=(a=u(this,ee)).debug)==null||l.call(a,"License is valid.");else{await D(this,Ys,Bd).call(this,u(this,ee),`status: ${h.status}`,h.disable,e);return}}catch(h){(f=(c=u(this,ee)).error)==null||f.call(c,`Error checking license: ${h}`)}e(!0)},Ys=new WeakSet,Bd=async function(e,t,n,r){var i,o;(i=e.error)==null||i.call(e,`** REPLICACHE LICENSE NOT VALID ** Replicache license key '${u(this,Vt)}' is not valid (${t}). Please run 'npx replicache get-license' to get a license key or contact hello@replicache.dev for help.`),n&&(await this.close(),(o=e.error)==null||o.call(e,"** REPLICACHE DISABLED **")),r(!1)},lp=new WeakSet,Wb=async function(e,t,n){if(!u(this,Js)||!u(this,Vt)||u(this,Vt)===iS){e(!1);return}let r=async()=>{var i,o;try{await hT(RS,oS,u(this,Vt),await this.profileID,t)}catch(s){(o=(i=u(this,ee)).info)==null||o.call(i,`Error sending license active ping: ${s}`)}};await r(),e(!0),$f("LicenseActive",r,()=>b5,t,n)},up=new WeakSet,Gb=async function(){if(!u(this,Bt))return await u(this,ht),g3(u(this,Xe),Be)},Xs=new WeakSet,Vd=async function(e,t){let n=await u(this,so);e!==void 0&&e!==n&&(E(this,so,Promise.resolve(e)),await u(this,Rt).fire(t))},zc=new WeakSet,sy=async function(e,t){for(;;){if(u(this,Bt))return;await u(this,ht);let n=await u(this,St),r=u(this,ee).withContext("maybeEndPull").withContext("requestID",t),{replayMutations:i,diffs:o}=await x3(u(this,Xe),r,e,n,u(this,Rt),7);if(!i||i.length===0){await D(this,Xs,Vd).call(this,e,o),D(this,Gc,hy).call(this);return}for(let s of i){u(this,Rt).hasPendingSubscriptionRuns&&await Promise.resolve();let{meta:a}=s;e=await Ba(u(this,Xe),l=>v3(s,l,e,pu,u(this,Br),r,cm(a)?a.clientID:n,7))}}},cp=new WeakSet,Qb=function(){return D(this,Fc,ay).call(this)?Promise.resolve(!0):D(this,Zs,Wd).call(this,async()=>{try{D(this,sr,Mi).call(this,0,1);let{syncHead:e,requestID:t,ok:n}=await D(this,hp,Jb).call(this);if(!n)return!1;e!==ut&&await D(this,zc,sy).call(this,e,t)}catch(e){throw await D(this,ra,qd).call(this,e)}finally{D(this,sr,Mi).call(this,0,-1)}return!0},"Pull")},Fc=new WeakSet,ay=function(){return u(this,Vs)||this.pullURL===""&&NT(this.puller)},Zs=new WeakSet,Wd=async function(e,t){var r,i,o,s,a,l,c;let n=!0;try{return await e()}catch(f){return f instanceof $b||f instanceof Rb?(n=!1,(i=(r=u(this,ee)).info)==null||i.call(r,`${t} threw:
`,f,`
with cause:
`,f.causedBy)):f instanceof A5?(s=(o=u(this,ee)).error)==null||s.call(o,f):(l=(a=u(this,ee)).info)==null||l.call(a,`${t} threw:
`,f),!1}finally{u(this,Ws)!==n&&(E(this,Ws,n),(c=this.onOnlineChange)==null||c.call(this,n),n&&D(this,ia,Jd).call(this))}},ea=new WeakSet,Gd=async function(e,t,n,r=NS,i=NS){var l,c;let o=await this.clientID,s=0,a;n=n.withContext(t);do{let f=TS(o),h=n.withContext("requestID",f),{httpRequestInfo:d,result:p}=await e(f,h);if(a=p,!d)return{result:p,authFailure:!1};let{errorMessage:w,httpStatusCode:g}=d;if((w||g>=400)&&((l=h.error)==null||l.call(h,`Got error response doing ${t}: ${g}`+(w?`: ${w}`:""))),g!==C5)return{result:p,authFailure:!1};if(!this.getAuth)return{result:p,authFailure:!0};let C;try{await r(),C=await this.getAuth()}finally{await i()}if(C==null)return{result:p,authFailure:!0};this.auth=C,s++}while(s<R5);return(c=n.info)==null||c.call(n,"Tried to reauthenticate too many times"),{result:a,authFailure:!0}},jc=new WeakSet,ly=function(){return u(this,Vs)||this.pushURL===""&&w3(this.pusher)},fp=new WeakSet,Kb=async function(){if(D(this,jc,ly).call(this))return!0;await u(this,ht);let e=await u(this,Gs),t=await u(this,St),n=await u(this,ln);return D(this,Zs,Wd).call(this,async()=>{let{result:r}=await D(this,ea,Gd).call(this,async(s,a)=>{try{D(this,sr,Mi).call(this,1,0);let l=await ow(s,u(this,Xe),a,e,n,t,this.pusher,this.schemaVersion,jh);return{result:l,httpRequestInfo:l==null?void 0:l.httpRequestInfo}}finally{D(this,sr,Mi).call(this,-1,0)}},"push",u(this,ee));if(r===void 0)return!0;let{response:i,httpRequestInfo:o}=r;return kn(i)?D(this,ta,Qd).call(this,i):Sn(i)&&await D(this,na,Kd).call(this),o.httpStatusCode===200},"Push")},ta=new WeakSet,Qd=function(e){let t={type:e.error};e.versionType&&(t.versionType=e.versionType),D(this,Wc,dy).call(this,t)},dp=new WeakSet,qb=function(){u(this,ao).send()},hp=new WeakSet,Jb=async function(){await u(this,ht);let e=await this.profileID,t=await u(this,St),n=await u(this,ln),{result:{beginPullResponse:r,requestID:i}}=await D(this,ea,Gd).call(this,async(l,c)=>{let f=await Ob(e,t,n,this.schemaVersion,this.puller,l,u(this,Xe),7,c);return{result:{beginPullResponse:f,requestID:l},httpRequestInfo:f.httpRequestInfo}},"pull",u(this,ee),()=>D(this,sr,Mi).call(this,0,-1),()=>D(this,sr,Mi).call(this,0,1)),{pullResponse:o}=r;kn(o)?D(this,ta,Qd).call(this,o):Sn(r.pullResponse)&&await D(this,na,Kd).call(this);let{syncHead:s,httpRequestInfo:a}=r;return{requestID:i,syncHead:s,ok:a.httpStatusCode===200}},Uc=new WeakSet,uy=async function(){var n,r;Z(!u(this,qs)),E(this,qs,!0);try{let i=await this.clientID;if(await u(this,ht),u(this,Bt))return;try{await i5(u(this,ee),i,u(this,Xe),u(this,st),u(this,Br),()=>this.closed,7)}catch(o){if(o instanceof di)D(this,lo,_l).call(this,i);else if(u(this,Bt))(r=(n=u(this,ee)).debug)==null||r.call(n,"Exception persisting during close",o);else throw o}}finally{E(this,qs,!1)}let e=await this.clientID,t=await u(this,ln);Z(t),u(this,$c).call(this,{clientID:e,clientGroupID:t})},Bc=new WeakSet,cy=async function(){var n,r;await u(this,ht);let e=await this.clientID;if(u(this,Bt))return;let t;try{t=await l5(u(this,ee),u(this,Xe),u(this,st),e,u(this,Br),u(this,Rt),()=>this.closed,7)}catch(i){if(i instanceof di)D(this,lo,_l).call(this,e);else if(u(this,Bt))(r=(n=u(this,ee)).debug)==null||r.call(n,"Exception refreshing during close",i);else throw i}t!==void 0&&await D(this,Xs,Vd).call(this,t[0],t[1])},Vc=new WeakSet,fy=function(){var e;(e=this.onClientStateNotFound)==null||e.call(this)},lo=new WeakSet,_l=function(e){var t,n;(n=(t=u(this,ee)).error)==null||n.call(t,`Client state not found on client, clientID: ${e}`),D(this,Vc,fy).call(this)},na=new WeakSet,Kd=async function(){var t,n;let e=await u(this,ln);Z(e),E(this,Vs,!0),await We(u(this,st),r=>_D(e,r)),(n=(t=u(this,ee)).error)==null||n.call(t,`Client state not found on server, clientGroupID: ${e}`),D(this,Vc,fy).call(this)},Wc=new WeakSet,dy=function(e){var t,n,r;(n=(t=u(this,ee)).debug)==null||n.call(t,`Update needed, reason: ${e}`),(r=this.onUpdateNeeded)==null||r.call(this,e)},Gc=new WeakSet,hy=async function(){u(this,Tc)&&await D(this,Qc,py).call(this,"persist",u(this,ip))},pp=new WeakSet,Yb=async function(e){var n,r;(r=(n=u(this,ee)).debug)==null||r.call(n,"Handling persist",e);let t=await u(this,ln);e.clientGroupID===t&&D(this,mp,Xb).call(this)},mp=new WeakSet,Xb=async function(){u(this,Nc)&&await D(this,Qc,py).call(this,"refresh from storage",u(this,op))},Qc=new WeakSet,py=async function(e,t){var n,r,i,o;try{await t.schedule()}catch(s){s instanceof Ua?(r=(n=u(this,ee)).debug)==null||r.call(n,`Scheduled ${e} did not complete before close.`):(o=(i=u(this,ee)).error)==null||o.call(i,`Error during ${e}`,s)}},sr=new WeakSet,Mi=function(e,t){E(this,Rc,u(this,Rc)+e),E(this,Mc,u(this,Mc)+t);let n=e+t,r=u(this,Rc)+u(this,Mc);if(n===1&&r===1||r===0){let i=r>0;Promise.resolve().then(()=>{var o;return(o=this.onSync)==null?void 0:o.call(this,i)})}},Kc=new WeakMap,vp=new WeakSet,Zb=function(e,t){return u(this,Br)[e]=t,async n=>(await D(this,yp,t_).call(this,e,t,n,performance.now())).result},gp=new WeakSet,e_=function(e){let t=Object.create(null);for(let n in e)t[n]=D(this,vp,Zb).call(this,n,e[n]);return t},yp=new WeakSet,t_=async function(e,t,n,r){let i=_t(n!=null?n:null);u(this,Rt).hasPendingSubscriptionRuns&&await Promise.resolve(),await u(this,ht);let o=await u(this,St);return Ba(u(this,Xe),async s=>{try{let a=await hD(Be,s),l=await tb(a,e,i,null,s,r,o,7),c=new xb(o,await l.getMutationID(),"initial",l,u(this,ee)),f=await t(c,n);hu(l);let[h,d]=await l.commitWithDiffs(Be,u(this,Rt));return u(this,ao).send(),await D(this,Xs,Vd).call(this,h,d),D(this,Gc,hy).call(this),{result:f,ref:h}}catch(a){throw await D(this,ra,qd).call(this,a)}})},ra=new WeakSet,qd=async function(e){return e instanceof fD&&await D(this,Hc,oy).call(this)?new di(await u(this,St)):e},ia=new WeakSet,Jd=function(e){return u(this,_c).recoverMutations(e,u(this,ht),u(this,st),u(this,Pc,iy),u(this,or),u(this,Ic))},jk),vv=new Map;function gv(){return typeof document<"u"?document:void 0}function LS(){typeof location<"u"&&location.reload()}var A5=class extends Error{},n_="0.36.202310310758+c5a2c3",H5=class extends Error{constructor(){super(...arguments);A(this,"name","AbortError")}},r_=Promise.resolve(),z5=new Promise(()=>{});function Yd(e,t){return e===0?r_:new Promise((n,r)=>{const i=setTimeout(()=>{n()},e);t&&t.addEventListener("abort",()=>{clearTimeout(i),r(new H5("Aborted"))})})}function F5(e,t){if(e===0)return[r_,z5];const{promise:n,resolve:r}=he();return[new Promise(o=>{const s=()=>{clearTimeout(a),r()},a=setTimeout(()=>{o(),t.removeEventListener("abort",s)},e);t.addEventListener("abort",s,{once:!0})}),n]}function Ul(e=21){return crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"")}function yv(e,t){e.send(JSON.stringify(t))}function i_(e){return"ws"+e.slice(4)}function j5(e){return"http"+e.slice(2)}function U5(e){Qe(/^https?:\/\//.test(e))}function B5(e){Qe(/^wss?:\/\//.test(e))}async function V5(e,t,n,r){var c,f,h;const i=Ul();n=n.withContext("connectCheckID",i).withContext("checkReason",e),(c=n.info)==null||c.call(n,"Starting connectivity checks",{navigatorOnline:navigator.onLine});const o=i_(t),s={cfGet:d=>G5(i,t,r),cfWebSocket:d=>AS(i,o,!1,d,r),cfWebSocketWSecWebSocketProtocolHeader:d=>AS(i,o,!0,d,r),renderGet:d=>W5(i,r),renderWebSocket:d=>$S(i,!1,d,r),renderWebSocketWSecWebSocketProtocolHeader:d=>$S(i,!0,d,r)},a=[];for(const[d,p]of Object.entries(s))a.push((async()=>{var C,v;const w=n.withContext("checkName",d);(C=w.info)==null||C.call(w,"Starting check");let g;try{g=await p(w)}catch(y){const k=`Error: ${y instanceof Error?`{name: ${y.name}, message: ${y.message}}`:y}`;g={success:!1,detail:k}}return(v=w.info)==null||v.call(w,d,g),g})());const l=await Promise.all(a);r.aborted||((f=n.info)==null||f.call(n,`Connectivity checks summary
`,...Object.keys(s).map((d,p)=>`${d}=${l[p].success}
`),{navigatorOnline:navigator.onLine}),(h=n.info)==null||h.call(n,`Connectivity checks detail
`,...Object.keys(s).flatMap((d,p)=>`${d}=${l[p].detail}
`),{navigatorOnline:navigator.onLine}))}function W5(e,t){return o_(e,"https://networkcheck.reflect-server.net/canary/get",t)}function G5(e,t,n){const r=new URL(t);r.pathname="/api/canary/v0/get";const i=r.toString();return U5(i),o_(e,i,n)}function o_(e,t,n){const r=new URL(t);return r.searchParams.set("id",e),Promise.race([a_(n),(async()=>{const i=await fetch(r,{signal:n});return{success:i.status===200,detail:`Got response ${i.status} "${await i.text()}"`}})()])}function $S(e,t,n,r){return s_(e,"wss://networkcheck.reflect-server.net/canary/websocket",t,n,r)}function AS(e,t,n,r,i){const o=new URL(t);o.pathname="/api/canary/v0/websocket";const s=o.toString();return B5(s),s_(e,s,n,r,i)}async function s_(e,t,n,r,i){const o=new URL(t);o.searchParams.set("id",e),o.searchParams.set("wSecWebSocketProtocolHeader",n?"true":"false");const s=n?new WebSocket(o,"check-"+e):new WebSocket(o),{promise:a,resolve:l}=he(),c=d=>{var p;(p=r.info)==null||p.call(r,"Received message",d.data),l({success:!0,detail:`Connected and received message "${d.data}"`})},f=()=>{var d;(d=r.info)==null||d.call(r,"Open event")},h=d=>{var v;const{code:p,reason:w,wasClean:g}=d,C={code:p,reason:w,wasClean:g};(v=r.info)==null||v.call(r,"Received close",C),l({success:!1,detail:`Closed before connected ${JSON.stringify(C)}.`})};try{return s.addEventListener("message",c),s.addEventListener("open",f),s.addEventListener("close",h),await Promise.race([a_(i),a])}finally{s.removeEventListener("message",c),s.removeEventListener("open",f),s.removeEventListener("close",h),s.close()}}var Q5=1e4;async function a_(e){return await Yd(Q5,e),{success:!1,detail:"Timed out."}}function K5(e,t,n){return e?new q5(e,t,n):new X5}var oa,qc,Jc,sa,wp,Yc,my,Xc,vy,Uk,q5=(Uk=class{constructor(e,t,n){m(this,Yc);m(this,Xc);m(this,oa,void 0);m(this,qc,void 0);m(this,Jc,0);A(this,"visibilityState");m(this,sa,new Set);m(this,wp,()=>{u(this,oa).visibilityState==="visible"?(clearTimeout(u(this,Jc)),D(this,Yc,my).call(this,"visible")):E(this,Jc,setTimeout(()=>{D(this,Yc,my).call(this,"hidden")},u(this,qc)))});E(this,oa,e),E(this,qc,t),this.visibilityState=e.visibilityState,u(this,oa).addEventListener("visibilitychange",u(this,wp),{signal:n})}waitForVisible(){return D(this,Xc,vy).call(this,"visible")}waitForHidden(){return D(this,Xc,vy).call(this,"hidden")}},oa=new WeakMap,qc=new WeakMap,Jc=new WeakMap,sa=new WeakMap,wp=new WeakMap,Yc=new WeakSet,my=function(e){if(e!==this.visibilityState){this.visibilityState=e;for(const t of u(this,sa)){const{resolve:n,state:r}=t;r===e&&(n(),u(this,sa).delete(t))}}},Xc=new WeakSet,vy=function(e){if(this.visibilityState===e)return Promise.resolve();const{promise:t,resolve:n}=he();return u(this,sa).add({resolve:n,state:e}),t},Uk),J5=Promise.resolve(),Y5=new Promise(()=>{}),X5=class{constructor(){A(this,"visibilityState","visible")}waitForVisible(){return J5}waitForHidden(){return Y5}},Z5=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,e$=/^\[[a-fA-F0-9:]*:[a-fA-F0-9:]*\]$/,t$=new RegExp(`(${Z5.source}|${e$.source})`),Zc,aa,Bk,HS=(Bk=class{constructor(e,t){m(this,Zc,void 0);m(this,aa,void 0);E(this,Zc,e),E(this,aa,t)}log(e,t,...n){u(this,aa)==="error"&&e!=="error"||u(this,aa)==="info"&&e==="debug"||u(this,Zc).log(e,t,...n)}async flush(){var e;await((e=wo.flush)==null?void 0:e.call(wo))}},Zc=new WeakMap,aa=new WeakMap,Bk),n$="info",zS=".reflect-server.net";function r$(e,t=n=>new GO(n)){const{consoleLogLevel:n,server:r,enableAnalytics:i}=e,o=r===null?null:new URL(r),s=o==null?void 0:o.hostname;if(r===null||s===void 0||s==="localhost"||t$.test(s)||!i)return{logLevel:n,logSink:wo};const a=s.endsWith(zS)?s.substring(0,s.length-zS.length).toLowerCase():s,l=new URL("/api/logs/v0/log",r),c=n==="debug"?"debug":"info",f=new zx([new HS(wo,n),new HS(t({service:a,host:location.host,version:n_,baseURL:l}),n$)]);return{logLevel:c,logSink:f}}var l_=100*1e3,i$=5e3;function u_(e){return"server"in e?`server_${FS(e.server)}`:`client_${FS(e.client)}`}function FS(e){return e.split(/\.?(?=[A-Z])/).join("_").toLowerCase()}var ef,tf,nf,la,Wr,rf,ua,ca,fa,da,ha,Xd,ar,Oi,Vk,o$=(Vk=class{constructor(e){m(this,ha);m(this,ar);m(this,ef,void 0);m(this,tf,void 0);m(this,nf,void 0);m(this,la,void 0);m(this,Wr,void 0);m(this,rf,[]);A(this,"timeToConnectMs",D(this,ar,Oi).call(this,new Zd("time_to_connect_ms")));A(this,"lastConnectError",D(this,ar,Oi).call(this,new wv("last_connect_error",!0)));m(this,ua,D(this,ar,Oi).call(this,new wv("not_connected")));m(this,ca,D(this,ar,Oi).call(this,new Zd("time_to_connect_ms_v2")));m(this,fa,D(this,ar,Oi).call(this,new wv("last_connect_error_v2")));m(this,da,D(this,ar,Oi).call(this,new Zd("total_time_to_connect_ms")));A(this,"tags",[]);E(this,ef,e.reportIntervalMs),E(this,tf,e.host),E(this,nf,e.reporter),E(this,la,e.lc),this.tags.push(`source:${e.source}`),this.timeToConnectMs.set(l_),D(this,ha,Xd).call(this,"init"),E(this,Wr,setInterval(()=>{this.flush()},u(this,ef)))}setConnected(e,t){u(this,ua).clear(),u(this,fa).clear(),u(this,ca).set(e),u(this,da).set(t)}setDisconnectedWaitingForVisible(){u(this,ca).clear(),u(this,da).clear(),u(this,fa).clear();let e;switch(u(this,ua).get()){case"init":e="hidden_was_init";break;case"error":e="hidden_was_error";break;default:e="hidden";break}D(this,ha,Xd).call(this,e)}setConnectError(e){u(this,ca).clear(),u(this,da).clear(),D(this,ha,Xd).call(this,"error"),u(this,fa).set(u_(e))}async flush(){var n,r,i;const e=await u(this,la);if(u(this,Wr)===null){(n=e.error)==null||n.call(e,"MetricManager.flush() called but already stopped");return}const t=[];for(const o of u(this,rf)){const s=o.flush();s!==void 0&&t.push({...s,host:u(this,tf),tags:this.tags})}if(t.length===0){(r=e==null?void 0:e.debug)==null||r.call(e,"No metrics to report");return}try{await u(this,nf).call(this,t)}catch(o){(i=e==null?void 0:e.error)==null||i.call(e,`Error reporting metrics: ${o}`)}}stop(){if(u(this,Wr)===null){u(this,la).then(e=>{var t;return(t=e.error)==null?void 0:t.call(e,"MetricManager.stop() called but already stopped")});return}clearInterval(u(this,Wr)),E(this,Wr,null)}},ef=new WeakMap,tf=new WeakMap,nf=new WeakMap,la=new WeakMap,Wr=new WeakMap,rf=new WeakMap,ua=new WeakMap,ca=new WeakMap,fa=new WeakMap,da=new WeakMap,ha=new WeakSet,Xd=function(e){u(this,ua).set(e)},ar=new WeakSet,Oi=function(e){return u(this,rf).push(e),e},Vk);function s$(e,t){return[e,[t]]}var of,Gr,Wk,Zd=(Wk=class{constructor(e){m(this,of,void 0);m(this,Gr,void 0);E(this,of,e)}set(e){E(this,Gr,e)}get(){return u(this,Gr)}clear(){E(this,Gr,void 0)}flush(){if(u(this,Gr)===void 0)return;const e=[s$(a$(),u(this,Gr))];return{metric:u(this,of),points:e}}},of=new WeakMap,Gr=new WeakMap,Wk);function a$(){return Math.round(Date.now()/1e3)}var sf,af,Qr,Gk,wv=(Gk=class{constructor(e,t=!1){m(this,sf,void 0);m(this,af,void 0);m(this,Qr,void 0);E(this,sf,e),E(this,af,t)}set(e){E(this,Qr,e)}get(){return u(this,Qr)}clear(){E(this,Qr,void 0)}flush(){if(u(this,Qr)===void 0)return;const e=new Zd([u(this,sf),u(this,Qr)].join("_"));e.set(1);const t=e.flush();return u(this,af)&&this.clear(),t}},sf=new WeakMap,af=new WeakMap,Qr=new WeakMap,Gk);function l$(e){var i;if(e.length===0)return;const t=[],n=[],r={};for(const o of e){t.push(...o.patch),n.push(...(i=o.presence)!=null?i:[]);for(const[s,a]of Object.entries(o.lastMutationIDChanges))r[s]=a}return{baseCookie:e[0].baseCookie,cookie:e[e.length-1].cookie,lastMutationIDChanges:r,patch:t,presence:n,timestamp:e[0].timestamp}}var u$={initialBufferSizeMs:50,maxBufferSizeMs:1e3,minBufferSizeMs:-1e3,adjustBufferSizeIntervalMs:5e3},Sv=18,c$=1e3,f$=10,lf,uf,cf,pa,uo,un,lr,ma,va,ff,cn,Sp,Kr,ga,co,ya,df,fo,kp,c_,hf,Ep,f_,Qk,d$=(Qk=class{constructor(e,t,n,r,i,o=new ZO(u$),s=f$){m(this,kp);m(this,Ep);m(this,lf,void 0);m(this,uf,void 0);m(this,cf,void 0);m(this,pa,void 0);m(this,uo,void 0);m(this,un,[]);m(this,lr,void 0);m(this,ma,void 0);m(this,va,!1);m(this,ff,0);m(this,cn,void 0);m(this,Sp,new Nf);m(this,Kr,0);m(this,ga,0);m(this,co,0);m(this,ya,0);m(this,df,0);m(this,fo,[]);m(this,hf,async()=>{var n,r,i;const e=(await u(this,uo)).withContext("rafAt",Math.floor(performance.now()));if(u(this,un).length===0){(n=e.debug)==null||n.call(e,"stopping playback loop"),E(this,va,!1);return}requestAnimationFrame(u(this,hf));const t=performance.now();(r=e.debug)==null||r.call(e,"raf fired, processing pokes.  Since last raf",t-u(this,ff)),E(this,ff,t),await D(this,Ep,f_).call(this,e),(i=e.debug)==null||i.call(e,"processing pokes took",performance.now()-t)});E(this,lf,e),E(this,uf,t),E(this,cf,n),E(this,pa,r),E(this,uo,i.then(a=>a.withContext("PokeHandler"))),E(this,lr,o),E(this,ma,s)}async handlePoke(e){var s,a,l;const t=(await u(this,uo)).withContext("requestID",e.requestID);(s=t.debug)==null||s.call(t,"Applying poke",e),e.debugServerBufferMs&&((a=t.debug)==null||a.call(t,"server buffer ms",e.debugServerBufferMs));const n=Date.now(),r=await u(this,pa);let i,o;for(const c of e.pokes){const{timestamp:f}=c;if(f!==void 0){const h=n-f;(u(this,cn)===void 0||Math.abs(h-u(this,cn))>c$)&&(u(this,lr).reset(),E(this,cn,h),(l=t.debug)==null||l.call(t,"new playback offset",h)),o=n-(f+u(this,cn))+Sv;break}}for(const c of e.pokes){c.lastMutationIDChanges[r]!==void 0&&(i=c.lastMutationIDChanges[r]);let f;c.timestamp!==void 0&&(Qe(u(this,cn)!==void 0),f=c.timestamp+u(this,cn));const h={...c,serverBufferMs:e.debugServerBufferMs,playbackOffsetMs:u(this,cn),receivedTimestamp:n,normalizedTimestamp:f,bufferNeededMs:o};u(this,un).push(h)}return u(this,un).length>0&&!u(this,va)&&D(this,kp,c_).call(this,t),i}async handleDisconnect(){var e,t;(t=(e=await u(this,uo)).debug)==null||t.call(e,"clearing buffer and playback offset due to disconnect"),u(this,un).length=0,E(this,cn,void 0),u(this,lr).reset()}},lf=new WeakMap,uf=new WeakMap,cf=new WeakMap,pa=new WeakMap,uo=new WeakMap,un=new WeakMap,lr=new WeakMap,ma=new WeakMap,va=new WeakMap,ff=new WeakMap,cn=new WeakMap,Sp=new WeakMap,Kr=new WeakMap,ga=new WeakMap,co=new WeakMap,ya=new WeakMap,df=new WeakMap,fo=new WeakMap,kp=new WeakSet,c_=function(e){var t;(t=e.debug)==null||t.call(e,"starting playback loop"),E(this,va,!0),requestAnimationFrame(u(this,hf))},hf=new WeakMap,Ep=new WeakSet,f_=async function(e){await u(this,Sp).withLock(async()=>{var l,c,f,h,d,p,w,g,C,v,y,k;const t=Date.now();(l=e.debug)==null||l.call(e,"got poke lock at",t);const n=[],r=await u(this,pa);let i=Number.MIN_SAFE_INTEGER,o=0,s=0;for(;u(this,un).length;){const S=u(this,un)[0],{normalizedTimestamp:x,lastMutationIDChanges:M}=S,_=Object.keys(M);if(!(_.length===1&&_[0]===r)&&x!==void 0){const j=x+u(this,lr).bufferSizeMs,se=t-j;if(se<0)break;const{bufferNeededMs:ne}=S;if(ne!==void 0&&(i=Math.max(i,ne)),S.debugOriginTimestamp!==void 0){const oe=((c=S.debugServerReceivedTimestamp)!=null?c:0)-S.debugOriginTimestamp,U=((f=S.debugServerSentTimestamp)!=null?f:0)-S.debugOriginTimestamp,H=S.receivedTimestamp-S.debugOriginTimestamp,Q=t-S.debugOriginTimestamp;E(this,df,u(this,df)+Q),u(this,fo).unshift(Q),u(this,fo).length>u(this,ma)&&(u(this,fo).length=u(this,ma)),(h=e.debug)==null||h.call(e,"poke latency breakdown:",`
server received:`,oe,"(+",oe,")",`
server sent (server buffer`,S.serverBufferMs,"):",U,"(+",U-oe,")",`
client received:`,H,"(+",H-U,")",`
playback (offset`,S.playbackOffsetMs,", buffer",u(this,lr).bufferSizeMs,"):",Q,"(+",Q-H,")")}o++,_n(this,Kr)._++,se>Sv&&((d=e.debug)==null||d.call(e,"poke",u(this,Kr),"playback missed by",se-Sv),_n(this,ga)._++,s++)}const $=u(this,un).shift();Qe($),n.push($)}o>0&&(_n(this,co)._++,Qe(i!==Number.MIN_SAFE_INTEGER),u(this,lr).recordMissable(t,s>0,i,e),s>0&&(_n(this,ya)._++,(p=e.debug)==null||p.call(e,"frame",u(this,co),"contains",s,"missed pokes"))),(w=e.debug)==null||w.call(e,"merging",n.length,"remaining buffer length",u(this,un).length);const a=l$(n);if(a===void 0){(g=e.debug)==null||g.call(e,"frame is empty");return}try{const S=performance.now(),{lastMutationIDChanges:x,baseCookie:M,patch:_,cookie:T}=a,$={baseCookie:M,pullResponse:{lastMutationIDChanges:x,patch:_,cookie:T}};(C=e.debug)==null||C.call(e,"poking replicache"),await u(this,lf).call(this,$),await u(this,uf).updatePresence((v=a.presence)!=null?v:[]),(y=e.debug)==null||y.call(e,"poking replicache took",performance.now()-S)}catch(S){String(S).indexOf("unexpected base cookie for poke")>-1&&await u(this,cf).call(this)}(k=e.debug)==null||k.call(e,"playback stats (misses / total = percent missed):",`
pokes:`,u(this,ga),"/",u(this,Kr),"=",u(this,ga)/u(this,Kr),`
frames:`,u(this,ya),"/",u(this,co),"=",u(this,ya)/u(this,co),`
avg poke latency:`,u(this,df)/u(this,Kr),`
recent poke latencies:`,u(this,fo))})},Qk),gy="_reflectReloadReason";function h$(e,t,n){t[gy]=n,e()}function p$(e,t){var r;const n=t[gy];n&&(delete t[gy],(r=e.error)==null||r.call(e,"Reflect reloaded the page.",n))}var d_=class extends Error{constructor(t,n){super(t+": "+n);A(this,"kind");A(this,"name","ServerError");this.kind=t}};function h_(e){return e instanceof d_}function m$(e){return h_(e)&&v$(e.kind)}function v$(e){return e==="AuthInvalidated"||e==="Unauthorized"}function jS(e,t,n){const r=()=>` For example: "${n}s://myapp-myteam.reflect.net/".`;if(!t.startsWith(`${n}://`)&&!t.startsWith(`${n}s://`))throw new Error(`ReflectOptions.${e} must use the "${n}" or "${n}s" scheme.`);let i;try{i=new URL(t)}catch{throw new Error(`ReflectOptions.${e} must be a valid URL.${r()}`)}const o=i.toString();if(i.pathname!=="/")throw new Error(`ReflectOptions.${e} must not contain a path component (other than "/").${r()}`);for(const[s,a]of[["search","?"],["hash","#"]])if(i[s]||o.endsWith(a))throw new Error(`ReflectOptions.${e} must not contain a ${s} component.${r()}`);return o}function g$(e,t){if(e)return jS("server",e,"http");if(t){const n=jS("socketOrigin",t,"ws");return j5(n)}return null}var pf,wa,qr,ho,Cp,Sa,mf,Jr,xp,p_,vf,yy,Kk,y$=(Kk=class{constructor(e,t){m(this,xp);m(this,vf);m(this,pf,void 0);m(this,wa,void 0);m(this,qr,new Set);m(this,ho,new Set);m(this,Cp,new Nf);m(this,Sa,!1);m(this,mf,!1);m(this,Jr,[]);E(this,pf,e),E(this,wa,t),D(this,vf,yy).call(this).catch(async n=>{var r,i;(i=(r=await t).error)==null||i.call(r,"Unexpected error initializing presence manager",n)})}updatePresence(e){return u(this,Cp).withLock(async()=>{const t=await u(this,pf),n=await u(this,wa);if(e.length===0)return;E(this,mf,!0);const r=u(this,Jr),i=new Set(u(this,Jr));for(const o of e)switch(o.op){case"clear":i.clear();break;case"put":i.add(o.key);break;case"del":i.delete(o.key);break}if(i.add(t),!w$(r,i)){E(this,Jr,Array.from(i));for(const o of u(this,qr))US(o,u(this,Jr),n),u(this,ho).delete(o)}})}addSubscription(e){const t={callback:e};return u(this,qr).add(t),D(this,xp,p_).call(this,t),()=>{u(this,qr).delete(t)}}clearSubscriptions(){u(this,qr).clear()}handleDisconnect(){return D(this,vf,yy).call(this)}},pf=new WeakMap,wa=new WeakMap,qr=new WeakMap,ho=new WeakMap,Cp=new WeakMap,Sa=new WeakMap,mf=new WeakMap,Jr=new WeakMap,xp=new WeakSet,p_=function(e){!u(this,mf)||(u(this,ho).add(e),u(this,Sa)||(E(this,Sa,!0),queueMicrotask(async()=>{const t=await u(this,wa);E(this,Sa,!1);for(const n of u(this,ho))u(this,qr).has(n)&&(US(n,u(this,Jr),t),u(this,ho).delete(n))})))},vf=new WeakSet,yy=function(){return this.updatePresence([{op:"clear"}])},Kk);function US(e,t,n){var r;try{e.callback(t)}catch(i){(r=n.error)==null||r.call(n,"Error in presence subscription callback:",i),queueMicrotask(()=>{throw new Error("Error in presence subscription callback.",{cause:i})})}}function w$(e,t){if(e.length!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}var BS=5e3,S$=5e3,k$=5e3,E$=5e3,C$=5e3,x$=1e4,D$=6,kv={clientID:"",id:-1},b$=1;function _$(e){return`Server reported that client is ahead of server (${e}). This probably happened because the server is in development mode and restarted. Currently when this happens, the dev server loses its state and on reconnect sees the client as ahead. If you see this in other cases, it may be a bug in Reflect.`}function I$(e){return{type:e.type}}var ke,Wt,Oe,gf,ka,Yr,Xr,yf,Ea,Ca,wf,Sf,xa,Da,Zr,Hn,ba,fn,po,_a,Ia,at,kf,Pa,zn,mo,vo,pt,Ra,eh,kt,dn,Ma,Mt,Dp,bp,v_,Ef,Cf,xf,_p,g_,Ip,y_,Pp,w_,Fn,Rr,Rp,S_,Mp,k_,Op,E_,Tp,C_,Df,bf,wy,Np,x_,Lp,D_,Oa,th,$p,b_,Ap,__,Ta,nh,Hp,I_,zp,P_,qk,m_=(qk=class{constructor(e){m(this,Ra);m(this,bp);m(this,_p);m(this,Ip);m(this,Pp);m(this,Fn);m(this,Rp);m(this,Mp);m(this,Op);m(this,Tp);m(this,bf);m(this,Np);m(this,Lp);m(this,Oa);m(this,$p);m(this,Ap);m(this,Ta);m(this,Hp);m(this,zp);A(this,"version",n_);m(this,ke,void 0);m(this,Wt,void 0);A(this,"userID");A(this,"roomID");m(this,Oe,void 0);m(this,gf,void 0);m(this,ka,void 0);m(this,Yr,void 0);m(this,Xr,kv);m(this,yf,()=>{});m(this,Ea,!1);A(this,"onOnlineChange",null);m(this,Ca,void 0);m(this,wf,void 0);m(this,Sf,null);m(this,xa,0);m(this,Da,0);m(this,Zr,0);m(this,Hn,0);m(this,ba,()=>{});m(this,fn,he());m(this,po,null);m(this,_a,new Map);m(this,Ia,0);m(this,at,void 0);m(this,kf,he());m(this,Pa,he());m(this,zn,void 0);m(this,mo,new AbortController);m(this,vo,void 0);m(this,pt,0);m(this,kt,void 0);m(this,dn,void 0);m(this,Ma,void 0);m(this,Mt,void 0);m(this,Dp,()=>location.reload());m(this,Ef,async e=>{var o,s;const t=await u(this,Oe);if((o=t.debug)==null||o.call(t,"received message",e.data),this.closed){(s=t.debug)==null||s.call(t,"ignoring message because already closed");return}const n=a=>{var l;return(l=u(this,zn))==null?void 0:l.reject(new Error(`Invalid message received from server: ${a instanceof Error?a.message+". ":""}${i}`))};let r;const{data:i}=e;try{r=zl(JSON.parse(i),AO)}catch(a){n(a);return}switch(_n(this,Da)._++,r[0]){case"connected":return D(this,Ip,y_).call(this,t,r);case"error":return D(this,_p,g_).call(this,t,r);case"pong":return u(this,yf).call(this);case"poke":return D(this,Rp,S_).call(this,t,r);case"pull":return D(this,Op,E_).call(this,t,r);default:n()}});m(this,Cf,async e=>{var n,r;const t=Ev(e.target,await u(this,Oe));if(u(this,kt)===void 0)(n=t.error)==null||n.call(t,"Got open event but connect start time is undefined. This should not happen.");else{const o=Date.now()-u(this,kt);(r=t.info)==null||r.call(t,"Got socket open event",{navigatorOnline:navigator.onLine,timeToOpenMs:o})}});m(this,xf,async e=>{var s;const t=Ev(e.target,await u(this,Oe)),{code:n,reason:r,wasClean:i}=e;(s=t.info)==null||s.call(t,"Got socket close event",{code:n,reason:r,wasClean:i});const o=i?"CleanClose":"AbruptClose";u(this,fn).reject(new WS(o)),await D(this,Fn,Rr).call(this,t,{client:o})});m(this,Df,()=>{const{auth:e}=u(this,Ma);return typeof e=="function"?e():e});var h;const{userID:t,roomID:n,onOnlineChange:r,jurisdiction:i,hiddenTabDisconnectDelay:o=C$,enableAnalytics:s=!0}=e;if(!t)throw new Error("ReflectOptions.userID must not be empty.");const a=g$(e.server,e.socketOrigin);if(i!==void 0&&i!=="eu")throw new Error('ReflectOptions.jurisdiction must be "eu" if present.');if(o<0)throw new Error("ReflectOptions.hiddenTabDisconnectDelay must not be negative.");this.onOnlineChange=r,E(this,Ma,e),E(this,gf,D(this,bp,v_).call(this,{consoleLogLevel:(h=e.logLevel)!=null?h:"error",server:a,enableAnalytics:s}));const l=u(this,gf),c={schemaVersion:e.schemaVersion,logLevel:l.logLevel,logSinks:[l.logSink],mutators:e.mutators,name:`reflect-${t}-${n}`,pusher:(d,p)=>D(this,Tp,C_).call(this,d,p),puller:(d,p)=>D(this,Lp,D_).call(this,d,p),pushDelay:0,requestOptions:{maxDelayMs:0,minDelayMs:0},licenseKey:"reflect-client-static-key",experimentalCreateKVStore:T$(e)},f={enableLicensing:!1};E(this,ke,new $5({...c,...f})),u(this,ke).getAuth=u(this,Df),E(this,Ca,u(this,ke).onUpdateNeeded),E(this,Wt,a),this.roomID=n,this.userID=t,E(this,wf,i),E(this,Oe,R$(e.roomID,l.logLevel,l.logSink,u(this,ke))),u(this,Oe).then(d=>p$(d,localStorage)),E(this,Mt,new o$({reportIntervalMs:i$,host:location.host,source:"client",reporter:s?d=>D(this,Ap,__).call(this,d):()=>Promise.resolve(),lc:u(this,Oe)})),u(this,Mt).tags.push(`version:${this.version}`),E(this,Yr,new y$(u(this,ke).clientID,u(this,Oe))),E(this,ka,new d$(d=>u(this,ke).poke(d),u(this,Yr),()=>D(this,Mp,k_).call(this),u(this,ke).clientID,u(this,Oe))),E(this,vo,K5(M$(),o,u(this,mo).signal)),D(this,Np,x_).call(this)}get onUpdateNeeded(){return u(this,Ca)}set onUpdateNeeded(e){E(this,Ca,e),u(this,ke).onUpdateNeeded=e&&(t=>{e(I$(t))})}get idbName(){return u(this,ke).idbName}get schemaVersion(){return u(this,ke).schemaVersion}get clientID(){return u(this,ke).clientID}get clientGroupID(){return u(this,ke).clientGroupID}get mutate(){return u(this,ke).mutate}get closed(){return u(this,ke).closed}async close(){var t;const e=await u(this,Oe);return u(this,pt)!==0&&await D(this,Fn,Rr).call(this,e,{client:"ReflectClosed"}),(t=e.debug)==null||t.call(e,"Aborting closeAbortController due to close()"),u(this,mo).abort(),u(this,Mt).stop(),u(this,Yr).clearSubscriptions(),u(this,ke).close()}subscribe(e,t){return u(this,ke).subscribe(e,t)}query(e){return u(this,ke).query(e)}experimentalWatch(e,t){return u(this,ke).experimentalWatch(e,t)}subscribeToPresence(e){return u(this,Yr).addSubscription(e)}get online(){return u(this,Ea)}},ke=new WeakMap,Wt=new WeakMap,Oe=new WeakMap,gf=new WeakMap,ka=new WeakMap,Yr=new WeakMap,Xr=new WeakMap,yf=new WeakMap,Ea=new WeakMap,Ca=new WeakMap,wf=new WeakMap,Sf=new WeakMap,xa=new WeakMap,Da=new WeakMap,Zr=new WeakMap,Hn=new WeakMap,ba=new WeakMap,fn=new WeakMap,po=new WeakMap,_a=new WeakMap,Ia=new WeakMap,at=new WeakMap,kf=new WeakMap,Pa=new WeakMap,zn=new WeakMap,mo=new WeakMap,vo=new WeakMap,pt=new WeakMap,Ra=new WeakSet,eh=function(e){e!==u(this,pt)&&(E(this,pt,e),u(this,Pa).resolve(e),E(this,Pa,he()))},kt=new WeakMap,dn=new WeakMap,Ma=new WeakMap,Mt=new WeakMap,Dp=new WeakMap,bp=new WeakSet,v_=function(e){return r$(e)},Ef=new WeakMap,Cf=new WeakMap,xf=new WeakMap,_p=new WeakSet,g_=async function(e,t){var o,s,a,l;const[,n,r]=t;n==="VersionNotSupported"&&((o=this.onUpdateNeeded)==null||o.call(this,{type:n})),(n==="InvalidConnectionRequestLastMutationID"||n==="InvalidConnectionRequestBaseCookie")&&(await WL(u(this,ke).idbName),h$(u(this,Dp),localStorage,_$(n)));const i=new d_(n,r);(s=e.info)==null||s.call(e,`${n}: ${r}}`),(a=u(this,zn))==null||a.reject(i),(l=e.debug)==null||l.call(e,"Rejecting connect resolver due to error",i),u(this,fn).reject(i),await D(this,Fn,Rr).call(this,e,{server:n})},Ip=new WeakSet,y_=function(e,t){var l,c,f,h;const n=Date.now(),[,r]=t;e=Sy(r.wsid,e),u(this,xa)===0?D(this,Ta,nh).call(this,"firstConnect"):u(this,Hn)>0&&D(this,Ta,nh).call(this,"connectAfterError"),_n(this,xa)._++,E(this,Zr,n),u(this,Mt).lastConnectError.clear();const i=u(this,Hn);E(this,Hn,0);let o,s;u(this,kt)===void 0?(l=e.error)==null||l.call(e,"Got connected message but connect start time is undefined. This should not happen."):(o=n-u(this,kt),u(this,Mt).timeToConnectMs.set(o),s=r.timestamp!==void 0?n-r.timestamp:void 0,E(this,kt,void 0));let a;u(this,dn)===void 0?(c=e.error)==null||c.call(e,"Got connected message but total to connect start time is undefined. This should not happen."):(a=n-u(this,dn),E(this,dn,void 0)),u(this,Mt).setConnected(o!=null?o:0,a!=null?a:0),(f=e.info)==null||f.call(e,"Connected",{navigatorOnline:navigator.onLine,timeToConnectMs:o,totalTimeToConnectMs:a,connectMsgLatencyMs:s,connectedCount:u(this,xa),proceedingConnectErrorCount:i}),E(this,Xr,kv),(h=e.debug)==null||h.call(e,"Resolving connect resolver"),D(this,Ra,eh).call(this,2),u(this,fn).resolve()},Pp=new WeakSet,w_=async function(e){var s,a;Qe(u(this,Wt)),Qe(u(this,pt)===0);const t=Ul();e=Sy(t,e),(s=e.info)==null||s.call(e,"Connecting...",{navigatorOnline:navigator.onLine}),D(this,Ra,eh).call(this,1),Qe(u(this,kt)===void 0);const n=Date.now();E(this,kt,n),u(this,dn)===void 0&&E(this,dn,n);const r=await D(this,zp,P_).call(this);if(this.closed)return;E(this,Sf,r);const i=setTimeout(async()=>{var l;(l=e.debug)==null||l.call(e,"Rejecting connect resolver due to timeout"),u(this,fn).reject(new VS("Connect")),await D(this,Fn,Rr).call(this,e,{client:"ConnectTimeout"})},x$);u(this,mo).signal.addEventListener("abort",()=>{clearTimeout(i)});const o=P$(i_(u(this,Wt)),r,await this.clientID,await this.clientGroupID,this.roomID,this.userID,u(this,ke).auth,u(this,wf),u(this,Ia),t,u(this,Ma).logLevel==="debug",e);if(!this.closed){o.addEventListener("message",u(this,Ef)),o.addEventListener("open",u(this,Cf)),o.addEventListener("close",u(this,xf)),E(this,at,o),u(this,kf).resolve(o);try{(a=e.debug)==null||a.call(e,"Waiting for connection to be acknowledged"),await u(this,fn).promise}finally{clearTimeout(i)}}},Fn=new WeakSet,Rr=async function(e,t){var n,r,i,o,s,a,l,c,f;switch(u(this,pt)===1&&_n(this,Hn)._++,(n=e.info)==null||n.call(e,"disconnecting",{navigatorOnline:navigator.onLine,reason:t,connectStart:u(this,kt),totalToConnectStart:u(this,dn),connectedAt:u(this,Zr),connectionDuration:u(this,Zr)?Date.now()-u(this,Zr):0,messageCount:u(this,Da),connectionState:u(this,pt),connectErrorCount:u(this,Hn)}),u(this,pt)){case 2:{u(this,kt)!==void 0&&((r=e.error)==null||r.call(e,"disconnect() called while connected but connect start time is defined. This should not happen."));break}case 1:{u(this,Mt).lastConnectError.set(u_(t)),u(this,Mt).timeToConnectMs.set(l_),u(this,Mt).setConnectError(t),u(this,Hn)%D$===1&&D(this,Ta,nh).call(this,`connectErrorCount=${u(this,Hn)}`),u(this,kt)===void 0&&((i=e.error)==null||i.call(e,"disconnect() called while connecting but connect start time is undefined. This should not happen."));break}case 0:(o=e.error)==null||o.call(e,"disconnect() called while disconnected");break}E(this,kf,he()),(s=e.debug)==null||s.call(e,"Creating new connect resolver"),E(this,fn,he()),D(this,Ra,eh).call(this,0),E(this,Da,0),E(this,kt,void 0),E(this,Zr,0),(a=u(this,at))==null||a.removeEventListener("message",u(this,Ef)),(l=u(this,at))==null||l.removeEventListener("open",u(this,Cf)),(c=u(this,at))==null||c.removeEventListener("close",u(this,xf)),(f=u(this,at))==null||f.close(),E(this,at,void 0),E(this,Xr,kv),await u(this,ka).handleDisconnect(),await u(this,Yr).handleDisconnect()},Rp=new WeakSet,S_=async function(e,t){u(this,ba).call(this);const n=t[1],r=await u(this,ka).handlePoke(n);r!==void 0&&E(this,Ia,r)},Mp=new WeakSet,k_=async function(){var t;const e=await u(this,Oe);(t=e.info)==null||t.call(e,"out of order poke, disconnecting"),u(this,pt)!==0&&await D(this,Fn,Rr).call(this,e,{client:"UnexpectedBaseCookie"})},Op=new WeakSet,E_=function(e,t){var i,o;u(this,ba).call(this);const n=t[1];e=e.withContext("requestID",n.requestID),(i=e.debug)==null||i.call(e,"Handling pull response",n);const r=u(this,_a).get(n.requestID);if(!r){(o=e.debug)==null||o.call(e,"No resolver found");return}r.resolve(t[1])},Tp=new WeakSet,C_=async function(e,t){var a,l;await u(this,fn).promise;const n=(await u(this,Oe)).withContext("requestID",t);if((a=n.debug)==null||a.call(n,`pushing ${e.mutations.length} mutations`),e.pushVersion===0)return{httpRequestInfo:{errorMessage:"",httpStatusCode:200}};const r=u(this,at);Qe(r);const i=e.clientGroupID!==await this.clientGroupID,o=i?0:e.mutations.findIndex(c=>c.clientID===u(this,Xr).clientID&&c.id===u(this,Xr).id)+1;(l=n.debug)==null||l.call(n,i?"pushing for recovery":"pushing",e.mutations.length-o,"mutations of",e.mutations.length,"mutations.");const s=Date.now();for(let c=o;c<e.mutations.length;c++){const f=e.mutations[c],h=["push",{timestamp:s,clientGroupID:e.clientGroupID,mutations:[{timestamp:s-Math.round(performance.now()-f.timestamp),id:f.id,clientID:f.clientID,name:f.name,args:f.args}],pushVersion:e.pushVersion,schemaVersion:e.schemaVersion,requestID:t}];yv(r,h),i||E(this,Xr,{clientID:f.clientID,id:f.id})}return{httpRequestInfo:{errorMessage:"",httpStatusCode:200}}},Df=new WeakMap,bf=new WeakSet,wy=async function(e){var n;const t=await u(this,Df).call(this);t&&((n=e.debug)==null||n.call(e,"Got auth token"),u(this,ke).auth=t)},Np=new WeakSet,x_=async function(){var o,s,a,l,c,f,h,d,p,w;if((s=(o=await u(this,Oe)).info)==null||s.call(o,`Starting Reflect version: ${this.version}`),u(this,Wt)===null){(l=(a=await u(this,Oe)).info)==null||l.call(a,"No socket origin provided, not starting connect loop.");return}let e=0;const t=await u(this,Oe),n=()=>{let g=t;return u(this,at)&&(g=Ev(u(this,at),g)),g.withContext("runLoopCounter",e)};await D(this,bf,wy).call(this,t);let r=!1,i=!1;for(;!this.closed;){e++;let g=n();try{switch(u(this,pt)){case 0:{if(u(this,vo).visibilityState==="hidden"&&(u(this,Mt).setDisconnectedWaitingForVisible(),E(this,dn,void 0)),await u(this,vo).waitForVisible(),r&&await D(this,bf,wy).call(this,g),await D(this,Pp,w_).call(this,g),this.closed)break;Qe(u(this,at)),g=n(),(c=g.debug)==null||c.call(g,"Connected successfully"),i=!1,r=!1,D(this,Oa,th).call(this,!0);break}case 1:(f=g.error)==null||f.call(g,"unreachable"),i=!0;break;case 2:{const C=new AbortController;E(this,ba,()=>C.abort());const[v,y]=F5(S$,C.signal);E(this,zn,he());let k;(x=>{x[x.Ping=0]="Ping",x[x.Hidden=2]="Hidden"})(k||(k={}));const S=await Cv([v,y,u(this,vo).waitForHidden(),u(this,Pa).promise,u(this,zn).promise]);if(this.closed){E(this,zn,void 0);break}switch(S){case 0:{await D(this,$p,b_).call(this,g,u(this,zn).promise)===0&&(i=!0);break}case 2:await D(this,Fn,Rr).call(this,g,{client:"Hidden"}),D(this,Oa,th).call(this,!1);break}E(this,zn,void 0)}}}catch(C){if(u(this,pt)!==2&&((h=g.error)==null||h.call(g,"Failed to connect",C,{lmid:u(this,Ia),baseCookie:u(this,Sf)})),(d=g.debug)==null||d.call(g,"Got an exception in the run loop","state:",u(this,pt),"exception:",C),m$(C)){if(!r){r=!0;continue}r=!0}(h_(C)||C instanceof VS||C instanceof WS)&&(i=!0)}if(i){D(this,Oa,th).call(this,!1);let C=!1;const v=new URL(u(this,Wt));v.pathname="/api/canary/v0/get",v.searchParams.set("id",Ul());const y=new AbortController;fetch(v,{signal:y.signal}).then(k=>{C=!0}).catch(k=>{C=!1}),(p=g.debug)==null||p.call(g,"Sleeping",BS,"ms before reconnecting due to error, state:",u(this,pt)),await Yd(BS),y.abort(),C||((w=g.info)==null||w.call(g,"Canary request failed, resetting total time to connect start time."),E(this,dn,void 0))}}},Lp=new WeakSet,D_=async function(e,t){var a,l,c,f;const n=(await u(this,Oe)).withContext("requestID",t);if((a=n.debug)==null||a.call(n,"Pull",e),e.pullVersion===0)return{httpRequestInfo:{errorMessage:"",httpStatusCode:200}};if(e.clientGroupID===await this.clientGroupID){const h=zl(e.cookie,Mh),d=u(this,po);return E(this,po,null),d==null||d.resolve(h),{httpRequestInfo:{errorMessage:"",httpStatusCode:200}}}await u(this,fn).promise;const r=u(this,at);Qe(r),(l=n.debug)==null||l.call(n,"Pull is for mutation recovery");const i=zl(e.cookie,Mh),o=["pull",{clientGroupID:e.clientGroupID,cookie:i,requestID:t}];yv(r,o);const s=he();u(this,_a).set(t,s);try{let h;switch((p=>{p[p.Timeout=0]="Timeout",p[p.Response=1]="Response"})(h||(h={})),await Cv([Yd(E$),s.promise])){case 0:throw(c=n.debug)==null||c.call(n,"Mutation recovery pull timed out"),new Error("Pull timed out");case 1:{(f=n.debug)==null||f.call(n,"Returning mutation recovery pull response");const p=await s.promise;return{response:{cookie:p.cookie,lastMutationIDChanges:p.lastMutationIDChanges,patch:[]},httpRequestInfo:{errorMessage:"",httpStatusCode:200}}}default:Qe(!1,"unreachable")}}finally{s.reject("timed out"),u(this,_a).delete(t)}},Oa=new WeakSet,th=function(e){var t;u(this,Ea)!==e&&(E(this,Ea,e),(t=this.onOnlineChange)==null||t.call(this,e))},$p=new WeakSet,b_=async function(e,t){var l,c,f;(l=e.debug)==null||l.call(e,"pinging");const{promise:n,resolve:r}=he();E(this,yf,r);const i=["ping",{}],o=performance.now();Qe(u(this,at)),yv(u(this,at),i);const s=await Cv([n,Yd(k$),t])===0,a=performance.now()-o;return s?((f=e.debug)==null||f.call(e,"ping succeeded in",a,"ms"),1):((c=e.info)==null||c.call(e,"ping failed in",a,"ms - disconnecting"),await D(this,Fn,Rr).call(this,e,{client:"PingTimeout"}),0)},Ap=new WeakSet,__=async function(e){var i,o;if(u(this,Wt)===null){(o=(i=await u(this,Oe)).info)==null||o.call(i,"Skipping metrics report, socketOrigin is null");return}const t=JSON.stringify({series:e}),n=new URL("/api/metrics/v0/report",u(this,Wt));n.searchParams.set("clientID",await this.clientID),n.searchParams.set("clientGroupID",await this.clientGroupID),n.searchParams.set("roomID",this.roomID),n.searchParams.set("userID",this.userID),n.searchParams.set("requestID",Ul());const r=await fetch(n.toString(),{method:"POST",body:t,keepalive:!0});if(!r.ok){const s=await r.text();throw new Error(`unexpected response: ${r.status} ${r.statusText} body: ${s}`)}},Ta=new WeakSet,nh=function(e){D(this,Hp,I_).call(this,e)},Hp=new WeakSet,I_=async function(e){var t,n;if(Qe(u(this,Wt)),!this.closed)try{await V5(e,u(this,Wt),await u(this,Oe),u(this,mo).signal)}catch(r){(n=(t=await u(this,Oe)).info)==null||n.call(t,"Error checking connectivity for",e,r)}},zp=new WeakSet,P_=function(){var e;return(e=u(this,po))!=null||E(this,po,he()),u(this,ke).pull(),u(this,po).promise},qk);function P$(e,t,n,r,i,o,s,a,l,c,f,h){var w;const d=new URL(e);d.pathname=`/api/sync/v${b$}/connect`;const{searchParams:p}=d;return p.set("clientID",n),p.set("clientGroupID",r),p.set("roomID",i),p.set("userID",o),a!==void 0&&p.set("jurisdiction",a),p.set("baseCookie",t===null?"":String(t)),p.set("ts",String(performance.now())),p.set("lmid",String(l)),p.set("wsid",c),f&&p.set("debugPerf",(!0).toString()),(w=h.info)==null||w.call(h,"Connecting to",d.toString()),new WebSocket(d,s===""||s===void 0?void 0:encodeURIComponent(s))}async function R$(e,t,n,r){return new Lf(t,{roomID:e,clientID:await r.clientID},n)}function Ev({url:e},t){var r;const n=(r=new URL(e).searchParams.get("wsid"))!=null?r:Ul();return Sy(n,t)}function Sy(e,t){return t.withContext("wsid",e)}function M$(){return typeof document!="undefined"?document:void 0}function Cv(e){return Promise.race(e.map((t,n)=>t.then(()=>n)))}var VS=class extends Error{constructor(e){super(`${e} timed out`)}},WS=class extends Error{};function O$(e){return new nD(e)}function T$(e){switch(e.kvStore){case"idb":return;case"mem":case void 0:return O$;default:return e.kvStore}}const GS=["#ff80ed","#065535","#000000","#133337","#ffc0cb","#ffffff","#ffe4e1","#008080","#ff0000","#e6e6fa","#ffd700","#00ffff","#ffa500","#0000ff","#c6e2ff","#ff7373","#40e0d0","#b0e0e6","#d3ffce","#f0f8ff","#666666","#faebd7","#bada55","#003366","#fa8072","#ffb6c1","#c0c0c0","#ffff00","#c39797","#800000","#800080","#00ff00","#fff68f","#7fffd4","#cccccc","#eeeeee","#20b2aa","#f08080","#ffc3a0","#333333","#c0d6e4","#66cdaa","#ff6666","#ff00ff","#ff7f50","#cbbeb5","#ffdab9","#468499","#afeeee","#b4eeb4","#00ced1","#008000","#f6546a","#660066","#0e2f44","#b6fcd5","#f5f5f5","#696969","#990000","#000080","#daa520","#6897bb","#808080","#f5f5dc","#8b0000","#088da5","#8a2be2","#ccff00","#ffff66","#81d8d0","#ff4040","#2acaea","#dddddd","#0a75ad","#101010","#ff1493","#420420","#a0db8e","#66cccc","#999999","#794044","#3399ff","#cc0000","#00ff7f"];function Bf(e,t){return e===void 0?t:e(t)}function N$(e,t=void 0,n=console){return{put:(r,i)=>A$(e,t,r,i),init:(r,i)=>$$(e,t,r,i),update:(r,i)=>j$(e,t,r,i,n),delete:(r,i)=>U$(e,r,i),has:(r,i)=>H$(e,r,i),get:(r,i)=>z$(e,t,r,i),mustGet:(r,i)=>F$(e,t,r,i),list:(r,i)=>B$(e,t,r,i),listIDs:(r,i)=>V$(e,r,i)}}function xn(e,t){return`${e}/${t}`}function L$(e,t){return t.substring(e.length+1)}async function $$(e,t,n,r){const i=Bf(t,r),o=xn(e,i.id);return await n.has(o)?!1:(await n.put(o,i),!0)}async function A$(e,t,n,r){const i=Bf(t,r);await n.put(xn(e,i.id),i)}function H$(e,t,n){return t.has(xn(e,n))}function z$(e,t,n,r){return sw(t,n,xn(e,r))}async function F$(e,t,n,r){const i=await sw(t,n,xn(e,r));if(i===void 0)throw new Error(`no such entity ${r}`);return i}async function j$(e,t,n,r,i){var f;const{id:o}=r,s=xn(e,o),a=await sw(t,n,s);if(a===void 0){(f=i.debug)==null||f.call(i,`no such entity ${o}, skipping update`);return}const l={...a,...r},c=Bf(t,l);await n.put(s,c)}async function U$(e,t,n){await t.del(xn(e,n))}async function B$(e,t,n,r){const{startAtID:i,limit:o}=r!=null?r:{},s=[];for await(const a of n.scan({prefix:xn(e,""),start:{key:xn(e,i!=null?i:"")},limit:o}).values())s.push(Bf(t,a));return s}async function V$(e,t,n){const{startAtID:r,limit:i}=n!=null?n:{},o=[];for await(const s of t.scan({prefix:xn(e,""),start:{key:xn(e,r!=null?r:"")},limit:i}).keys())o.push(L$(e,s));return o}async function sw(e,t,n){const r=await t.get(n);return r===void 0?r:Bf(e,r)}const{put:W$,get:hm,update:R_,list:G$,delete:w2}=N$("game"),M_={getGame:hm,updateGame:R_,listGames:G$,createGame:K$,getGameFromCode:q$,handleAnswer:J$};function Q$(e,t){return Math.floor(Math.random()*(t-e+1))+e}async function K$(e,t){const n=new Array;for(let o=0;o<t.nrOfQuestions;o++)n.push({id:(o+1).toString(),isAnswered:!1,answeredByTeamIndex:-1,active:!1,beingAnswered:!1,beingAnsweredByTeamIndex:-1,score:1});const r=new Array;for(let o=0;o<t.nrOfTeams;o++){let s=GS[Q$(0,GS.length-1)];r.push({id:""+o,color:s,members:[],teamName:`Lag ${o+1}`,score:0})}let i={...t,id:"game",gameStarted:!1,questions:n,teams:r,currentQuestionIndex:0};await W$(e,i)}async function q$(e,t){return await hm(e,"game")}async function J$(e,t){var i;const n=await hm(e,"game"),r=n==null?void 0:n.questions[n==null?void 0:n.currentQuestionIndex];if(!(r!=null&&r.beingAnswered)){const o=(i=n==null?void 0:n.questions.map((a,l)=>(n==null?void 0:n.currentQuestionIndex)===l?{...a,beingAnswered:!0,beingAnsweredByTeamIndex:t}:a))!=null?i:[],s={...n,questions:o};await R_(e,s)}}var ky=!1,Ey=[];function Y$(){const e=Ey;Ey=[],ky=!1,Fp.exports.unstable_batchedUpdates(()=>{for(const t of e)t()})}function X$(e,t,n,r=[]){const[i,o]=O.exports.useState(n);return O.exports.useEffect(()=>{if(!e)return;const s=e.subscribe(t,{onData:a=>{Ey.push(()=>o(a)),ky||(Promise.resolve().then(Y$),ky=!0)}});return()=>{s(),o(n)}},[e,...r]),i}function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}var O_=e=>/^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(e),Zo=255,ni=100,Z$=e=>{var{r:t,g:n,b:r,a:i}=e,o=Math.max(t,n,r),s=o-Math.min(t,n,r),a=s?o===t?(n-r)/s:o===n?2+(r-t)/s:4+(t-n)/s:0;return{h:60*(a<0?a+6:a),s:o?s/o*ni:0,v:o/Zo*ni,a:i}},T_=e=>{var{h:t,s:n,l:r,a:i}=N_(e);return"hsla("+t+", "+n+"%, "+r+"%, "+i+")"},N_=e=>{var{h:t,s:n,v:r,a:i}=e,o=(200-n)*r/ni;return{h:t,s:o>0&&o<200?n*r/ni/(o<=ni?o:200-o)*ni:0,l:o/2,a:i}},L_=e=>{var{r:t,g:n,b:r}=e,i=t<<16|n<<8|r;return"#"+(o=>new Array(7-o.length).join("0")+o)(i.toString(16))},eA=e=>{var{r:t,g:n,b:r,a:i}=e,o=typeof i=="number"&&(i*255|1<<8).toString(16).slice(1);return""+L_({r:t,g:n,b:r,a:i})+(o||"")},$_=e=>Z$(tA(e)),tA=e=>{var t=e.replace("#","");/^#?/.test(e)&&t.length===3&&(e="#"+t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2));var n=new RegExp("[A-Za-z0-9]{2}","g"),[r,i,o=0,s]=e.match(n).map(a=>parseInt(a,16));return{r,g:i,b:o,a:(s!=null?s:255)/Zo}},aw=e=>{var{h:t,s:n,v:r,a:i}=e,o=t/60,s=n/ni,a=r/ni,l=Math.floor(o)%6,c=o-Math.floor(o),f=Zo*a*(1-s),h=Zo*a*(1-s*c),d=Zo*a*(1-s*(1-c));a*=Zo;var p={};switch(l){case 0:p.r=a,p.g=d,p.b=f;break;case 1:p.r=h,p.g=a,p.b=f;break;case 2:p.r=f,p.g=a,p.b=d;break;case 3:p.r=f,p.g=h,p.b=a;break;case 4:p.r=d,p.g=f,p.b=a;break;case 5:p.r=a,p.g=f,p.b=h;break}return p.r=Math.round(p.r),p.g=Math.round(p.g),p.b=Math.round(p.b),de({},p,{a:i})},nA=e=>{var{r:t,g:n,b:r,a:i}=aw(e);return"rgba("+t+", "+n+", "+r+", "+i+")"},rA=e=>{var{r:t,g:n,b:r}=e;return{r:t,g:n,b:r}},iA=e=>{var{h:t,s:n,l:r}=e;return{h:t,s:n,l:r}},A_=e=>L_(aw(e)),oA=e=>{var{h:t,s:n,v:r}=e;return{h:t,s:n,v:r}},sA=e=>{var t,n,r,i,o,s,a,l;return typeof e=="string"&&O_(e)?(s=$_(e),a=e):typeof e!="string"&&(s=e),s&&(r=oA(s),o=N_(s),i=aw(s),l=eA(i),a=A_(s),n=iA(o),t=rA(i)),{rgb:t,hsl:n,hsv:r,rgba:i,hsla:o,hsva:s,hex:a,hexa:l}};function Lo(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function QS(e){var t=O.exports.useRef(e);return O.exports.useEffect(()=>{t.current=e}),O.exports.useCallback((n,r)=>t.current&&t.current(n,r),[])}var Bl=e=>"touches"in e,KS=e=>{!Bl(e)&&e.preventDefault&&e.preventDefault()},qS=function(t,n,r){return n===void 0&&(n=0),r===void 0&&(r=1),t>r?r:t<n?n:t},JS=(e,t)=>{var n=e.getBoundingClientRect(),r=Bl(t)?t.touches[0]:t;return{left:qS((r.pageX-(n.left+window.pageXOffset))/n.width),top:qS((r.pageY-(n.top+window.pageYOffset))/n.height),width:n.width,height:n.height,x:r.pageX-(n.left+window.pageXOffset),y:r.pageY-(n.top+window.pageYOffset)}},pm={exports:{}},mm={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aA=O.exports,lA=Symbol.for("react.element"),uA=Symbol.for("react.fragment"),cA=Object.prototype.hasOwnProperty,fA=aA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dA={key:!0,ref:!0,__self:!0,__source:!0};function H_(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)cA.call(t,r)&&!dA.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:lA,type:e,key:o,ref:s,props:i,_owner:fA.current}}mm.Fragment=uA;mm.jsx=H_;mm.jsxs=H_;pm.exports=mm;const N=pm.exports.jsx,ye=pm.exports.jsxs,ft=pm.exports.Fragment;var hA=["prefixCls","className","onMove","onDown"],z_=Ka.forwardRef((e,t)=>{var{prefixCls:n="w-color-interactive",className:r,onMove:i,onDown:o}=e,s=Lo(e,hA),a=O.exports.useRef(null),l=O.exports.useRef(!1),[c,f]=O.exports.useState(!1),h=QS(i),d=QS(o),p=y=>l.current&&!Bl(y)?!1:(l.current=Bl(y),!0),w=O.exports.useCallback(y=>{KS(y);var k=Bl(y)?y.touches.length>0:y.buttons>0;k&&a.current?h&&h(JS(a.current,y),y):f(!1)},[h]),g=O.exports.useCallback(()=>f(!1),[]),C=O.exports.useCallback(y=>{var k=y?window.addEventListener:window.removeEventListener;k(l.current?"touchmove":"mousemove",w),k(l.current?"touchend":"mouseup",g)},[]);O.exports.useEffect(()=>(C(c),()=>{c&&C(!1)}),[c,C]);var v=O.exports.useCallback(y=>{KS(y.nativeEvent),p(y.nativeEvent)&&(d&&d(JS(a.current,y.nativeEvent),y.nativeEvent),f(!0))},[d]);return N("div",de({},s,{className:[n,r||""].filter(Boolean).join(" "),style:de({},s.style,{touchAction:"none"}),ref:a,tabIndex:0,onMouseDown:v,onTouchStart:v}))});z_.displayName="Interactive";var F_=z_,pA=["className","prefixCls","left","top","style","fillProps"],mA=e=>{var{className:t,prefixCls:n,left:r,top:i,style:o,fillProps:s}=e,a=Lo(e,pA),l=de({},o,{position:"absolute",left:r,top:i}),c=de({width:18,height:18,boxShadow:"var(--alpha-pointer-box-shadow)",borderRadius:"50%",backgroundColor:"var(--alpha-pointer-background-color)"},s==null?void 0:s.style,{transform:r?"translate(-9px, -1px)":"translate(-1px, -9px)"});return N("div",de({className:n+"-pointer "+(t||""),style:l},a,{children:N("div",de({className:n+"-fill"},s,{style:c}))}))},vA=["prefixCls","className","hsva","background","bgProps","innerProps","pointerProps","radius","width","height","direction","style","onChange","pointer"],j_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==",U_=Ka.forwardRef((e,t)=>{var{prefixCls:n="w-color-alpha",className:r,hsva:i,background:o,bgProps:s={},innerProps:a={},pointerProps:l={},radius:c=0,width:f,height:h=16,direction:d="horizontal",style:p,onChange:w,pointer:g}=e,C=Lo(e,vA),v=_=>{w&&w(de({},i,{a:d==="horizontal"?_.left:_.top}),_)},y=T_(Object.assign({},i,{a:1})),k="linear-gradient(to "+(d==="horizontal"?"right":"bottom")+", rgba(244, 67, 54, 0) 0%, "+y+" 100%)",S={};d==="horizontal"?S.left=i.a*100+"%":S.top=i.a*100+"%";var x=de({"--alpha-background-color":"#fff","--alpha-pointer-background-color":"rgb(248, 248, 248)","--alpha-pointer-box-shadow":"rgb(0 0 0 / 37%) 0px 1px 4px 0px",borderRadius:c,background:"url("+j_+") left center",backgroundColor:"var(--alpha-background-color)"},p,{position:"relative"},{width:f,height:h}),M=g&&typeof g=="function"?g(de({prefixCls:n},l,S)):N(mA,de({},l,{prefixCls:n},S));return ye("div",de({},C,{className:[n,n+"-"+d,r||""].filter(Boolean).join(" "),style:x,ref:t,children:[N("div",de({},s,{style:de({inset:0,position:"absolute",background:o||k,borderRadius:c},s.style)})),N(F_,de({},a,{style:de({},a.style,{inset:0,zIndex:1,position:"absolute"}),onMove:v,onDown:v,children:M}))]}))});U_.displayName="Alpha";var B_=U_,gA=e=>{var{className:t,color:n,left:r,top:i,prefixCls:o}=e,s={position:"absolute",top:i,left:r},a={"--saturation-pointer-box-shadow":"rgb(255 255 255) 0px 0px 0px 1.5px, rgb(0 0 0 / 30%) 0px 0px 1px 1px inset, rgb(0 0 0 / 40%) 0px 0px 1px 2px",width:6,height:6,transform:"translate(-3px, -3px)",boxShadow:"var(--saturation-pointer-box-shadow)",borderRadius:"50%",backgroundColor:n};return O.exports.useMemo(()=>N("div",{className:o+"-pointer "+(t||""),style:s,children:N("div",{className:o+"-fill",style:a})}),[i,r,n,t,o])},yA=["prefixCls","radius","pointer","className","hue","style","hsva","onChange"],V_=Ka.forwardRef((e,t)=>{var n,{prefixCls:r="w-color-saturation",radius:i=0,pointer:o,className:s,hue:a=0,style:l,hsva:c,onChange:f}=e,h=Lo(e,yA),d=de({width:200,height:200,borderRadius:i},l,{position:"relative"}),p=(g,C)=>{f&&c&&f({h:c.h,s:g.left*100,v:(1-g.top)*100,a:c.a})},w=O.exports.useMemo(()=>{if(!c)return null;var g={top:100-c.v+"%",left:c.s+"%",color:T_(c)};return o&&typeof o=="function"?o(de({prefixCls:r},g)):N(gA,de({prefixCls:r},g))},[c,o,r]);return N(F_,de({className:[r,s||""].filter(Boolean).join(" ")},h,{style:de({position:"absolute",inset:0,cursor:"crosshair",backgroundImage:"linear-gradient(0deg, #000, transparent), linear-gradient(90deg, #fff, hsl("+((n=c==null?void 0:c.h)!=null?n:a)+", 100%, 50%))"},d),ref:t,onMove:p,onDown:p,children:w}))});V_.displayName="Saturation";var wA=V_,SA=["prefixCls","className","hue","onChange","direction"],W_=Ka.forwardRef((e,t)=>{var{prefixCls:n="w-color-hue",className:r,hue:i=0,onChange:o,direction:s="horizontal"}=e,a=Lo(e,SA);return N(B_,de({ref:t,className:n+" "+(r||"")},a,{direction:s,background:"linear-gradient(to "+(s==="horizontal"?"right":"bottom")+", rgb(255, 0, 0) 0%, rgb(255, 255, 0) 17%, rgb(0, 255, 0) 33%, rgb(0, 255, 255) 50%, rgb(0, 0, 255) 67%, rgb(255, 0, 255) 83%, rgb(255, 0, 0) 100%)",hsva:{h:i,s:100,v:100,a:i/360},onChange:(l,c)=>{o&&o({h:s==="horizontal"?360*c.left:360*c.top})}}))});W_.displayName="Hue";var kA=W_,EA=["style","color"],CA=["prefixCls","className","onChange","color","style","disableAlpha"],xv=e=>{var{style:t,color:n}=e,r=Lo(e,EA),i=de({"--colorful-pointer-background-color":"#fff","--colorful-pointer-border":"2px solid #fff",height:28,width:28,position:"absolute",transform:"translate(-14px, -4px)",boxShadow:"0 2px 4px rgb(0 0 0 / 20%)",borderRadius:"50%",background:"url("+j_+")",backgroundColor:"var(--colorful-pointer-background-color)",border:"var(--colorful-pointer-border)",zIndex:1},t);return N("div",de({},r,{style:i,children:N("div",{style:{backgroundColor:n,borderRadius:"50%",height:" 100%",width:"100%"}})}))},G_=Ka.forwardRef((e,t)=>{var{prefixCls:n="w-color-colorful",className:r,onChange:i,color:o,style:s,disableAlpha:a}=e,l=Lo(e,CA),c=typeof o=="string"&&O_(o)?$_(o):o||{},f=h=>i&&i(sA(h));return ye("div",de({ref:t,style:de({width:200,position:"relative"},s)},l,{className:n+" "+(r||""),children:[N(wA,{hsva:c,className:n,radius:"8px 8px 0 0",style:{width:"auto",height:150,minWidth:120,borderBottom:"12px solid #000"},pointer:h=>{var{left:d,top:p,color:w}=h;return N(xv,{style:{left:d,top:p,transform:"translate(-16px, -16px)"},color:A_(c)})},onChange:h=>f(de({},c,h))}),N(kA,{hue:c.h,height:24,radius:a?"0 0 8px 8px":0,className:n,onChange:h=>f(de({},c,h)),pointer:h=>{var{left:d}=h;return N(xv,{style:{left:d},color:"hsl("+(c.h||0)+"deg 100% 50%)"})}}),!a&&N(B_,{hsva:c,height:24,className:n,radius:"0 0 8px 8px",pointer:h=>{var{left:d}=h;return N(xv,{style:{left:d},color:nA(c)})},onChange:h=>f(de({},c,h))})]}))});G_.displayName="Colorful";var xA=G_;function Q_(e){if(!e)return;e=e==null?void 0:e.replace(/#/,"");const t=parseInt(e.slice(0,2),16),n=parseInt(e.slice(2,4),16),r=parseInt(e.slice(4,6),16);return(.299*t+.587*n+.114*r)/255<.5}const K_=({reflect:e,isHost:t=!1})=>{var o,s;const n=X$(e,async a=>hm(a,"game")),r=(o=n==null?void 0:n.teams)!=null?o:[],i=(s=r.find(a=>a.members.find(l=>l===e.userID)))!=null?s:{};return ye(ft,{children:[t&&N(PA,{reflect:e,game:n}),(n==null?void 0:n.gameStarted)===!0?N(DA,{reflect:e,game:n,myTeam:i}):N(RA,{reflect:e,game:n,gameTeams:r,myTeam:i})]})},DA=({reflect:e,game:t,myTeam:n})=>{var a;const r=async()=>{e.mutate.handleAnswer(parseInt(n.id))};t.teams.forEach(l=>{l.id,n==null||n.id});const i=t==null?void 0:t.questions[t==null?void 0:t.currentQuestionIndex],o=t==null?void 0:t.teams.some(l=>l.members.some(c=>c===e.userID)),s=l=>{if(!o){const c=t.teams.map((f,h)=>h===l?{...f,members:[...f.members,e.userID]}:f);e.mutate.updateGame({...t,id:"game",teams:c})}};return ye("div",{children:[!o&&N("b",{children:"Anslut till ett lag"}),N("div",{style:{display:"flex",flexDirection:"row"},children:t.teams.map((l,c)=>{const f=t.questions.reduce((d,p)=>p.answeredByTeamIndex===c?d+p.score:d,0),h=i.beingAnsweredByTeamIndex===c&&i.beingAnsweredByTeamIndex!==parseInt(n.id);return N(ft,{children:ye("div",{className:"sonar-wrapper",children:[N("fieldset",{style:{backgroundColor:l==null?void 0:l.color},onClick:()=>s(c),children:f},c),h&&ye("div",{className:"sonar-emitter-small",children:[N("div",{className:"sonar-wave sonar-wave-fast",style:{backgroundColor:l==null?void 0:l.color}}),N("div",{className:"sonar-wave1 sonar-wave1-fast",style:{backgroundColor:l==null?void 0:l.color}})]})]})})})}),N("br",{}),ye("div",{style:{textAlign:"center",fontWeight:"bold"},children:["Fr\xE5ga ",i.id]}),N("br",{}),i.isAnswered?ye(ft,{children:["Besvarad av ",(a=t==null?void 0:t.teams[i.answeredByTeamIndex])==null?void 0:a.teamName]}):o&&N(_A,{currentQuestion:i,myTeam:n,handleAnswer:r})]})};function vd(e,t){return e?"#"+e.replace(/^#/,"").replace(/../g,n=>("0"+Math.min(255,Math.max(0,parseInt(n,16)+t)).toString(16)).substr(-2)):""}function bA(e){return`
  linear-gradient(
    to left,
    ${vd(e,-30)} 0%,
    ${vd(e,-40)} 8%,
    ${vd(e,-60)} 92%,
    ${vd(e,-90)} 100%)`}const _A=({currentQuestion:e,myTeam:t,handleAnswer:n})=>{const r=e==null?void 0:e.beingAnswered,i=e.beingAnsweredByTeamIndex===parseInt(t.id),o=r&&!i,s=t==null?void 0:t.color,a=e.active,l=()=>a&&!r?"Svara":i?"Svarar":"V\xE4nta";return N(ft,{children:ye("div",{className:"sonar-wrapper",children:[N("div",{className:"custom-button-wrapper",children:ye("button",{disabled:!a||o,className:"pushable",onClick:n,children:[N("span",{className:`shadow ${a?"shadow-animation":""}`}),N("span",{style:{background:bA(s)},className:"edge"}),N("span",{style:{background:s,color:Q_(s)?"white":"black"},className:`front  ${a?"front-animation":""}`,children:l()})]})}),N(IA,{beingAnswered:r,myColor:s,beingAnsweredByMyTeam:i,activeQuestion:a})]})})},IA=({beingAnswered:e,myColor:t,beingAnsweredByMyTeam:n,activeQuestion:r})=>{if(e)return n?ye("div",{className:"sonar-emitter",children:[N("div",{className:"sonar-wave sonar-wave-fast",style:{backgroundColor:t}}),N("div",{className:"sonar-wave1 sonar-wave1-fast",style:{backgroundColor:t}})]}):N(ft,{});if(r)return ye("div",{className:"sonar-emitter",children:[N("div",{className:"sonar-wave",style:{backgroundColor:t}}),N("div",{className:"sonar-wave1",style:{backgroundColor:t}})]})},PA=({reflect:e,game:t})=>{var d;O.exports.useState(!1);const n=t==null?void 0:t.questions[t.currentQuestionIndex].active,r=()=>{e.mutate.updateGame({...t,id:"game",gameStarted:!0})},i=()=>{e.mutate.updateGame({...t,id:"game",gameStarted:!1})},o=()=>{const p={...s,active:!n,beingAnswered:!1,beingAnsweredByTeamIndex:-1},w=t.questions.map((g,C)=>C===(t==null?void 0:t.currentQuestionIndex)?p:g);e.mutate.updateGame({...t,id:"game",questions:w})},s=(d=t==null?void 0:t.questions.find((p,w)=>w===(t==null?void 0:t.currentQuestionIndex)))!=null?d:{},a=()=>{e.mutate.updateGame({...t,id:"game",currentQuestionIndex:t.currentQuestionIndex-1})},l=()=>{e.mutate.updateGame({...t,id:"game",currentQuestionIndex:t.currentQuestionIndex+1})},c=()=>{const p={...s,answeredByTeamIndex:s.beingAnsweredByTeamIndex,isAnswered:!0,active:!1,beingAnswered:!1,beingAnsweredByTeamIndex:-1},w=t.questions.map((g,C)=>t.currentQuestionIndex===C?p:g);e.mutate.updateGame({...t,id:"game",questions:w})},f=()=>{const p={...s,answeredByTeamIndex:-1,isAnswered:!1,active:!0,beingAnswered:!1,beingAnsweredByTeamIndex:-1},w=t.questions.map((g,C)=>t.currentQuestionIndex===C?p:g);e.mutate.updateGame({...t,id:"game",questions:w})},h=p=>{const w=parseInt(p.target.value);if(w>=0){const g={...s,score:w},C=t.questions.map((v,y)=>t.currentQuestionIndex===y?g:v);e.mutate.updateGame({...t,id:"game",questions:C})}};return ye(ft,{children:[t!=null&&t.gameStarted?N("button",{onClick:i,children:"Pausa spel "}):N("button",{onClick:r,children:"Starta spel"}),N("br",{}),(t==null?void 0:t.gameStarted)&&ye(ft,{children:[N("div",{children:ye("b",{children:[N("button",{disabled:t.currentQuestionIndex===0,onClick:a,children:"\u25C1"}),"Fr\xE5ga ",s.id,N("button",{disabled:t.currentQuestionIndex===t.questions.length-1,onClick:l,children:"\u25B7"})]})}),N("div",{}),ye("div",{children:[N("label",{htmlFor:"questionScore",children:" Ger antal po\xE4ng"}),N("input",{type:"number",id:"questionScore",onChange:h,value:s.score})]}),N("button",{onClick:o,children:n?"Deaktivera":"Aktivera"}),N("br",{}),s.beingAnswered&&ye(ft,{children:[N("br",{}),ye("b",{children:["Nu svarar:",N("br",{}),t.teams[s.beingAnsweredByTeamIndex].teamName]}),N("button",{style:{backgroundColor:"green"},onClick:c,children:"R\xE4tt svar"}),N("button",{style:{backgroundColor:"red"},onClick:f,children:"Fel svar"})]}),N("br",{})]})]})},RA=({reflect:e,gameTeams:t,myTeam:n,game:r})=>{const[i,o]=O.exports.useState(!1),[s,a]=O.exports.useState(!1),l=h=>{a(!1),o(!1);let d=-1;const w=[...t.map((g,C)=>{const v=[...g.members],y=v.indexOf(e.userID);return y>-1&&(d=C,v.splice(y,1)),{...g,members:v}})];d!==h&&w[h].members.push(e.userID),e.mutate.updateGame({...r,id:"game",teams:w})},c=(h,d)=>{const p=t.map((w,g)=>g===parseInt(d)?{...w,teamName:h}:w);e.mutate.updateGame({...r,id:"game",teams:p})},f=h=>{const d=t.map((p,w)=>w===parseInt(n==null?void 0:n.id)?{...p,color:h.hex}:p);e.mutate.updateGame({...r,id:"game",teams:d})};return N(ft,{children:t.map((h,d)=>{let p=d===parseInt(n==null?void 0:n.id);return ye("fieldset",{style:{backgroundColor:h.color,display:"flex",justifyContent:"space-between"},children:[p&&i?ye(ft,{children:[N("input",{value:n==null?void 0:n.teamName,onChange:w=>c(w.target.value,n==null?void 0:n.id)}),N("button",{onClick:()=>{(n==null?void 0:n.teamName)!==""&&o(!1)},children:"\u23CE"})]}):N("div",{style:{color:Q_(h.color)?"white":"black"},onClick:()=>{p&&o(!0)},children:h.teamName}),h.members.map((w,g)=>N("div",{children:"\u{1F64B}\u200D\u2642\uFE0F"},g)),p&&ye("div",{children:[N("button",{onClick:()=>a(!s),children:"\u{1F3A8}"}),s?N(xA,{color:h.color,onChange:f,disableAlpha:!0}):N(ft,{})]}),N("button",{disabled:!!i,onClick:()=>l(d),children:p?"L\xE4mna":"G\xE5 med"})]},d)})})};let MA=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");function OA(){const[e,t]=O.exports.useState("");return O.exports.useEffect(()=>{var r;const n=(r=sessionStorage.getItem("uuid"))!=null?r:"";if(n)t(n);else{const i=MA();sessionStorage.setItem("uuid",i),t(i)}},[]),e}const TA=()=>{const{code:e}=GM(),t=yx(),[n,r]=O.exports.useState(e!=null?e:""),i=OA(),[o,s]=O.exports.useState(!1),[a,l]=O.exports.useState(null),[c,f]=O.exports.useState(!1),h=async()=>{const d=async p=>{for(let w=0;w<=3;w++)setTimeout(async()=>{if(await p.mutate.getGameFromCode("game"))return l(p),s(!0),t(`/join/${n}`),clearInterval(10),!0;w===3&&f(!0)},500)};if(n){const p=new m_({roomID:n,userID:i,server:"https://refle-dsterna.reflect-server.net/",mutators:M_});await d(p)}};return N("div",{children:o?N(K_,{reflect:a,isHost:!1}):ye(ft,{children:[N("label",{htmlFor:"joinCode",children:"Kod:"}),N("br",{}),N("input",{type:"text",id:"joinCode",value:n,onChange:d=>{r(d.target.value),f(!1),s(!1)}}),N("button",{onClick:()=>h(),children:"Join"}),c?N(ft,{children:"Inget spel hittades"}):N(ft,{}),N("br",{})]})})},NA=()=>ye("div",{children:[N(G1,{to:"host",children:"Skapa spel"}),N("br",{}),N(G1,{to:"join",children:"Anslut till spel"}),N(o4,{})]});var Cy={exports:{}},Ro={},Vf={exports:{}},LA="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$A=LA,AA=$A;function q_(){}function J_(){}J_.resetWarningCache=q_;var HA=function(){function e(r,i,o,s,a,l){if(l!==AA){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:J_,resetWarningCache:q_};return n.PropTypes=n,n};Vf.exports=HA();var xy={exports:{}},Dn={},Uh={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",i=/input|select|textarea|button|object|iframe/;function o(h,d){return d.getPropertyValue("overflow")!=="visible"||h.scrollWidth<=0&&h.scrollHeight<=0}function s(h){var d=h.offsetWidth<=0&&h.offsetHeight<=0;if(d&&!h.innerHTML)return!0;try{var p=window.getComputedStyle(h),w=p.getPropertyValue("display");return d?w!==r&&o(h,p):w===n}catch{return console.warn("Failed to inspect element style"),!1}}function a(h){for(var d=h,p=h.getRootNode&&h.getRootNode();d&&d!==document.body;){if(p&&d===p&&(d=p.host.parentNode),s(d))return!1;d=d.parentNode}return!0}function l(h,d){var p=h.nodeName.toLowerCase(),w=i.test(p)&&!h.disabled||p==="a"&&h.href||d;return w&&a(h)}function c(h){var d=h.getAttribute("tabindex");d===null&&(d=void 0);var p=isNaN(d);return(p||d>=0)&&l(h,!p)}function f(h){var d=[].slice.call(h.querySelectorAll("*"),0).reduce(function(p,w){return p.concat(w.shadowRoot?f(w.shadowRoot):[w])},[]);return d.filter(c)}e.exports=t.default})(Uh,Uh.exports);Object.defineProperty(Dn,"__esModule",{value:!0});Dn.resetState=UA;Dn.log=BA;Dn.handleBlur=mu;Dn.handleFocus=vu;Dn.markForFocusLater=VA;Dn.returnFocus=WA;Dn.popWithoutFocus=GA;Dn.setupScopedFocus=QA;Dn.teardownScopedFocus=KA;var zA=Uh.exports,FA=jA(zA);function jA(e){return e&&e.__esModule?e:{default:e}}var Wa=[],es=null,Dy=!1;function UA(){Wa=[]}function BA(){}function mu(){Dy=!0}function vu(){if(Dy){if(Dy=!1,!es)return;setTimeout(function(){if(!es.contains(document.activeElement)){var e=(0,FA.default)(es)[0]||es;e.focus()}},0)}}function VA(){Wa.push(document.activeElement)}function WA(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=null;try{Wa.length!==0&&(t=Wa.pop(),t.focus({preventScroll:e}));return}catch{console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}}function GA(){Wa.length>0&&Wa.pop()}function QA(e){es=e,window.addEventListener?(window.addEventListener("blur",mu,!1),document.addEventListener("focus",vu,!0)):(window.attachEvent("onBlur",mu),document.attachEvent("onFocus",vu))}function KA(){es=null,window.addEventListener?(window.removeEventListener("blur",mu),document.removeEventListener("focus",vu)):(window.detachEvent("onBlur",mu),document.detachEvent("onFocus",vu))}var by={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=Uh.exports,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?o(a.activeElement.shadowRoot):a.activeElement}function s(a,l){var c=(0,r.default)(a);if(!c.length){l.preventDefault();return}var f=void 0,h=l.shiftKey,d=c[0],p=c[c.length-1],w=o();if(a===w){if(!h)return;f=p}if(p===w&&!h&&(f=d),d===w&&h&&(f=p),f){l.preventDefault(),f.focus();return}var g=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),C=g!=null&&g[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(!!C){var v=c.indexOf(w);if(v>-1&&(v+=h?-1:1),f=c[v],typeof f=="undefined"){l.preventDefault(),f=h?p:d,f.focus();return}l.preventDefault(),f.focus()}}e.exports=t.default})(by,by.exports);var bn={},qA=function(){},JA=qA,En={},Y_={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(e){(function(){var t=!!(typeof window!="undefined"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()})(Y_);Object.defineProperty(En,"__esModule",{value:!0});En.canUseDOM=En.SafeNodeList=En.SafeHTMLCollection=void 0;var YA=Y_.exports,XA=ZA(YA);function ZA(e){return e&&e.__esModule?e:{default:e}}var vm=XA.default,e6=vm.canUseDOM?window.HTMLElement:{};En.SafeHTMLCollection=vm.canUseDOM?window.HTMLCollection:{};En.SafeNodeList=vm.canUseDOM?window.NodeList:{};En.canUseDOM=vm.canUseDOM;En.default=e6;Object.defineProperty(bn,"__esModule",{value:!0});bn.resetState=o6;bn.log=s6;bn.assertNodeList=X_;bn.setElement=a6;bn.validateElement=lw;bn.hide=l6;bn.show=u6;bn.documentNotReadyOrSSRTesting=c6;var t6=JA,n6=i6(t6),r6=En;function i6(e){return e&&e.__esModule?e:{default:e}}var Qt=null;function o6(){Qt&&(Qt.removeAttribute?Qt.removeAttribute("aria-hidden"):Qt.length!=null?Qt.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(Qt).forEach(function(e){return e.removeAttribute("aria-hidden")})),Qt=null}function s6(){}function X_(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function a6(e){var t=e;if(typeof t=="string"&&r6.canUseDOM){var n=document.querySelectorAll(t);X_(n,t),t=n}return Qt=t||Qt,Qt}function lw(e){var t=e||Qt;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,n6.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function l6(e){var t=!0,n=!1,r=void 0;try{for(var i=lw(e)[Symbol.iterator](),o;!(t=(o=i.next()).done);t=!0){var s=o.value;s.setAttribute("aria-hidden","true")}}catch(a){n=!0,r=a}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}function u6(e){var t=!0,n=!1,r=void 0;try{for(var i=lw(e)[Symbol.iterator](),o;!(t=(o=i.next()).done);t=!0){var s=o.value;s.removeAttribute("aria-hidden")}}catch(a){n=!0,r=a}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}function c6(){Qt=null}var el={};Object.defineProperty(el,"__esModule",{value:!0});el.resetState=f6;el.log=d6;var Vl={},Wl={};function YS(e,t){e.classList.remove(t)}function f6(){var e=document.getElementsByTagName("html")[0];for(var t in Vl)YS(e,Vl[t]);var n=document.body;for(var r in Wl)YS(n,Wl[r]);Vl={},Wl={}}function d6(){}var h6=function(t,n){return t[n]||(t[n]=0),t[n]+=1,n},p6=function(t,n){return t[n]&&(t[n]-=1),n},m6=function(t,n,r){r.forEach(function(i){h6(n,i),t.add(i)})},v6=function(t,n,r){r.forEach(function(i){p6(n,i),n[i]===0&&t.remove(i)})};el.add=function(t,n){return m6(t.classList,t.nodeName.toLowerCase()=="html"?Vl:Wl,n.split(" "))};el.remove=function(t,n){return v6(t.classList,t.nodeName.toLowerCase()=="html"?Vl:Wl,n.split(" "))};var tl={};Object.defineProperty(tl,"__esModule",{value:!0});tl.log=y6;tl.resetState=w6;function g6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Z_=function e(){var t=this;g6(this,e),this.register=function(n){t.openInstances.indexOf(n)===-1&&(t.openInstances.push(n),t.emit("register"))},this.deregister=function(n){var r=t.openInstances.indexOf(n);r!==-1&&(t.openInstances.splice(r,1),t.emit("deregister"))},this.subscribe=function(n){t.subscribers.push(n)},this.emit=function(n){t.subscribers.forEach(function(r){return r(n,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Bh=new Z_;function y6(){console.log("portalOpenInstances ----------"),console.log(Bh.openInstances.length),Bh.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")}function w6(){Bh=new Z_}tl.default=Bh;var uw={};Object.defineProperty(uw,"__esModule",{value:!0});uw.resetState=C6;uw.log=x6;var S6=tl,k6=E6(S6);function E6(e){return e&&e.__esModule?e:{default:e}}var ot=void 0,on=void 0,Eo=[];function C6(){for(var e=[ot,on],t=0;t<e.length;t++){var n=e[t];!n||n.parentNode&&n.parentNode.removeChild(n)}ot=on=null,Eo=[]}function x6(){console.log("bodyTrap ----------"),console.log(Eo.length);for(var e=[ot,on],t=0;t<e.length;t++){var n=e[t],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function XS(){Eo.length!==0&&Eo[Eo.length-1].focusContent()}function D6(e,t){!ot&&!on&&(ot=document.createElement("div"),ot.setAttribute("data-react-modal-body-trap",""),ot.style.position="absolute",ot.style.opacity="0",ot.setAttribute("tabindex","0"),ot.addEventListener("focus",XS),on=ot.cloneNode(),on.addEventListener("focus",XS)),Eo=t,Eo.length>0?(document.body.firstChild!==ot&&document.body.insertBefore(ot,document.body.firstChild),document.body.lastChild!==on&&document.body.appendChild(on)):(ot.parentElement&&ot.parentElement.removeChild(ot),on.parentElement&&on.parentElement.removeChild(on))}k6.default.subscribe(D6);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(U){for(var H=1;H<arguments.length;H++){var Q=arguments[H];for(var I in Q)Object.prototype.hasOwnProperty.call(Q,I)&&(U[I]=Q[I])}return U},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},i=function(){function U(H,Q){for(var I=0;I<Q.length;I++){var P=Q[I];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(H,P.key,P)}}return function(H,Q,I){return Q&&U(H.prototype,Q),I&&U(H,I),H}}(),o=O.exports,s=Vf.exports,a=x(s),l=Dn,c=S(l),f=by.exports,h=x(f),d=bn,p=S(d),w=el,g=S(w),C=En,v=x(C),y=tl,k=x(y);function S(U){if(U&&U.__esModule)return U;var H={};if(U!=null)for(var Q in U)Object.prototype.hasOwnProperty.call(U,Q)&&(H[Q]=U[Q]);return H.default=U,H}function x(U){return U&&U.__esModule?U:{default:U}}function M(U,H){if(!(U instanceof H))throw new TypeError("Cannot call a class as a function")}function _(U,H){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:U}function T(U,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);U.prototype=Object.create(H&&H.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(U,H):U.__proto__=H)}var $={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},j=function(H){return H.code==="Tab"||H.keyCode===9},se=function(H){return H.code==="Escape"||H.keyCode===27},ne=0,oe=function(U){T(H,U);function H(Q){M(this,H);var I=_(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,Q));return I.setOverlayRef=function(P){I.overlay=P,I.props.overlayRef&&I.props.overlayRef(P)},I.setContentRef=function(P){I.content=P,I.props.contentRef&&I.props.contentRef(P)},I.afterClose=function(){var P=I.props,B=P.appElement,W=P.ariaHideApp,K=P.htmlOpenClassName,ae=P.bodyOpenClassName,$e=P.parentSelector,Ae=$e&&$e().ownerDocument||document;ae&&g.remove(Ae.body,ae),K&&g.remove(Ae.getElementsByTagName("html")[0],K),W&&ne>0&&(ne-=1,ne===0&&p.show(B)),I.props.shouldFocusAfterRender&&(I.props.shouldReturnFocusAfterClose?(c.returnFocus(I.props.preventScroll),c.teardownScopedFocus()):c.popWithoutFocus()),I.props.onAfterClose&&I.props.onAfterClose(),k.default.deregister(I)},I.open=function(){I.beforeOpen(),I.state.afterOpen&&I.state.beforeClose?(clearTimeout(I.closeTimer),I.setState({beforeClose:!1})):(I.props.shouldFocusAfterRender&&(c.setupScopedFocus(I.node),c.markForFocusLater()),I.setState({isOpen:!0},function(){I.openAnimationFrame=requestAnimationFrame(function(){I.setState({afterOpen:!0}),I.props.isOpen&&I.props.onAfterOpen&&I.props.onAfterOpen({overlayEl:I.overlay,contentEl:I.content})})}))},I.close=function(){I.props.closeTimeoutMS>0?I.closeWithTimeout():I.closeWithoutTimeout()},I.focusContent=function(){return I.content&&!I.contentHasFocus()&&I.content.focus({preventScroll:!0})},I.closeWithTimeout=function(){var P=Date.now()+I.props.closeTimeoutMS;I.setState({beforeClose:!0,closesAt:P},function(){I.closeTimer=setTimeout(I.closeWithoutTimeout,I.state.closesAt-Date.now())})},I.closeWithoutTimeout=function(){I.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},I.afterClose)},I.handleKeyDown=function(P){j(P)&&(0,h.default)(I.content,P),I.props.shouldCloseOnEsc&&se(P)&&(P.stopPropagation(),I.requestClose(P))},I.handleOverlayOnClick=function(P){I.shouldClose===null&&(I.shouldClose=!0),I.shouldClose&&I.props.shouldCloseOnOverlayClick&&(I.ownerHandlesClose()?I.requestClose(P):I.focusContent()),I.shouldClose=null},I.handleContentOnMouseUp=function(){I.shouldClose=!1},I.handleOverlayOnMouseDown=function(P){!I.props.shouldCloseOnOverlayClick&&P.target==I.overlay&&P.preventDefault()},I.handleContentOnClick=function(){I.shouldClose=!1},I.handleContentOnMouseDown=function(){I.shouldClose=!1},I.requestClose=function(P){return I.ownerHandlesClose()&&I.props.onRequestClose(P)},I.ownerHandlesClose=function(){return I.props.onRequestClose},I.shouldBeClosed=function(){return!I.state.isOpen&&!I.state.beforeClose},I.contentHasFocus=function(){return document.activeElement===I.content||I.content.contains(document.activeElement)},I.buildClassName=function(P,B){var W=(typeof B=="undefined"?"undefined":r(B))==="object"?B:{base:$[P],afterOpen:$[P]+"--after-open",beforeClose:$[P]+"--before-close"},K=W.base;return I.state.afterOpen&&(K=K+" "+W.afterOpen),I.state.beforeClose&&(K=K+" "+W.beforeClose),typeof B=="string"&&B?K+" "+B:K},I.attributesFromObject=function(P,B){return Object.keys(B).reduce(function(W,K){return W[P+"-"+K]=B[K],W},{})},I.state={afterOpen:!1,beforeClose:!1},I.shouldClose=null,I.moveFromContentToOverlay=null,I}return i(H,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(I,P){this.props.isOpen&&!I.isOpen?this.open():!this.props.isOpen&&I.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!P.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var I=this.props,P=I.appElement,B=I.ariaHideApp,W=I.htmlOpenClassName,K=I.bodyOpenClassName,ae=I.parentSelector,$e=ae&&ae().ownerDocument||document;K&&g.add($e.body,K),W&&g.add($e.getElementsByTagName("html")[0],W),B&&(ne+=1,p.hide(P)),k.default.register(this)}},{key:"render",value:function(){var I=this.props,P=I.id,B=I.className,W=I.overlayClassName,K=I.defaultStyles,ae=I.children,$e=B?{}:K.content,Ae=W?{}:K.overlay;if(this.shouldBeClosed())return null;var qn={ref:this.setOverlayRef,className:this.buildClassName("overlay",W),style:n({},Ae,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},en=n({id:P,ref:this.setContentRef,style:n({},$e,this.props.style.content),className:this.buildClassName("content",B),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Cr=this.props.contentElement(en,ae);return this.props.overlayElement(qn,Cr)}}]),H}(o.Component);oe.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},oe.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(v.default),a.default.instanceOf(C.SafeHTMLCollection),a.default.instanceOf(C.SafeNodeList),a.default.arrayOf(a.default.instanceOf(v.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},t.default=oe,e.exports=t.default})(xy,xy.exports);function eI(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function tI(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r!=null?r:null}this.setState(t.bind(this))}function nI(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}eI.__suppressDeprecationWarning=!0;tI.__suppressDeprecationWarning=!0;nI.__suppressDeprecationWarning=!0;function b6(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,i=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var o=e.displayName||e.name,s=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=eI,t.componentWillReceiveProps=tI),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=nI;var a=t.componentDidUpdate;t.componentDidUpdate=function(c,f,h){var d=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:h;a.call(this,c,f,d)}}return e}var _6=Object.freeze(Object.defineProperty({__proto__:null,polyfill:b6},Symbol.toStringTag,{value:"Module"})),I6=TI(_6);Object.defineProperty(Ro,"__esModule",{value:!0});Ro.bodyOpenClassName=Ro.portalClassName=void 0;var ZS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P6=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),rI=O.exports,Vh=Wf(rI),R6=Fp.exports,Wh=Wf(R6),M6=Vf.exports,te=Wf(M6),O6=xy.exports,ek=Wf(O6),T6=bn,N6=$6(T6),ri=En,tk=Wf(ri),L6=I6;function $6(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Wf(e){return e&&e.__esModule?e:{default:e}}function A6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nk(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function H6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var z6=Ro.portalClassName="ReactModalPortal",F6=Ro.bodyOpenClassName="ReactModal__Body--open",Ti=ri.canUseDOM&&Wh.default.createPortal!==void 0,rk=function(t){return document.createElement(t)},ik=function(){return Ti?Wh.default.createPortal:Wh.default.unstable_renderSubtreeIntoContainer};function gd(e){return e()}var Gf=function(e){H6(t,e);function t(){var n,r,i,o;A6(this,t);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=nk(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(a))),i),i.removePortal=function(){!Ti&&Wh.default.unmountComponentAtNode(i.node);var c=gd(i.props.parentSelector);c&&c.contains(i.node)?c.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(c){i.portal=c},i.renderPortal=function(c){var f=ik(),h=f(i,Vh.default.createElement(ek.default,ZS({defaultStyles:t.defaultStyles},c)),i.node);i.portalRef(h)},r),nk(i,o)}return P6(t,[{key:"componentDidMount",value:function(){if(!!ri.canUseDOM){Ti||(this.node=rk("div")),this.node.className=this.props.portalClassName;var r=gd(this.props.parentSelector);r.appendChild(this.node),!Ti&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var i=gd(r.parentSelector),o=gd(this.props.parentSelector);return{prevParent:i,nextParent:o}}},{key:"componentDidUpdate",value:function(r,i,o){if(!!ri.canUseDOM){var s=this.props,a=s.isOpen,l=s.portalClassName;r.portalClassName!==l&&(this.node.className=l);var c=o.prevParent,f=o.nextParent;f!==c&&(c.removeChild(this.node),f.appendChild(this.node)),!(!r.isOpen&&!a)&&!Ti&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!ri.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,i=Date.now(),o=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||i+this.props.closeTimeoutMS);o?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,o-i)):this.removePortal()}}},{key:"render",value:function(){if(!ri.canUseDOM||!Ti)return null;!this.node&&Ti&&(this.node=rk("div"));var r=ik();return r(Vh.default.createElement(ek.default,ZS({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){N6.setElement(r)}}]),t}(rI.Component);Gf.propTypes={isOpen:te.default.bool.isRequired,style:te.default.shape({content:te.default.object,overlay:te.default.object}),portalClassName:te.default.string,bodyOpenClassName:te.default.string,htmlOpenClassName:te.default.string,className:te.default.oneOfType([te.default.string,te.default.shape({base:te.default.string.isRequired,afterOpen:te.default.string.isRequired,beforeClose:te.default.string.isRequired})]),overlayClassName:te.default.oneOfType([te.default.string,te.default.shape({base:te.default.string.isRequired,afterOpen:te.default.string.isRequired,beforeClose:te.default.string.isRequired})]),appElement:te.default.oneOfType([te.default.instanceOf(tk.default),te.default.instanceOf(ri.SafeHTMLCollection),te.default.instanceOf(ri.SafeNodeList),te.default.arrayOf(te.default.instanceOf(tk.default))]),onAfterOpen:te.default.func,onRequestClose:te.default.func,closeTimeoutMS:te.default.number,ariaHideApp:te.default.bool,shouldFocusAfterRender:te.default.bool,shouldCloseOnOverlayClick:te.default.bool,shouldReturnFocusAfterClose:te.default.bool,preventScroll:te.default.bool,parentSelector:te.default.func,aria:te.default.object,data:te.default.object,role:te.default.string,contentLabel:te.default.string,shouldCloseOnEsc:te.default.bool,overlayRef:te.default.func,contentRef:te.default.func,id:te.default.string,overlayElement:te.default.func,contentElement:te.default.func};Gf.defaultProps={isOpen:!1,portalClassName:z6,bodyOpenClassName:F6,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(t,n){return Vh.default.createElement("div",t,n)},contentElement:function(t,n){return Vh.default.createElement("div",t,n)}};Gf.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,L6.polyfill)(Gf);Ro.default=Gf;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Ro,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}t.default=r.default,e.exports=t.default})(Cy,Cy.exports);var j6=OI(Cy.exports),gm={},iI={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},U6=iI;function oI(e){this.mode=U6.MODE_8BIT_BYTE,this.data=e}oI.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var B6=oI,sI={L:1,M:0,Q:3,H:2},yd=sI;function Un(e,t){this.totalCount=e,this.dataCount=t}Un.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Un.getRSBlocks=function(e,t){var n=Un.getRsBlockTable(e,t);if(n==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,i=new Array,o=0;o<r;o++)for(var s=n[o*3+0],a=n[o*3+1],l=n[o*3+2],c=0;c<s;c++)i.push(new Un(a,l));return i};Un.getRsBlockTable=function(e,t){switch(t){case yd.L:return Un.RS_BLOCK_TABLE[(e-1)*4+0];case yd.M:return Un.RS_BLOCK_TABLE[(e-1)*4+1];case yd.Q:return Un.RS_BLOCK_TABLE[(e-1)*4+2];case yd.H:return Un.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var V6=Un;function aI(){this.buffer=new Array,this.length=0}aI.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var n=0;n<t;n++)this.putBit((e>>>t-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var W6=aI,vn={glog:function(e){if(e<1)throw new Error("glog("+e+")");return vn.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return vn.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var et=0;et<8;et++)vn.EXP_TABLE[et]=1<<et;for(var et=8;et<256;et++)vn.EXP_TABLE[et]=vn.EXP_TABLE[et-4]^vn.EXP_TABLE[et-5]^vn.EXP_TABLE[et-6]^vn.EXP_TABLE[et-8];for(var et=0;et<255;et++)vn.LOG_TABLE[vn.EXP_TABLE[et]]=et;var lI=vn,Ii=lI;function rh(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&e[n]==0;)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}rh.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<e.getLength();r++)t[n+r]^=Ii.gexp(Ii.glog(this.get(n))+Ii.glog(e.get(r)));return new rh(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=Ii.glog(this.get(0))-Ii.glog(e.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(var r=0;r<e.getLength();r++)n[r]^=Ii.gexp(Ii.glog(e.get(r))+t);return new rh(n,0).mod(e)}};var uI=rh,zt=iI,ok=uI,G6=lI,Ir={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ye={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(e){for(var t=e<<10;Ye.getBCHDigit(t)-Ye.getBCHDigit(Ye.G15)>=0;)t^=Ye.G15<<Ye.getBCHDigit(t)-Ye.getBCHDigit(Ye.G15);return(e<<10|t)^Ye.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Ye.getBCHDigit(t)-Ye.getBCHDigit(Ye.G18)>=0;)t^=Ye.G18<<Ye.getBCHDigit(t)-Ye.getBCHDigit(Ye.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Ye.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case Ir.PATTERN000:return(t+n)%2==0;case Ir.PATTERN001:return t%2==0;case Ir.PATTERN010:return n%3==0;case Ir.PATTERN011:return(t+n)%3==0;case Ir.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case Ir.PATTERN101:return t*n%2+t*n%3==0;case Ir.PATTERN110:return(t*n%2+t*n%3)%2==0;case Ir.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new ok([1],0),n=0;n<e;n++)t=t.multiply(new ok([1,G6.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case zt.MODE_NUMBER:return 10;case zt.MODE_ALPHA_NUM:return 9;case zt.MODE_8BIT_BYTE:return 8;case zt.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case zt.MODE_NUMBER:return 12;case zt.MODE_ALPHA_NUM:return 11;case zt.MODE_8BIT_BYTE:return 16;case zt.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case zt.MODE_NUMBER:return 14;case zt.MODE_ALPHA_NUM:return 13;case zt.MODE_8BIT_BYTE:return 16;case zt.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var i=0;i<t;i++){for(var o=0,s=e.isDark(r,i),a=-1;a<=1;a++)if(!(r+a<0||t<=r+a))for(var l=-1;l<=1;l++)i+l<0||t<=i+l||a==0&&l==0||s==e.isDark(r+a,i+l)&&o++;o>5&&(n+=3+o-5)}for(var r=0;r<t-1;r++)for(var i=0;i<t-1;i++){var c=0;e.isDark(r,i)&&c++,e.isDark(r+1,i)&&c++,e.isDark(r,i+1)&&c++,e.isDark(r+1,i+1)&&c++,(c==0||c==4)&&(n+=3)}for(var r=0;r<t;r++)for(var i=0;i<t-6;i++)e.isDark(r,i)&&!e.isDark(r,i+1)&&e.isDark(r,i+2)&&e.isDark(r,i+3)&&e.isDark(r,i+4)&&!e.isDark(r,i+5)&&e.isDark(r,i+6)&&(n+=40);for(var i=0;i<t;i++)for(var r=0;r<t-6;r++)e.isDark(r,i)&&!e.isDark(r+1,i)&&e.isDark(r+2,i)&&e.isDark(r+3,i)&&e.isDark(r+4,i)&&!e.isDark(r+5,i)&&e.isDark(r+6,i)&&(n+=40);for(var f=0,i=0;i<t;i++)for(var r=0;r<t;r++)e.isDark(r,i)&&f++;var h=Math.abs(100*f/t/t-50)/5;return n+=h*10,n}},Q6=Ye,K6=B6,cI=V6,fI=W6,xi=Q6,q6=uI;function Bn(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var Ht=Bn.prototype;Ht.addData=function(e){var t=new K6(e);this.dataList.push(t),this.dataCache=null};Ht.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};Ht.getModuleCount=function(){return this.moduleCount};Ht.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=cI.getRSBlocks(e,this.errorCorrectLevel),n=new fI,r=0,i=0;i<t.length;i++)r+=t[i].dataCount;for(var i=0;i<this.dataList.length;i++){var o=this.dataList[i];n.put(o.mode,4),n.put(o.getLength(),xi.getLengthInBits(o.mode,e)),o.write(n)}if(n.getLengthInBits()<=r*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};Ht.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=Bn.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};Ht.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(0<=n&&n<=6&&(r==0||r==6)||0<=r&&r<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=r&&r<=4?this.modules[e+n][t+r]=!0:this.modules[e+n][t+r]=!1)};Ht.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=xi.getLostPoint(this);(n==0||e>r)&&(e=r,t=n)}return t};Ht.createMovieClip=function(e,t,n){var r=e.createEmptyMovieClip(t,n),i=1;this.make();for(var o=0;o<this.modules.length;o++)for(var s=o*i,a=0;a<this.modules[o].length;a++){var l=a*i,c=this.modules[o][a];c&&(r.beginFill(0,100),r.moveTo(l,s),r.lineTo(l+i,s),r.lineTo(l+i,s+i),r.lineTo(l,s+i),r.endFill())}return r};Ht.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};Ht.setupPositionAdjustPattern=function(){for(var e=xi.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],i=e[n];if(this.modules[r][i]==null)for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)o==-2||o==2||s==-2||s==2||o==0&&s==0?this.modules[r+o][i+s]=!0:this.modules[r+o][i+s]=!1}};Ht.setupTypeNumber=function(e){for(var t=xi.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}};Ht.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=xi.getBCHTypeInfo(n),i=0;i<15;i++){var o=!e&&(r>>i&1)==1;i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(var i=0;i<15;i++){var o=!e&&(r>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=o:i<9?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o}this.modules[this.moduleCount-8][8]=!e};Ht.mapData=function(e,t){for(var n=-1,r=this.moduleCount-1,i=7,o=0,s=this.moduleCount-1;s>0;s-=2)for(s==6&&s--;;){for(var a=0;a<2;a++)if(this.modules[r][s-a]==null){var l=!1;o<e.length&&(l=(e[o]>>>i&1)==1);var c=xi.getMask(t,r,s-a);c&&(l=!l),this.modules[r][s-a]=l,i--,i==-1&&(o++,i=7)}if(r+=n,r<0||this.moduleCount<=r){r-=n,n=-n;break}}};Bn.PAD0=236;Bn.PAD1=17;Bn.createData=function(e,t,n){for(var r=cI.getRSBlocks(e,t),i=new fI,o=0;o<n.length;o++){var s=n[o];i.put(s.mode,4),i.put(s.getLength(),xi.getLengthInBits(s.mode,e)),s.write(i)}for(var a=0,o=0;o<r.length;o++)a+=r[o].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(Bn.PAD0,8),i.getLengthInBits()>=a*8));)i.put(Bn.PAD1,8);return Bn.createBytes(i,r)};Bn.createBytes=function(e,t){for(var n=0,r=0,i=0,o=new Array(t.length),s=new Array(t.length),a=0;a<t.length;a++){var l=t[a].dataCount,c=t[a].totalCount-l;r=Math.max(r,l),i=Math.max(i,c),o[a]=new Array(l);for(var f=0;f<o[a].length;f++)o[a][f]=255&e.buffer[f+n];n+=l;var h=xi.getErrorCorrectPolynomial(c),d=new q6(o[a],h.getLength()-1),p=d.mod(h);s[a]=new Array(h.getLength()-1);for(var f=0;f<s[a].length;f++){var w=f+p.getLength()-s[a].length;s[a][f]=w>=0?p.get(w):0}}for(var g=0,f=0;f<t.length;f++)g+=t[f].totalCount;for(var C=new Array(g),v=0,f=0;f<r;f++)for(var a=0;a<t.length;a++)f<o[a].length&&(C[v++]=o[a][f]);for(var f=0;f<i;f++)for(var a=0;a<t.length;a++)f<s[a].length&&(C[v++]=s[a][f]);return C};var J6=Bn,cw={};Object.defineProperty(cw,"__esModule",{value:!0});var Y6=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X6=Vf.exports,Ft=hI(X6),dI=O.exports,wd=hI(dI);function hI(e){return e&&e.__esModule?e:{default:e}}function Z6(e,t){var n={};for(var r in e)t.indexOf(r)>=0||!Object.prototype.hasOwnProperty.call(e,r)||(n[r]=e[r]);return n}var e2={bgColor:Ft.default.oneOfType([Ft.default.object,Ft.default.string]).isRequired,bgD:Ft.default.string.isRequired,fgColor:Ft.default.oneOfType([Ft.default.object,Ft.default.string]).isRequired,fgD:Ft.default.string.isRequired,size:Ft.default.number.isRequired,title:Ft.default.string,viewBoxSize:Ft.default.number.isRequired,xmlns:Ft.default.string},t2={title:void 0,xmlns:"http://www.w3.org/2000/svg"},ym=(0,dI.forwardRef)(function(e,t){var n=e.bgColor,r=e.bgD,i=e.fgD,o=e.fgColor,s=e.size,a=e.title,l=e.viewBoxSize,c=Z6(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize"]);return wd.default.createElement("svg",Y6({},c,{height:s,ref:t,viewBox:"0 0 "+l+" "+l,width:s}),a?wd.default.createElement("title",null,a):null,wd.default.createElement("path",{d:r,fill:n}),wd.default.createElement("path",{d:i,fill:o}))});ym.displayName="QRCodeSvg";ym.propTypes=e2;ym.defaultProps=t2;cw.default=ym;Object.defineProperty(gm,"__esModule",{value:!0});gm.QRCode=void 0;var n2=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r2=J6,i2=Qf(r2),o2=sI,s2=Qf(o2),a2=Vf.exports,Yn=Qf(a2),pI=O.exports,l2=Qf(pI),u2=cw,c2=Qf(u2);function Qf(e){return e&&e.__esModule?e:{default:e}}function f2(e,t){var n={};for(var r in e)t.indexOf(r)>=0||!Object.prototype.hasOwnProperty.call(e,r)||(n[r]=e[r]);return n}var d2={bgColor:Yn.default.oneOfType([Yn.default.object,Yn.default.string]),fgColor:Yn.default.oneOfType([Yn.default.object,Yn.default.string]),level:Yn.default.string,size:Yn.default.number,value:Yn.default.string.isRequired},h2={bgColor:"#FFFFFF",fgColor:"#000000",level:"L",size:256},Kf=(0,pI.forwardRef)(function(e,t){var n=e.bgColor,r=e.fgColor,i=e.level,o=e.size,s=e.value,a=f2(e,["bgColor","fgColor","level","size","value"]),l=new i2.default(-1,s2.default[i]);l.addData(s),l.make();var c=l.modules;return l2.default.createElement(c2.default,n2({},a,{bgColor:n,bgD:c.map(function(f,h){return f.map(function(d,p){return d?"":"M "+p+" "+h+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:r,fgD:c.map(function(f,h){return f.map(function(d,p){return d?"M "+p+" "+h+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:o,viewBoxSize:c.length}))});gm.QRCode=Kf;Kf.displayName="QRCode";Kf.propTypes=d2;Kf.defaultProps=h2;var p2=gm.default=Kf;const m2={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},v2=()=>{const[e,t]=O.exports.useState({hostCode:"1234",nrOfTeams:2,nrOfQuestions:10,countPoints:!0,oneAnswerPerQuestion:!0}),[n,r]=O.exports.useState(null),[i,o]=O.exports.useState(!1),[s,a]=O.exports.useState(!1);O.exports.useEffect(()=>{i&&n.mutate.createGame({id:e.hostCode,nrOfTeams:e.nrOfTeams,nrOfQuestions:e.nrOfQuestions,countPoints:e.countPoints,oneAnswerPerQuestion:e.oneAnswerPerQuestion})},[n]);const l=p=>{const{name:w,value:g}=p.target;t(C=>({...C,[w]:g}))},c=p=>{const{name:w,checked:g}=p.target;t(C=>({...C,[w]:g}))},f=p=>{if(p.preventDefault(),e.hostCode){const w=new m_({roomID:e.hostCode,userID:"host",server:"https://refle-dsterna.reflect-server.net/",mutators:M_});r(w),o(!0)}};function h(){a(!0)}function d(){a(!1)}return ye(ft,{children:[ye("form",{onSubmit:f,children:[N("label",{htmlFor:"hostCode",children:"JoinCode:"}),N("input",{type:"text",id:"hostCode",name:"hostCode",value:e.hostCode,onChange:l}),N("br",{}),N("label",{htmlFor:"nrOfTeams",children:"Antal lag"}),N("input",{type:"number",id:"nrOfTeams",name:"nrOfTeams",value:e.nrOfTeams,onChange:l}),N("br",{}),N("label",{htmlFor:"nrOfQuestions",children:"Antal fr\xE5gor"}),N("input",{type:"number",id:"nrOfQuestions",name:"nrOfQuestions",value:e.nrOfQuestions,onChange:l}),N("br",{}),ye("ul",{children:[N("label",{htmlFor:"countPoints",children:"R\xE4kna po\xE4ng"}),N("input",{id:"countPoints",name:"countPoints",type:"checkbox",checked:e.countPoints,onChange:c}),N("br",{}),N("label",{htmlFor:"oneAnswerPerQuestion",children:"En chans per fr\xE5ga"}),N("input",{id:"oneAnswerPerQuestion",name:"oneAnswerPerQuestion",type:"checkbox",checked:e.oneAnswerPerQuestion,onChange:c})]}),N("button",{type:"submit",children:"Skapa spel"})]}),N("br",{}),N("br",{}),N(j6,{isOpen:s,onRequestClose:d,contentLabel:"Example Modal",style:m2,children:N(p2,{value:`https://dsterna.github.io/buzz/#/join/${e.hostCode}`})}),N("button",{onClick:h,children:"visa qrKod"}),N("br",{}),n&&N(K_,{reflect:n,isHost:!0})]})},g2=()=>{const e=d4(Eg(ye(ft,{children:[N(Od,{path:"/",element:N(NA,{})}),N(Od,{path:"/join/:code?",element:N(TA,{})}),N(Od,{path:"/host",element:N(v2,{})})]})));return N("div",{children:N("header",{className:"App-header",children:N(S4,{router:e})})})};Dv.createRoot(document.getElementById("root")).render(N(g2,{}));
